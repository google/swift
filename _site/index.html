<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Swift Style Guide ä¸­æ–‡ç‰ˆ</title>
  <meta name="description" content="Google's Swift style guide.
">

  <link rel="stylesheet" href="/google-swift-style-guide-in-chinese/css/main.css">
  <link rel="canonical" href="http://stage.swift.gg/google-swift-style-guide-in-chinese//google-swift-style-guide-in-chinese/">
  <link rel="alternate" type="application/rss+xml" title="Google Swift Style Guide ä¸­æ–‡ç‰ˆ" href="http://stage.swift.gg/google-swift-style-guide-in-chinese//google-swift-style-guide-in-chinese/feed.xml">
</head>


<body>

  <main role="main">
    <article class="page">
  <header>
    <h1>Swift Style Guide ä¸­æ–‡ç‰ˆ</h1>
  </header>
  <!--  -->
<style>
article pre {
    overflow: visible;
}
</style>

<p>This style guide is based on Appleâ€™s excellent Swift standard library style and
also incorporates feedback from usage across multiple Swift projects within
Google. It is a living document and the basis upon which the formatter is
implemented.</p>

<p>è¿™ä»½ä»£ç é£æ ¼æŒ‡å—æ˜¯åŸºäºä¼˜ç§€çš„ Apple Swift æ ‡å‡†åº“ä»£ç é£æ ¼ï¼Œå¹¶å¸å–äº†å¤šä¸ª Google å†…éƒ¨ Swift é¡¹ç›®çš„ä½¿ç”¨åé¦ˆè€Œæˆã€‚æœ¬æ–‡æ¡£ä¼šä¿æŒæ›´æ–°ï¼Œå¹¶ä¸”å·²ç»åŸºäºæœ¬æ–‡æ¡£å®ç°äº†æ ¼å¼åŒ–å·¥å…·ã€‚</p>

<h2 class="no_toc" id="ç›®å½•table-of-contents">ç›®å½•/Table of Contents</h2>

<ul id="markdown-toc">
  <li><a href="#æºæ–‡ä»¶åŸºç¡€source-file-basics" id="markdown-toc-æºæ–‡ä»¶åŸºç¡€source-file-basics">æºæ–‡ä»¶åŸºç¡€/Source File Basics</a>    <ul>
      <li><a href="#æ–‡ä»¶åfile-names" id="markdown-toc-æ–‡ä»¶åfile-names">æ–‡ä»¶å/File Names</a></li>
      <li><a href="#æ–‡ä»¶ç¼–ç file-encoding" id="markdown-toc-æ–‡ä»¶ç¼–ç file-encoding">æ–‡ä»¶ç¼–ç /File Encoding</a></li>
      <li><a href="#ç©ºç™½ç¬¦whitespace-characters" id="markdown-toc-ç©ºç™½ç¬¦whitespace-characters">ç©ºç™½ç¬¦/Whitespace Characters</a></li>
      <li><a href="#ç‰¹æ®Šè½¬ä¹‰å­—ç¬¦special-escape-sequences" id="markdown-toc-ç‰¹æ®Šè½¬ä¹‰å­—ç¬¦special-escape-sequences">ç‰¹æ®Šè½¬ä¹‰å­—ç¬¦/Special Escape Sequences</a></li>
      <li><a href="#ä¸å¯è§å­—ç¬¦å’Œä¿®é¥°ç¬¦invisible-characters-and-modifiers" id="markdown-toc-ä¸å¯è§å­—ç¬¦å’Œä¿®é¥°ç¬¦invisible-characters-and-modifiers">ä¸å¯è§å­—ç¬¦å’Œä¿®é¥°ç¬¦/Invisible Characters and Modifiers</a></li>
      <li><a href="#å­—ç¬¦ä¸²å­—é¢é‡string-literals" id="markdown-toc-å­—ç¬¦ä¸²å­—é¢é‡string-literals">å­—ç¬¦ä¸²å­—é¢é‡/String Literals</a></li>
    </ul>
  </li>
  <li><a href="#æºæ–‡ä»¶ç»“æ„source-file-structure" id="markdown-toc-æºæ–‡ä»¶ç»“æ„source-file-structure">æºæ–‡ä»¶ç»“æ„/Source File Structure</a>    <ul>
      <li><a href="#æ–‡ä»¶æ³¨é‡Šfile-comments" id="markdown-toc-æ–‡ä»¶æ³¨é‡Šfile-comments">æ–‡ä»¶æ³¨é‡Š/File Comments</a></li>
      <li><a href="#å¯¼å…¥è¯­å¥import-statements" id="markdown-toc-å¯¼å…¥è¯­å¥import-statements">å¯¼å…¥è¯­å¥/Import Statements</a></li>
      <li><a href="#ç±»å‹å˜é‡å’Œå‡½æ•°å£°æ˜type-variable-and-function-declarations" id="markdown-toc-ç±»å‹å˜é‡å’Œå‡½æ•°å£°æ˜type-variable-and-function-declarations">ç±»å‹ï¼Œå˜é‡å’Œå‡½æ•°å£°æ˜/Type, Variable, and Function Declarations</a></li>
      <li><a href="#å£°æ˜é‡è½½overloaded-declarations" id="markdown-toc-å£°æ˜é‡è½½overloaded-declarations">å£°æ˜é‡è½½/Overloaded Declarations</a></li>
      <li><a href="#æ‰©å±•extensions" id="markdown-toc-æ‰©å±•extensions">æ‰©å±•/Extensions</a></li>
    </ul>
  </li>
  <li><a href="#å¸¸è§„æ ¼å¼general-formatting" id="markdown-toc-å¸¸è§„æ ¼å¼general-formatting">å¸¸è§„æ ¼å¼/General Formatting</a>    <ul>
      <li><a href="#å•è¡Œå­—ç¬¦é™åˆ¶column-limit" id="markdown-toc-å•è¡Œå­—ç¬¦é™åˆ¶column-limit">å•è¡Œå­—ç¬¦é™åˆ¶/Column Limit</a></li>
      <li><a href="#èŠ±æ‹¬å·braces" id="markdown-toc-èŠ±æ‹¬å·braces">èŠ±æ‹¬å·/Braces</a></li>
      <li><a href="#åˆ†å·semicolons" id="markdown-toc-åˆ†å·semicolons">åˆ†å·/Semicolons</a></li>
      <li><a href="#æ¯è¡Œä¸€ä¸ªè¯­å¥one-statement-per-line" id="markdown-toc-æ¯è¡Œä¸€ä¸ªè¯­å¥one-statement-per-line">æ¯è¡Œä¸€ä¸ªè¯­å¥/One Statement Per Line</a></li>
      <li><a href="#æ¢è¡Œline-wrapping" id="markdown-toc-æ¢è¡Œline-wrapping">æ¢è¡Œ/Line-Wrapping</a>        <ul>
          <li><a href="#å‡½æ•°å£°æ˜function-declarations" id="markdown-toc-å‡½æ•°å£°æ˜function-declarations">å‡½æ•°å£°æ˜/Function Declarations</a></li>
          <li><a href="#ç±»å‹å’Œæ‹“å±•å£°æ˜type-and-extension-declarations" id="markdown-toc-ç±»å‹å’Œæ‹“å±•å£°æ˜type-and-extension-declarations">ç±»å‹å’Œæ‹“å±•å£°æ˜/Type and Extension Declarations</a></li>
          <li><a href="#å‡½æ•°è°ƒç”¨function-calls" id="markdown-toc-å‡½æ•°è°ƒç”¨function-calls">å‡½æ•°è°ƒç”¨/Function Calls</a></li>
          <li><a href="#æ§åˆ¶æµè¯­å¥control-flow-statements" id="markdown-toc-æ§åˆ¶æµè¯­å¥control-flow-statements">æ§åˆ¶æµè¯­å¥/Control Flow Statements</a></li>
          <li><a href="#å…¶ä»–è¡¨è¾¾å¼other-expressions" id="markdown-toc-å…¶ä»–è¡¨è¾¾å¼other-expressions">å…¶ä»–è¡¨è¾¾å¼/Other Expressions</a></li>
        </ul>
      </li>
      <li><a href="#æ°´å¹³ç©ºæ ¼horizontal-whitespace" id="markdown-toc-æ°´å¹³ç©ºæ ¼horizontal-whitespace">æ°´å¹³ç©ºæ ¼/Horizontal Whitespace</a></li>
      <li><a href="#æ°´å¹³å¯¹é½horizontal-alignment" id="markdown-toc-æ°´å¹³å¯¹é½horizontal-alignment">æ°´å¹³å¯¹é½/Horizontal Alignment</a></li>
      <li><a href="#å‚ç›´ç©ºè¡Œvertical-whitespace" id="markdown-toc-å‚ç›´ç©ºè¡Œvertical-whitespace">å‚ç›´ç©ºè¡Œ/Vertical Whitespace</a></li>
      <li><a href="#æ‹¬å·parentheses" id="markdown-toc-æ‹¬å·parentheses">æ‹¬å·/Parentheses</a></li>
    </ul>
  </li>
  <li><a href="#ç‰¹å®šç»“æ„æ ¼å¼åŒ–formatting-specific-constructs" id="markdown-toc-ç‰¹å®šç»“æ„æ ¼å¼åŒ–formatting-specific-constructs">ç‰¹å®šç»“æ„æ ¼å¼åŒ–/Formatting Specific Constructs</a>    <ul>
      <li><a href="#éæ–‡æ¡£æ³¨é‡Šnon-documentation-comments" id="markdown-toc-éæ–‡æ¡£æ³¨é‡Šnon-documentation-comments">éæ–‡æ¡£æ³¨é‡Š/Non-Documentation Comments</a></li>
      <li><a href="#å±æ€§properties" id="markdown-toc-å±æ€§properties">å±æ€§/Properties</a></li>
      <li><a href="#switch-è¯­å¥switch-statements" id="markdown-toc-switch-è¯­å¥switch-statements">Switch è¯­å¥/Switch Statements</a></li>
      <li><a href="#æšä¸¾-caseenum-cases" id="markdown-toc-æšä¸¾-caseenum-cases">æšä¸¾ Case/Enum Cases</a></li>
      <li><a href="#å°¾éšé—­åŒ…trailing-closures" id="markdown-toc-å°¾éšé—­åŒ…trailing-closures">å°¾éšé—­åŒ…/Trailing Closures</a></li>
      <li><a href="#æœ«å°¾é€—å·trailing-commas" id="markdown-toc-æœ«å°¾é€—å·trailing-commas">æœ«å°¾é€—å·/Trailing Commas</a></li>
      <li><a href="#æ•°å­—å­—é¢é‡numeric-literals" id="markdown-toc-æ•°å­—å­—é¢é‡numeric-literals">æ•°å­—å­—é¢é‡/Numeric Literals</a></li>
      <li><a href="#æ³¨è§£attributes" id="markdown-toc-æ³¨è§£attributes">æ³¨è§£/Attributes</a></li>
    </ul>
  </li>
  <li><a href="#å‘½ånaming" id="markdown-toc-å‘½ånaming">å‘½å/Naming</a>    <ul>
      <li><a href="#apple-api-ä»£ç é£æ ¼æŒ‡å—apples-api-style-guidelines" id="markdown-toc-apple-api-ä»£ç é£æ ¼æŒ‡å—apples-api-style-guidelines">Apple API ä»£ç é£æ ¼æŒ‡å—/Appleâ€™s API Style Guidelines</a></li>
      <li><a href="#å‘½åçº¦å®šä¸æ¶‰åŠè®¿é—®æ§åˆ¶naming-conventions-are-not-access-control" id="markdown-toc-å‘½åçº¦å®šä¸æ¶‰åŠè®¿é—®æ§åˆ¶naming-conventions-are-not-access-control">å‘½åçº¦å®šä¸æ¶‰åŠè®¿é—®æ§åˆ¶/Naming Conventions Are Not Access Control</a></li>
      <li><a href="#æ ‡è¯†ç¬¦identifiers" id="markdown-toc-æ ‡è¯†ç¬¦identifiers">æ ‡è¯†ç¬¦/Identifiers</a></li>
      <li><a href="#æ„é€ å™¨initializers" id="markdown-toc-æ„é€ å™¨initializers">æ„é€ å™¨/Initializers</a></li>
      <li><a href="#é™æ€å±æ€§å’Œç±»å±æ€§static-and-class-properties" id="markdown-toc-é™æ€å±æ€§å’Œç±»å±æ€§static-and-class-properties">é™æ€å±æ€§å’Œç±»å±æ€§/Static and Class Properties</a></li>
      <li><a href="#å…¨å±€å¸¸é‡global-constants" id="markdown-toc-å…¨å±€å¸¸é‡global-constants">å…¨å±€å¸¸é‡/Global Constants</a></li>
      <li><a href="#ä»£ç†æ–¹æ³•delegate-methods" id="markdown-toc-ä»£ç†æ–¹æ³•delegate-methods">ä»£ç†æ–¹æ³•/Delegate Methods</a></li>
    </ul>
  </li>
  <li><a href="#ç¼–ç¨‹å®è·µprogramming-practices" id="markdown-toc-ç¼–ç¨‹å®è·µprogramming-practices">ç¼–ç¨‹å®è·µ/Programming Practices</a>    <ul>
      <li><a href="#ç¼–è¯‘å™¨è­¦å‘Šcompiler-warnings" id="markdown-toc-ç¼–è¯‘å™¨è­¦å‘Šcompiler-warnings">ç¼–è¯‘å™¨è­¦å‘Š/Compiler Warnings</a></li>
      <li><a href="#æ„é€ å™¨initializers-1" id="markdown-toc-æ„é€ å™¨initializers-1">æ„é€ å™¨/Initializers</a></li>
      <li><a href="#å±æ€§properties-1" id="markdown-toc-å±æ€§properties-1">å±æ€§/Properties</a></li>
      <li><a href="#ç±»å‹ç®€ç§°types-with-shorthand-names" id="markdown-toc-ç±»å‹ç®€ç§°types-with-shorthand-names">ç±»å‹ç®€ç§°/Types with Shorthand Names</a></li>
      <li><a href="#å¯é€‰ç±»å‹optional-types" id="markdown-toc-å¯é€‰ç±»å‹optional-types">å¯é€‰ç±»å‹/Optional Types</a></li>
      <li><a href="#é”™è¯¯ç±»å‹error-types" id="markdown-toc-é”™è¯¯ç±»å‹error-types">é”™è¯¯ç±»å‹/Error Types</a></li>
      <li><a href="#å¼ºåˆ¶è§£åŒ…å’Œå¼ºåˆ¶æ“¦é™¤force-unwrapping-and-force-casts" id="markdown-toc-å¼ºåˆ¶è§£åŒ…å’Œå¼ºåˆ¶æ“¦é™¤force-unwrapping-and-force-casts">å¼ºåˆ¶è§£åŒ…å’Œå¼ºåˆ¶æ“¦é™¤/Force Unwrapping and Force Casts</a></li>
      <li><a href="#å¯é€‰å€¼éšå¼è§£åŒ…implicitly-unwrapped-optionals" id="markdown-toc-å¯é€‰å€¼éšå¼è§£åŒ…implicitly-unwrapped-optionals">å¯é€‰å€¼éšå¼è§£åŒ…/Implicitly Unwrapped Optionals</a></li>
      <li><a href="#è®¿é—®ç­‰çº§access-levels" id="markdown-toc-è®¿é—®ç­‰çº§access-levels">è®¿é—®ç­‰çº§/Access Levels</a></li>
      <li><a href="#åµŒå¥—å’Œå‘½åç©ºé—´nesting-and-namespacing" id="markdown-toc-åµŒå¥—å’Œå‘½åç©ºé—´nesting-and-namespacing">åµŒå¥—å’Œå‘½åç©ºé—´/Nesting and Namespacing</a></li>
      <li><a href="#æå‰é€€å‡ºçš„-guardguards-for-early-exits" id="markdown-toc-æå‰é€€å‡ºçš„-guardguards-for-early-exits">æå‰é€€å‡ºçš„ <code class="highlighter-rouge">guard</code>/<code class="highlighter-rouge">guard</code>s for Early Exits</a></li>
      <li><a href="#for-where-å¾ªç¯for-where-loops" id="markdown-toc-for-where-å¾ªç¯for-where-loops"><code class="highlighter-rouge">for</code>-<code class="highlighter-rouge">where</code> å¾ªç¯/<code class="highlighter-rouge">for</code>-<code class="highlighter-rouge">where</code> Loops</a></li>
      <li><a href="#åœ¨-switch-è¯­å¥é‡Œçš„-fallthrough-fallthrough-in-switch-statements" id="markdown-toc-åœ¨-switch-è¯­å¥é‡Œçš„-fallthrough-fallthrough-in-switch-statements">åœ¨ <code class="highlighter-rouge">switch</code> è¯­å¥é‡Œçš„ <code class="highlighter-rouge">fallthrough</code>/ <code class="highlighter-rouge">fallthrough</code> in <code class="highlighter-rouge">switch</code> Statements</a></li>
      <li><a href="#æ¨¡å¼åŒ¹é…pattern-matching" id="markdown-toc-æ¨¡å¼åŒ¹é…pattern-matching">æ¨¡å¼åŒ¹é…/Pattern Matching</a></li>
      <li><a href="#å…ƒç»„æ¨¡å¼tuple-patterns" id="markdown-toc-å…ƒç»„æ¨¡å¼tuple-patterns">å…ƒç»„æ¨¡å¼/Tuple Patterns</a></li>
      <li><a href="#æ•°å­—å’Œå­—ç¬¦ä¸²å­—é¢é‡numeric-and-string-literals" id="markdown-toc-æ•°å­—å’Œå­—ç¬¦ä¸²å­—é¢é‡numeric-and-string-literals">æ•°å­—å’Œå­—ç¬¦ä¸²å­—é¢é‡/Numeric and String Literals</a></li>
      <li><a href="#playground-å­—é¢é‡playground-literals" id="markdown-toc-playground-å­—é¢é‡playground-literals">Playground å­—é¢é‡/Playground Literals</a></li>
      <li><a href="#æ•è·æº¢å‡ºè¿ç®—trapping-vs-overflowing-arithmetic" id="markdown-toc-æ•è·æº¢å‡ºè¿ç®—trapping-vs-overflowing-arithmetic">æ•è·æº¢å‡ºè¿ç®—/Trapping vs. Overflowing Arithmetic</a></li>
      <li><a href="#å®šä¹‰æ–°è¿ç®—ç¬¦defining-new-operators" id="markdown-toc-å®šä¹‰æ–°è¿ç®—ç¬¦defining-new-operators">å®šä¹‰æ–°è¿ç®—ç¬¦/Defining New Operators</a></li>
      <li><a href="#é‡è½½å·²å­˜åœ¨è¿ç®—ç¬¦overloading-existing-operators" id="markdown-toc-é‡è½½å·²å­˜åœ¨è¿ç®—ç¬¦overloading-existing-operators">é‡è½½å·²å­˜åœ¨è¿ç®—ç¬¦/Overloading Existing Operators</a></li>
    </ul>
  </li>
  <li><a href="#æ–‡æ¡£æ³¨é‡Šdocumentation-comments" id="markdown-toc-æ–‡æ¡£æ³¨é‡Šdocumentation-comments">æ–‡æ¡£æ³¨é‡Š/Documentation Comments</a>    <ul>
      <li><a href="#é€šå¸¸æ ¼å¼general-format" id="markdown-toc-é€šå¸¸æ ¼å¼general-format">é€šå¸¸æ ¼å¼/General Format</a></li>
      <li><a href="#ä¸€å¥è¯æ¦‚æ‹¬single-sentence-summary" id="markdown-toc-ä¸€å¥è¯æ¦‚æ‹¬single-sentence-summary">ä¸€å¥è¯æ¦‚æ‹¬/Single-Sentence Summary</a></li>
      <li><a href="#å½¢å‚è¿”å›å€¼å’ŒæŠ›å‡ºæ ‡ç­¾parameter-returns-and-throws-tags" id="markdown-toc-å½¢å‚è¿”å›å€¼å’ŒæŠ›å‡ºæ ‡ç­¾parameter-returns-and-throws-tags">å½¢å‚ï¼Œè¿”å›å€¼å’ŒæŠ›å‡ºæ ‡ç­¾/Parameter, Returns, and Throws Tags</a></li>
      <li><a href="#apple-æ ‡è®°æ ¼å¼apples-markup-format" id="markdown-toc-apple-æ ‡è®°æ ¼å¼apples-markup-format">Apple æ ‡è®°æ ¼å¼/Appleâ€™s Markup Format</a></li>
      <li><a href="#æ³¨é‡Šçš„ä½ç½®where-to-document" id="markdown-toc-æ³¨é‡Šçš„ä½ç½®where-to-document">æ³¨é‡Šçš„ä½ç½®/Where to Document</a></li>
    </ul>
  </li>
</ul>
<h2 id="æºæ–‡ä»¶åŸºç¡€source-file-basics">æºæ–‡ä»¶åŸºç¡€/Source File Basics</h2>

<h3 id="æ–‡ä»¶åfile-names">æ–‡ä»¶å/File Names</h3>

<p>All Swift source files end with the extension <code class="highlighter-rouge">.swift</code>.</p>

<p>æ‰€æœ‰ Swift æºæ–‡ä»¶ä»¥æ‰©å±•å <code class="highlighter-rouge">.swift</code> ç»“å°¾ã€‚</p>

<p>In general, the name of a source file best describes the primary entity that it
contains. A file that primarily contains a single type has the name of that
type. A file that extends an existing type with protocol conformance is named
with a combination of the type name and the protocol name, joined with a plus
(<code class="highlighter-rouge">+</code>) sign. For more complex situations, exercise your best judgment.</p>

<p>é€šå¸¸æ¥è¯´ï¼Œæºæ–‡ä»¶çš„åå­—æœ€å¥½æè¿°çš„æ˜¯åŒ…å«çš„ä¸»è¦å†…å®¹ã€‚æ–‡ä»¶ä¸»è¦åŒ…å«å•ä¸ªç±»å‹åˆ™å‘½åä¸ºè¯¥ç±»å‹åå­—ã€‚æ–‡ä»¶åŒ…å«ä¸ºå·²å­˜åœ¨ç±»å‹æ·»åŠ åè®®éµå¾ªçš„æ‹“å±•åˆ™å‘½åä¸ºç±»åå’Œåè®®åçš„ç»„åˆï¼Œé€šè¿‡åŠ å·ï¼ˆ+ï¼‰è¿æ¥ã€‚å¯¹äºæ›´å¤æ‚çš„æƒ…å†µï¼Œæœ€å¥½ç”±ä½ è‡ªå·±åˆ¤æ–­ã€‚</p>

<p>For example,</p>

<p>ä¾‹å¦‚ï¼Œ</p>

<ul>
  <li>A file containing a single type <code class="highlighter-rouge">MyType</code> is named <code class="highlighter-rouge">MyType.swift</code>.</li>
  <li>æ–‡ä»¶ä¸­åŒ…å«å•ä¸ªç±»å‹ <code class="highlighter-rouge">MyType</code> ï¼Œå‘½åä¸º <code class="highlighter-rouge">MyType.swift</code>ã€‚</li>
  <li>A file containing a type <code class="highlighter-rouge">MyType</code> and some top-level helper functions is also
named <code class="highlighter-rouge">MyType.swift</code>. (The top-level helpers are not the primary entity.)</li>
  <li>æ–‡ä»¶ä¸­åŒ…å«ç±»å‹ <code class="highlighter-rouge">MyType</code> å’Œä¸€äº›é¡¶å±‚çš„å·¥å…·å‡½æ•°ï¼Œä¹Ÿå‘½åä¸º <code class="highlighter-rouge">MyType.swift</code>ã€‚ï¼ˆé¡¶å±‚çš„å·¥å…·å‡½æ•°ä¸æ˜¯ä¸»è¦çš„å†…å®¹ã€‚ï¼‰</li>
  <li>A file containing a single extension to a type <code class="highlighter-rouge">MyType</code> that adds conformance
to a protocol <code class="highlighter-rouge">MyProtocol</code> is named <code class="highlighter-rouge">MyType+MyProtocol.swift</code>.</li>
  <li>æ–‡ä»¶ä¸­åŒ…å«å•ä¸ªä¸ºç±»å‹ <code class="highlighter-rouge">MyType</code> æ·»åŠ  <code class="highlighter-rouge">MyProtocol</code> åè®®éµå¾ªçš„æ‹“å±•ï¼Œå‘½åä¸º <code class="highlighter-rouge">MyType+MyProtocol.swift</code>ã€‚</li>
  <li>A file containing multiple extensions to a type <code class="highlighter-rouge">MyType</code> that add
conformances, nested types, or other functionality to a type can be named more
generally, as long as it is prefixed with <code class="highlighter-rouge">MyType+</code>; for example,
<code class="highlighter-rouge">MyType+Additions.swift</code>.</li>
  <li>æ–‡ä»¶ä¸­åŒ…å«å¤šä¸ªä¸ºç±»å‹ <code class="highlighter-rouge">MyType</code> æ·»åŠ åè®®éµå¾ªï¼ŒåµŒå¥—ç±»å‹æˆ–è€…å…¶ä»–åŠŸèƒ½çš„æ‹“å±•ï¼Œå¯ä»¥å‘½åå¾—æ›´é€šç”¨åŒ–ï¼Œåªè¦å®ƒçš„å‰ç¼€æ˜¯ <code class="highlighter-rouge">MyType+</code>ï¼›ä¾‹å¦‚ï¼Œ<code class="highlighter-rouge">MyType+Additions.swift</code>ã€‚</li>
  <li>A file containing related declarations that are not otherwise scoped under a
common type or namespace (such as a collection of global mathematical
functions) can be named descriptively; for example, <code class="highlighter-rouge">Math.swift</code>.</li>
  <li>æ–‡ä»¶ä¸­åŒ…å«å¤šä¸ªåœ¨å…¬å…±ç±»å‹æˆ–å‘½åç©ºé—´ä¸‹æ²¡æœ‰ä½œç”¨åŸŸé™åˆ¶çš„ç›¸å…³å£°æ˜ï¼ˆæ¯”å¦‚ä¸€ç³»åˆ—å…¨å±€çš„æ•°å­¦å‡½æ•°ï¼‰ï¼Œå¯ä»¥å‘½åå¾—æ›´æœ‰æè¿°æ€§ã€‚ä¾‹å¦‚ï¼š<code class="highlighter-rouge">Math.swift</code>ã€‚</li>
</ul>

<h3 id="æ–‡ä»¶ç¼–ç file-encoding">æ–‡ä»¶ç¼–ç /File Encoding</h3>

<p>Source files are encoded in UTF-8.</p>

<p>æºæ–‡ä»¶ä»¥ UTF-8 æ–¹å¼ç¼–ç ã€‚</p>

<h3 id="ç©ºç™½ç¬¦whitespace-characters">ç©ºç™½ç¬¦/Whitespace Characters</h3>

<p>Aside from the line terminator, the Unicode horizontal space character
(<code class="highlighter-rouge">U+0020</code>) is the only whitespace character that appears anywhere in a source
file. The implications are:</p>

<p>é™¤äº†è¡Œç»ˆæ­¢ç¬¦ä¹‹å¤–ï¼ŒUnicode æ°´å¹³ç©ºæ ¼ç¬¦ï¼ˆ<code class="highlighter-rouge">U+0020</code>ï¼‰æ˜¯å”¯ä¸€å¯ä»¥å‡ºç°åœ¨æºæ–‡ä»¶é‡Œçš„ç©ºç™½ç¬¦ã€‚è¿™æ„å‘³ç€ï¼š</p>

<ul>
  <li>All other whitespace characters in string and character literals are
represented by their corresponding escape sequence.</li>
  <li>æ‰€æœ‰å…¶ä»–åœ¨å­—ç¬¦ä¸²æˆ–è€…å­—ç¬¦å­—é¢é‡é‡Œçš„ç©ºç™½ç¬¦éƒ½è¦ç”¨å¯¹åº”çš„è½¬ä¹‰å­—ç¬¦è¡¨ç¤ºã€‚</li>
  <li>Tab characters are not used for indentation.</li>
  <li>åˆ¶è¡¨ç¬¦ä¸ç”¨äºç¼©è¿›ã€‚</li>
</ul>

<h3 id="ç‰¹æ®Šè½¬ä¹‰å­—ç¬¦special-escape-sequences">ç‰¹æ®Šè½¬ä¹‰å­—ç¬¦/Special Escape Sequences</h3>

<p>For any character that has a special escape sequence (<code class="highlighter-rouge">\t</code>, <code class="highlighter-rouge">\n</code>, <code class="highlighter-rouge">\r</code>, <code class="highlighter-rouge">\"</code>,
<code class="highlighter-rouge">\'</code>, <code class="highlighter-rouge">\\</code>, and <code class="highlighter-rouge">\0</code>), that sequence is used rather than the equivalent Unicode
(e.g., <code class="highlighter-rouge">\u{000a}</code>) escape sequence.</p>

<p>ä»»ä½•å­—ç¬¦ä¸­å¦‚æœåŒ…å«äº†ç‰¹æ®Šè½¬ä¹‰å­—ç¬¦ï¼ˆ<code class="highlighter-rouge">\t</code>, <code class="highlighter-rouge">\n</code>, <code class="highlighter-rouge">\r</code>, <code class="highlighter-rouge">\"</code>, <code class="highlighter-rouge">\'</code>, <code class="highlighter-rouge">\\</code> å’Œ <code class="highlighter-rouge">\0</code>ï¼‰ï¼Œè¯¥è½¬ä¹‰å­—ç¬¦ä¼šè¢«ç›´æ¥ä½¿ç”¨ï¼Œè€Œä¸ä¼šæ˜¯å…¶ç­‰ä»·çš„ Unicode è½¬ä¹‰å­—ç¬¦ï¼ˆä¾‹å¦‚ï¼š<code class="highlighter-rouge">\u{000a}</code>ï¼‰ã€‚</p>

<h3 id="ä¸å¯è§å­—ç¬¦å’Œä¿®é¥°ç¬¦invisible-characters-and-modifiers">ä¸å¯è§å­—ç¬¦å’Œä¿®é¥°ç¬¦/Invisible Characters and Modifiers</h3>

<p>Invisible characters, such as the zero width space and other control characters
that do not affect the graphical representation of a string, are always written
as Unicode escape sequences.</p>

<p>ä¸å¯è§å­—ç¬¦ï¼Œä¾‹å¦‚é›¶å®½ç©ºæ ¼å’Œå…¶ä»–åœ¨å­—ç¬¦ä¸²é‡Œä¸å½±å“å¯è§†åŒ–è¡¨è¾¾çš„æ§åˆ¶å­—ç¬¦ï¼Œéƒ½è¦ç”¨ Unicode è½¬ä¹‰å­—ç¬¦è¡¨ç¤ºã€‚</p>

<p>Control characters, combining characters, and variation selectors that <em>do</em>
affect the graphical representation of a string are not escaped when they are
attached to a character or characters that they modify. If such a Unicode scalar
is present in isolation or is otherwise not modifying another character in the
same string, it is written as a Unicode escape sequence.</p>

<p>æ§åˆ¶å­—ç¬¦ï¼Œç»„åˆå­—ç¬¦ï¼Œä»¥åŠå­—ç¬¦ä¸²é‡Œ<em>ä¼š</em>å½±å“å¯è§†åŒ–è¡¨è¾¾çš„å¼‚ä½“å­—é€‰æ‹©å™¨å½“è·Ÿåœ¨å…¶ä¿®æ”¹çš„å­—ç¬¦åé¢åˆ™ä¸è½¬ä¹‰ã€‚å¦‚æœè¯¥ Unicode æ ‡é‡å•ç‹¬ä½¿ç”¨æˆ–è€…æ²¡æœ‰ä¿®æ”¹åŒå­—ç¬¦ä¸²ä¸­å…¶ä»–çš„å­—ç¬¦ï¼Œåˆ™ç”¨ Unicode è½¬ä¹‰å­—ç¬¦è¡¨ç¤ºã€‚</p>

<p>The strings below are well-formed because the umlauts and variation selectors
associate with neighboring characters in the string. The second example is in
fact composed of <em>five</em> Unicode scalars, but they are unescaped because the
specific combination is rendered as a single character.</p>

<p>ä¸‹é¢çš„å­—ç¬¦ä¸²æ˜¯ç¬¦åˆè¦æ±‚çš„ï¼Œå› ä¸ºå…ƒéŸ³å’Œå¼‚ä½“å­—é€‰æ‹©å™¨éƒ½å’Œä¸´è¿‘çš„å­—ç¬¦å…³è”ã€‚ç¬¬äºŒä¸ªä¾‹å­å®é™…ä¸Šç”± <em>5</em> ä¸ª Unicode æ ‡é‡ç»„æˆï¼Œä¸è¿‡å®ƒä»¬æ²¡æœ‰è¢«è½¬ä¹‰ï¼Œå› ä¸ºåœ¨ç‰¹å®šç»„åˆåä½œä¸ºå•ä¸€å­—ç¬¦è¿›è¡Œæ¸²æŸ“ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">size</span> <span class="o">=</span> <span class="s">"ÃœbergrÃ¶ÃŸe"</span>
<span class="k">let</span> <span class="nv">shrug</span> <span class="o">=</span> <span class="s">"ğŸ¤·ğŸ¿â€ï¸"</span>
</code></pre></div></div>

<p>In the example below, the umlaut and variation selector are in strings by
themselves, so they are escaped.</p>

<p>ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œå­—ç¬¦ä¸²é‡Œå…ƒéŸ³å’Œå¼‚ä½“å­—é€‰æ‹©å™¨åªæœ‰å®ƒä»¬è‡ªèº«ï¼Œæ‰€ä»¥è¦è¢«è½¬ä¹‰ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">diaeresis</span> <span class="o">=</span> <span class="s">"</span><span class="se">\u{0308}</span><span class="s">"</span>
<span class="k">let</span> <span class="nv">skinToneType6</span> <span class="o">=</span> <span class="s">"</span><span class="se">\u{1F3FF}</span><span class="s">"</span>
</code></pre></div></div>

<p>If the umlaut were included in the string literally, it would combine with
the preceding quotation mark, impairing readability. Likewise, while most
systems may render a standalone skin tone modifier as a block graphic, the
example below is still forbidden because it is a modifier that is not modifying
a character in the same string.</p>

<p>å¦‚æœå…ƒéŸ³ä»¥å­—é¢é‡æ–¹å¼å‡ºç°åœ¨å­—ç¬¦ä¸²é‡Œï¼Œå®ƒä¼šå’Œå‰é¢çš„å¼•å·ç»„åˆèµ·æ¥ï¼Œå½±å“å¯è¯»æ€§ã€‚åŒæ ·çš„ï¼Œå°½ç®¡å¤§éƒ¨åˆ†ç³»ç»Ÿä¼šå°†å•ç‹¬çš„çš®è‚¤ç€è‰²ä¿®é¥°ç¬¦ä½œä¸ºå•ç‹¬å›¾å½¢å—æ¸²æŸ“ï¼Œä½†ä¸‹é¢ä¾‹å­ä¾æ—§æ˜¯ä¸å…è®¸çš„ï¼Œå› ä¸ºè¯¥ä¿®é¥°ç¬¦å¹¶æ²¡æœ‰ä¿®æ”¹åŒä¸€å­—ç¬¦ä¸²é‡Œä»»ä½•å­—ç¬¦ã€‚</p>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">diaeresis</span> <span class="o">=</span> <span class="s">"Ìˆ"</span>
<span class="k">let</span> <span class="nv">skinToneType6</span> <span class="o">=</span> <span class="s">"ğŸ¿"</span>
</code></pre></div></div>

<h3 id="å­—ç¬¦ä¸²å­—é¢é‡string-literals">å­—ç¬¦ä¸²å­—é¢é‡/String Literals</h3>

<p>Unicode escape sequences (<code class="highlighter-rouge">\u{????}</code>) and literal code points (for example, <code class="highlighter-rouge">Ãœ</code>)
outside the 7-bit ASCII range are never mixed in the same string.</p>

<p>7 ä½ ASCII ç èŒƒå›´ä»¥å¤–çš„ Unicode è½¬ä¹‰å­—ç¬¦ï¼ˆ<code class="highlighter-rouge">\u{????}</code>ï¼‰å’Œä»£ç ç‚¹å­—é¢é‡ï¼ˆä¾‹å¦‚ï¼š<code class="highlighter-rouge">Ãœ</code>ï¼‰æ°¸è¿œä¸è¦åœ¨åŒä¸€å­—ç¬¦ä¸²é‡Œæ··åˆä½¿ç”¨ã€‚</p>

<p>More specifically, string literals are either:</p>

<p>æ›´å…·ä½“æ¥è¯´ï¼Œå­—ç¬¦ä¸²å­—é¢é‡åªèƒ½æ˜¯ä¸‹é¢ä¸¤è€…ä¹‹ä¸€:</p>

<ul>
  <li>composed of a combination of Unicode code points written literally and/or
single character escape sequences (such as <code class="highlighter-rouge">\t</code>, but <em>not</em> <code class="highlighter-rouge">\u{????}</code>), or</li>
  <li>ç”±å­—é¢é‡æ–¹å¼çš„ Unicode ä»£ç ç‚¹ç»„åˆå’Œ/æˆ–å•ä¸€è½¬ä¹‰å­—ç¬¦ç»„åˆï¼Œæˆ–è€…</li>
  <li>composed of 7-bit ASCII with any number of Unicode escape sequences and/or
other escape sequences.</li>
  <li>ç”±ä»»æ„æ•°é‡çš„ Unicode è½¬ä¹‰å­—ç¬¦çš„ 7 ä½ ASCII ç å’Œæˆ–å…¶ä»–è½¬ä¹‰å­—ç¬¦ç»„æˆã€‚</li>
</ul>

<p>The following example is correct because <code class="highlighter-rouge">\n</code> is allowed to be present among
other Unicode code points.</p>

<p>ä¸‹é¢çš„ä¾‹å­æ˜¯æ­£ç¡®çš„ï¼Œå› ä¸º <code class="highlighter-rouge">\n</code> å…è®¸åœ¨å…¶ä»– Unicode ä»£ç ç‚¹ä¸­å­˜åœ¨ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">size</span> <span class="o">=</span> <span class="s">"ÃœbergrÃ¶ÃŸe</span><span class="se">\n</span><span class="s">"</span>
</code></pre></div></div>

<p>The following example is allowed because it follows the rules above, but it is
<em>not preferred</em> because the text is harder to read and understand compared to
the string above.</p>

<p>ä¸‹é¢çš„ä¾‹å­ä¹Ÿæ˜¯è¢«å…è®¸çš„ï¼Œå› ä¸ºå®ƒéµå®ˆäº†ä¸Šé¢çš„è§„åˆ™ï¼Œä½†å®ƒå¹¶ä¸æ˜¯ <code class="highlighter-rouge">æœ€ä¼˜é€‰</code>ï¼Œå› ä¸ºå’Œä¸Šé¢çš„å­—ç¬¦ä¸²ç›¸æ¯”ï¼Œå®ƒæ›´éš¾ä»¥é˜…è¯»å’Œç†è§£ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">size</span> <span class="o">=</span> <span class="s">"</span><span class="se">\u{00DC}</span><span class="s">bergr</span><span class="se">\u{00F6}\u{00DF}</span><span class="s">e</span><span class="se">\n</span><span class="s">"</span>
</code></pre></div></div>

<p>The example below is forbidden because it mixes code points outside the 7-bit
ASCII range in both literal form and in escaped form.</p>

<p>ä¸‹é¢çš„ä¾‹å­æ˜¯è¢«ç¦æ­¢çš„ï¼Œå› ä¸ºå®ƒæ··åˆäº† 7 ä½ ASCII ç èŒƒå›´ä»¥å¤–çš„å­—é¢é‡å½¢å¼å’Œè½¬ä¹‰å½¢å¼çš„ä»£ç ç‚¹ã€‚</p>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">size</span> <span class="o">=</span> <span class="s">"Ãœbergr</span><span class="se">\u{00F6}\u{00DF}</span><span class="s">e</span><span class="se">\n</span><span class="s">"</span>
</code></pre></div></div>

<blockquote>
  <p><strong>Aside:</strong> Never make your code less readable simply out of fear
that some programs might not handle non-ASCII characters properly. If that
should happen, those programs are broken and must be fixed.</p>

  <p><strong>é¢˜å¤–è¯</strong>ï¼šæ°¸è¿œåˆ«å› ä¸ºæ‹…å¿ƒæŸäº›ç¨‹åºå¯èƒ½æ— æ³•æ­£ç¡®å¤„ç†é ASCII ç å­—ç¬¦è€Œé™ä½ä»£ç çš„å¯è¯»æ€§ã€‚å¦‚æœå‘ç”Ÿäº†ï¼Œé‚£äº›ç¨‹åºæ˜¯æ— æ³•è¢«ä½¿ç”¨çš„ï¼Œè€Œä¸”åº”è¯¥è¢«ä¿®å¤ã€‚</p>
</blockquote>

<h2 id="æºæ–‡ä»¶ç»“æ„source-file-structure">æºæ–‡ä»¶ç»“æ„/Source File Structure</h2>

<h3 id="æ–‡ä»¶æ³¨é‡Šfile-comments">æ–‡ä»¶æ³¨é‡Š/File Comments</h3>

<p>Comments describing the contents of a source file are optional. They are
discouraged for files that contain only a single abstraction (such as a class
declaration)â€”in those cases, the documentation comment on the abstraction
itself is sufficient and a file comment is only present if it provides
additional useful information. File comments are allowed for files that contain
multiple abstractions in order to document that grouping as a whole.</p>

<p>æè¿°æºæ–‡ä»¶å†…å®¹çš„æ³¨é‡Šæ˜¯å¯é€‰çš„ã€‚å¯¹åªåŒ…å«äº†å•ä¸€æŠ½è±¡ï¼ˆä¾‹å¦‚ä¸€ä¸ªç±»çš„å£°æ˜ï¼‰çš„æ–‡ä»¶å¹¶ä¸å»ºè®®ç”¨è¿™ç§æ³¨é‡Š â€” è¿™ç§æƒ…å†µä¸‹ï¼ŒæŠ½è±¡æœ¬èº«çš„æ–‡æ¡£æ³¨é‡Šå°±è¶³å¤Ÿäº†ï¼Œæ–‡ä»¶æ³¨é‡Šåªæœ‰å½“æä¾›äº†é¢å¤–çš„æœ‰ç”¨ä¿¡æ¯æ—¶æ‰éœ€è¦ã€‚æ–‡ä»¶æ³¨é‡Šåœ¨æ–‡ä»¶ä¸­åŒ…å«å¤šä¸ªæŠ½è±¡æ—¶æ˜¯å…è®¸çš„ï¼Œä¸ºäº†å¯¹å®Œæ•´çš„åˆ†ç»„è¿›è¡Œæ³¨é‡Šã€‚</p>

<h3 id="å¯¼å…¥è¯­å¥import-statements">å¯¼å…¥è¯­å¥/Import Statements</h3>

<p>A source file imports exactly the top-level modules that it needs; nothing more
and nothing less. If a source file uses definitions from both <code class="highlighter-rouge">UIKit</code> and
<code class="highlighter-rouge">Foundation</code>, it imports both explicitly; it does not rely on the fact that some
Apple frameworks transitively import others as an implementation detail.</p>

<p>æºæ–‡ä»¶ä¸­åº”è¯¥æ˜¾å¼å¯¼å…¥éœ€è¦çš„é¡¶å±‚æ¨¡å—ï¼›ä¸è¦å¤šä¹Ÿä¸è¦å°‘ã€‚å¦‚æœæºæ–‡ä»¶ä¸­åŒæ—¶ä½¿ç”¨äº† <code class="highlighter-rouge">UIKit</code> ä¸­çš„å®šä¹‰å’Œ <code class="highlighter-rouge">Foundation</code> ä¸­çš„å®šä¹‰ï¼Œé‚£ä¹ˆéƒ½è¿›è¡Œæ˜¾å¼å¯¼å…¥ï¼›è¿™å’Œæœ‰äº› Apple æ¡†æ¶å·²ç»åœ¨å®ç°ç»†èŠ‚ä¸­å¯¼å…¥å…¶ä»–æ¡†æ¶å¹¶ä¸å†²çªã€‚</p>

<p>Imports of whole modules are preferred to imports of individual declarations or
submodules.</p>

<p>ä¼˜å…ˆè€ƒè™‘å¯¼å…¥æ•´ä¸ªæ¨¡å—è€Œéå¯¼å…¥å•ä¸ªå£°æ˜æˆ–è€…å­æ¨¡å—ã€‚</p>

<blockquote>
  <p>There are a number of reasons to avoid importing individual members:</p>

  <p>é¿å…å¯¼å…¥å•ä¸ªæˆå‘˜çš„åŸå› å¦‚ä¸‹ï¼š</p>

  <ul>
    <li>There is no automated tooling to resolve/organize imports.</li>
    <li>æ²¡æœ‰è‡ªåŠ¨åŒ–å·¥å…·æ¥è§£å†³/ç»„ç»‡é‚£äº›å¯¼å…¥ã€‚</li>
    <li>Existing automated tooling (such as Xcodeâ€™s migrator) are less likely to
work well on code that imports individual members because they are
considered corner cases.</li>
    <li>ç°å­˜åœ°è‡ªåŠ¨åŒ–å·¥å…·ï¼ˆä¾‹å¦‚ Xcode è¿ç§»å™¨ï¼‰ä¸èƒ½å¾ˆå¥½åœ°å·¥ä½œåœ¨å¯¼å…¥å•ä¸ªæˆå‘˜çš„ä»£ç é‡Œï¼Œå› ä¸ºå®ƒä»¬æ˜¯è¾¹ç•Œæƒ…å†µã€‚</li>
    <li>The prevailing style in Swift (based on official examples and community
code) is to import entire modules.</li>
    <li>ç›®å‰æµè¡Œçš„ Swift ä»£ç é£æ ¼ï¼ˆåŸºäºå®˜æ–¹ä¾‹å­å’Œç¤¾åŒºä»£ç ï¼‰éƒ½æ˜¯å¯¼å…¥æ•´ä¸ªæ¨¡å—çš„ã€‚</li>
  </ul>
</blockquote>

<p>Imports of individual declarations are permitted when importing the whole module
would otherwise pollute the global namespace with top-level definitions (such as
C interfaces). Use your best judgment in these situations.</p>

<p>å½“å¯¼å…¥å®Œæ•´æ¨¡å—çš„é¡¶å±‚å®šä¹‰ï¼ˆä¾‹å¦‚ C æ¥å£ï¼‰ä¼šæ±¡æŸ“å…¨å±€å‘½åç©ºé—´æ—¶ï¼Œå¯¼å…¥å•ä¸ªå£°æ˜æ˜¯å…è®¸çš„ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œç”±ä½ è‡ªå·±åˆ¤æ–­ã€‚</p>

<p>Imports of submodules are permitted if the submodule exports functionality that
is not available when importing the top-level module. For example,
<code class="highlighter-rouge">UIKit.UIGestureRecognizerSubclass</code> must be imported explicitly to expose the
methods that allow client code to subclass <code class="highlighter-rouge">UIGestureRecognizer</code>â€”those are
not visible by importing <code class="highlighter-rouge">UIKit</code> alone.</p>

<p>å¦‚æœå­æ¨¡å—çš„å¯¼å‡ºåŠŸèƒ½åœ¨åªå¯¼å…¥é¡¶å±‚æ¨¡å—æ—¶ä¸å¯ç”¨ï¼Œé‚£ä¹ˆå…è®¸å¯¼å…¥å­æ¨¡å—ã€‚ä¾‹å¦‚ï¼š<code class="highlighter-rouge">UIKit.UIGestureRecognizerSubclass</code> å¿…é¡»è¦æ˜¾å¼å¯¼å…¥ï¼Œä»¥æš´éœ²ç»§æ‰¿ <code class="highlighter-rouge">UIGestureRecognizer</code> æ—¶ä»£ç å…è®¸é‡å†™çš„æ–¹æ³•  - è¿™åœ¨åªå¯¼å…¥ <code class="highlighter-rouge">UIKit</code> æ—¶å¹¶ä¸å¯è§ã€‚</p>

<p>Import statements are not line-wrapped.</p>

<p>å¯¼å…¥è¯­å¥ä¸å¯æ¢è¡Œã€‚</p>

<p>Import statements are the first non-comment tokens in a source file. They are
grouped in the following fashion, with the imports in each group ordered
lexicographically and with exactly one blank line between each group:</p>

<p>å¯¼å…¥è¯­å¥æ”¾åœ¨é™¤äº†æ³¨é‡Šä»¥å¤–çš„æœ€å‰é¢ã€‚æŒ‰ä»¥ä¸‹æ–¹å¼åˆ†ç»„ï¼Œæ¯ç»„ä¸­çš„å¯¼å…¥æŒ‰ç…§å­—æ¯é¡ºåºæ’åºï¼Œæ¯ç»„ä¹‹é—´åªæœ‰ä¸€ä¸ªç©ºè¡Œï¼š</p>

<ol>
  <li>
    <p>Module/submodule imports not under test</p>

    <p>æ— æµ‹è¯•æ¨¡å—/å­æ¨¡å—çš„å¯¼å…¥</p>
  </li>
  <li>
    <p>Individual declaration imports (<code class="highlighter-rouge">class</code>, <code class="highlighter-rouge">enum</code>, <code class="highlighter-rouge">func</code>, <code class="highlighter-rouge">struct</code>, <code class="highlighter-rouge">var</code>)</p>

    <p>å•ä¸ªå£°æ˜çš„å¯¼å…¥ (<code class="highlighter-rouge">class</code>, <code class="highlighter-rouge">enum</code>, <code class="highlighter-rouge">func</code>, <code class="highlighter-rouge">struct</code>, <code class="highlighter-rouge">var</code>)</p>
  </li>
  <li>
    <p>Modules imported with <code class="highlighter-rouge">@testable</code> (only present in test sources)</p>

    <p><code class="highlighter-rouge">@testable</code> æ¨¡å—çš„å¯¼å…¥ï¼ˆåªå­˜åœ¨æµ‹è¯•æºç ä¸­ï¼‰</p>
  </li>
</ol>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">CoreLocation</span>
<span class="kd">import</span> <span class="kt">MyThirdPartyModule</span>
<span class="kd">import</span> <span class="kt">SpriteKit</span>
<span class="kd">import</span> <span class="kt">UIKit</span>

<span class="kd">import</span> <span class="kd">func</span> <span class="kt">Darwin</span><span class="o">.</span><span class="kt">C</span><span class="o">.</span><span class="n">isatty</span>

<span class="kd">@testable</span> <span class="kd">import</span> <span class="kt">MyModuleUnderTest</span>
</code></pre></div></div>

<h3 id="ç±»å‹å˜é‡å’Œå‡½æ•°å£°æ˜type-variable-and-function-declarations">ç±»å‹ï¼Œå˜é‡å’Œå‡½æ•°å£°æ˜/Type, Variable, and Function Declarations</h3>

<p>In general, most source files contain only one top-level type, especially when
the type declaration is large. Exceptions are allowed when it makes sense to
include multiple related types in a single file. For example,</p>

<p>é€šå¸¸æƒ…å†µä¸‹ï¼Œå¤§éƒ¨åˆ†æºæ–‡ä»¶åªåŒ…å«ä¸€ä¸ªé¡¶å±‚ç±»å‹ï¼Œç‰¹åˆ«æ˜¯å½“ç±»å‹å£°æ˜å¾ˆåºå¤§æ—¶ã€‚é™¤éåœ¨åŒä¸€æ–‡ä»¶é‡ŒåŒ…å«å¤šä¸ªç›¸å…³ç±»å‹æ˜¯æœ‰æ„ä¹‰çš„ã€‚ä¾‹å¦‚ï¼Œ</p>

<ul>
  <li>
    <p>A class and its delegate protocol may be defined in the same file.</p>
  </li>
  <li>
    <p>ç±»å’Œå®ƒçš„ä»£ç†åè®®å¯ä»¥å®šä¹‰åœ¨åŒä¸€æ–‡ä»¶ä¸­ã€‚</p>
  </li>
  <li>
    <p>A type and its small related helper types may be defined in the same file.
This can be useful when using <code class="highlighter-rouge">fileprivate</code> to restrict certain functionality
of the type and/or its helpers to only that file and not the rest of the
module.</p>
  </li>
  <li>
    <p>ç±»å‹å’Œå®ƒç›¸å…³çš„è½»é‡å¸®åŠ©ç±»å‹å¯ä»¥å®šä¹‰åœ¨åŒä¸€æ–‡ä»¶ä¸­ã€‚è¿™ç§æ—¶å€™</p>

    <p><code class="highlighter-rouge">fileprivate</code> æ˜¯å¾ˆæœ‰ç”¨çš„ï¼Œå¯ä»¥å°†ç±»å‹å’Œ/æˆ–å®ƒå¸®åŠ©ç±»çš„æŸäº›åŠŸèƒ½é™åˆ¶åœ¨é‚£ä¸ªæ–‡ä»¶ä¸­è€Œéæš´éœ²ç»™æ¨¡å—çš„å…¶ä»–åœ°æ–¹ã€‚</p>
  </li>
</ul>

<p>The order of types, variables, and functions in a source file, and the order of
the members of those types, can have a great effect on readability. However,
there is no single correct recipe for how to do it; different files and
different types may order their contents in different ways.</p>

<p>åœ¨æºæ–‡ä»¶ä¸­ç±»å‹ï¼Œå˜é‡å’Œå‡½æ•°ä¹‹é—´çš„é¡ºåºï¼Œå’Œè¯¥ç±»å‹æˆå‘˜çš„é¡ºåºï¼Œéƒ½ä¼šå¤§å¤§å½±å“å¯è¯»æ€§ã€‚ç„¶è€Œï¼Œå¦‚ä½•ç»„ç»‡å®ƒä»¬å¹¶æ²¡æœ‰å•ä¸€æ­£ç¡®çš„æ³•åˆ™ï¼›ä¸åŒçš„æ–‡ä»¶å’Œä¸åŒçš„ç±»å‹å¯ä»¥ç”¨ä¸åŒçš„æ–¹å¼ç»„ç»‡å®ƒä»¬å†…å®¹çš„æ’åºã€‚</p>

<p>What is important is that each file and type uses <em><strong>some</strong> logical order,</em>
which its maintainer could explain if asked. For example, new methods are not
just habitually added to the end of the type, as that would yield â€œchronological
by date addedâ€ ordering, which is not a logical ordering.</p>

<p>è€Œé‡è¦çš„æ˜¯ï¼Œæ¯ä¸€ä¸ªæ–‡ä»¶å’Œç±»å‹ä½¿ç”¨_<strong>åŒä¸€</strong>æ’åºé€»è¾‘_ï¼Œä»¥ä¾¿ç»´æŠ¤è€…åœ¨è¢«è¯¢é—®æ—¶å¯ä»¥è§£é‡Šæ¸…æ¥šã€‚ä¾‹å¦‚ï¼Œæ–°çš„æ–¹æ³•ä¸èƒ½ä¹ æƒ¯æ€§åœ°åŠ åœ¨ç±»å‹çš„æœ€åé¢ï¼Œå› ä¸ºè¿™åªæ˜¯é¡ºä»â€œæ—¥æœŸé€’å¢åœ°æ—¶é—´æ’åºâ€ï¼Œè€Œä¸æ˜¯æœ‰é€»è¾‘æ€§çš„æ’åºã€‚</p>

<p>When deciding on the logical order of members, it can be helpful for readers and
future writers (including yourself) to use <code class="highlighter-rouge">// MARK:</code> comments to provide
descriptions for that grouping. These comments are also interpreted by Xcode and
provide bookmarks in the source windowâ€™s navigation bar. (Likewise,
<code class="highlighter-rouge">// MARK: - </code>, written with a hyphen before the description, causes Xcode to
insert a divider before the menu item.) For example,</p>

<p>å½“å†³å®šæˆå‘˜çš„æ’åºé€»è¾‘åï¼Œä½¿ç”¨ <code class="highlighter-rouge">// MARK:</code> æ³¨é‡Šå¯¹è¯¥åˆ†ç»„æä¾›æè¿°ï¼Œå¯¹é˜…è¯»è€…å’Œå°†æ¥çš„ç¼–ç è€…ï¼ˆåŒ…æ‹¬ä½ è‡ªå·±ï¼‰æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ã€‚è¿™ç§æ³¨é‡Šä¹Ÿä¼šè¢« Xcode ç†è§£å¹¶åœ¨æºç çª—å£çš„å¯¼èˆªæ ä¸­æä¾›ä¹¦ç­¾ã€‚ï¼ˆç±»ä¼¼çš„è¿˜æœ‰ <code class="highlighter-rouge">// MARK: -</code>ï¼Œåœ¨æè¿°ä¹‹å‰ä½¿ç”¨ä¸€ä¸ªè¿å­—ç¬¦çš„è¯ï¼Œ Xcode ä¼šåœ¨èœå•å…ƒç´ å‰æ’å…¥ä¸€æ¡åˆ†éš”çº¿ã€‚ï¼‰ä¾‹å¦‚ï¼Œ</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">MovieRatingViewController</span><span class="p">:</span> <span class="kt">UITableViewController</span> <span class="p">{</span>

  <span class="c1">// MARK: - View controller lifecycle methods</span>

  <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>

  <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewWillAppear</span><span class="p">(</span><span class="n">_</span> <span class="nv">animated</span><span class="p">:</span> <span class="kt">Bool</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>

  <span class="c1">// MARK: - Movie rating manipulation methods</span>

  <span class="kd">@objc</span> <span class="kd">private</span> <span class="kd">func</span> <span class="nf">ratingStarWasTapped</span><span class="p">(</span><span class="n">_</span> <span class="nv">sender</span><span class="p">:</span> <span class="kt">UIButton</span><span class="p">?)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>

  <span class="kd">@objc</span> <span class="kd">private</span> <span class="kd">func</span> <span class="nf">criticReviewWasTapped</span><span class="p">(</span><span class="n">_</span> <span class="nv">sender</span><span class="p">:</span> <span class="kt">UIButton</span><span class="p">?)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="å£°æ˜é‡è½½overloaded-declarations">å£°æ˜é‡è½½/Overloaded Declarations</h3>

<p>When a type has multiple initializers or subscripts, or a file/type has multiple
functions with the same base name (though perhaps with different argument
labels), <em>and</em> when these overloads appear in the same type or extension scope,
they appear sequentially with no other code in between.</p>

<p>å½“ä¸€ä¸ªç±»å‹æœ‰å¤šä¸ªæ„é€ å™¨æˆ–è€…ä¸‹æ ‡ï¼Œæˆ–è€…ä¸€ä¸ªæ–‡ä»¶/ç±»å‹å†…æœ‰å¤šä¸ªç›¸åŒåå­—çš„å‡½æ•°ï¼ˆå°½ç®¡å¯èƒ½æœ‰ä¸åŒçš„å®å‚æ ‡ç­¾ï¼‰ï¼Œ<em>å¹¶ä¸”</em>å½“è¿™äº›é‡è½½åœ¨åŒä¸€ç±»å‹æˆ–è€…æ‰©å±•ä½œç”¨åŸŸå†…æ—¶ï¼Œå®ƒä»¬åº”è¯¥æŒ‰é¡ºåºæ’åˆ—ï¼Œä¸åº”è¯¥åœ¨ä¸­é—´æ’å…¥å…¶ä»–ä»£ç ã€‚</p>

<h3 id="æ‰©å±•extensions">æ‰©å±•/Extensions</h3>

<p>Extensions can be used to organize functionality of a type across multiple
â€œunits.â€ As with member order, the organizational structure/grouping you choose
can have a great effect on readability; you must use <em><strong>some</strong> logical
organizational structure</em> that you could explain to a reviewer if asked.</p>

<p>æ‰©å±•å¯ä»¥å°†ä¸€ä¸ªç±»å‹çš„åŠŸèƒ½ç»„ç»‡åˆ°å¤šä¸ªâ€œå•å…ƒâ€ä¸­ã€‚é…åˆæˆå‘˜æ’åºå’Œæ‰€é€‰æ‹©çš„ç»„ç»‡ç»“æ„/åˆ†ç»„ä¼šå¯¹ä»£ç å¯è¯»æ€§æœ‰å¾ˆå¤§çš„å¸®åŠ©ï¼›ä½ å¿…é¡»ä½¿ç”¨_<strong>æŸç§</strong>_èƒ½ç»™å®¡æŸ¥è€…è§£é‡Šçš„_é€»è¾‘ç»“æ„_è¿›è¡Œç»„ç»‡ã€‚</p>

<h2 id="å¸¸è§„æ ¼å¼general-formatting">å¸¸è§„æ ¼å¼/General Formatting</h2>

<h3 id="å•è¡Œå­—ç¬¦é™åˆ¶column-limit">å•è¡Œå­—ç¬¦é™åˆ¶/Column Limit</h3>

<p>Swift code has a column limit of 100 characters. Except as noted below, any line
that would exceed this limit must be line-wrapped as described in
<a href="#line-wrapping">Line-Wrapping</a>.</p>

<p>Swift ä»£ç æœ‰ 100 å­—ç¬¦å•è¡Œé™åˆ¶ã€‚é™¤äº†ä¸‹é¢çš„è¯´æ˜ä¹‹å¤–ï¼Œä»»ä½•è¶…è¿‡è¯¥é™åˆ¶çš„è¡Œéƒ½éœ€è¦æ¢è¡Œï¼Œè¯¦æƒ…è§ <a href="#line-wrapping">æ¢è¡Œ</a>ã€‚</p>

<p><strong>Exceptions:</strong></p>

<p><strong>ä¾‹å¤–ï¼š</strong></p>

<ol>
  <li>
    <p>Lines where obeying the column limit is not possible without breaking a
meaningful unit of text that should not be broken (for example, a long URL in
a comment).</p>

    <p>å³ä¾¿æ˜¯éµå¾ªå•è¡Œå­—ç¬¦é™åˆ¶çš„è¡Œä¹Ÿä¸åº”è¯¥ç ´åæ–‡æœ¬ä¸­æœ‰æ„ä¹‰çš„éƒ¨åˆ†ï¼ˆä¾‹å¦‚ï¼Œæ³¨é‡Šé‡Œçš„é•¿ URL ï¼‰ã€‚</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">import</code> statements.</p>

    <p><code class="highlighter-rouge">import</code> è¯­å¥ã€‚</p>
  </li>
  <li>
    <p>Code generated by another tool.</p>

    <p>å…¶ä»–å·¥å…·ç”Ÿæˆçš„ä»£ç ã€‚</p>
  </li>
</ol>

<h3 id="èŠ±æ‹¬å·braces">èŠ±æ‹¬å·/Braces</h3>

<p>In general, braces follow Kernighan and Ritchie (K&amp;R) style for non-empty
blocks with exceptions for Swift-specific constructs and rules:</p>

<p>é€šå¸¸æ¥è¯´ï¼Œéç©ºå—çš„èŠ±æ‹¬å·éµå¾ª Kernighan å’Œ Ritchieï¼ˆK&amp;Rï¼‰ä»£ç é£æ ¼ï¼Œé™¤äº† Swift ç‰¹æ®Šç»“æ„å’Œè§„åˆ™ä»¥å¤–ï¼š</p>

<ul>
  <li>
    <p>There <strong>is no</strong> line break before the opening brace (<code class="highlighter-rouge">{</code>), <strong>unless</strong> required
by application of the rules in <a href="#line-wrapping">Line-Wrapping</a>.</p>
  </li>
  <li>
    <p>åœ¨å¼€è¾¹èŠ±æ‹¬å·ï¼ˆ<code class="highlighter-rouge">{</code>ï¼‰ä¹‹å‰<strong>ä¸éœ€è¦</strong>æ¢è¡Œï¼Œ<strong>é™¤é</strong>æ˜¯å› ä¸ºåº”ç”¨äº† <a href="#line-wrapping">æ¢è¡Œ</a> è§„åˆ™ã€‚</p>
  </li>
  <li>
    <p>There <strong>is a</strong> line break after the opening brace (<code class="highlighter-rouge">{</code>), except</p>
  </li>
  <li>
    <p>åœ¨å¼€è¾¹èŠ±æ‹¬å·ï¼ˆ<code class="highlighter-rouge">{</code>ï¼‰ä¹‹å<strong>éœ€è¦</strong>æ¢è¡Œï¼Œé™¤äº†</p>

    <ul>
      <li>
        <p>in closures, where the signature of the closure is placed on the same line
as the curly brace, if it fits, and a line break follows the <code class="highlighter-rouge">in</code> keyword.</p>
      </li>
      <li>
        <p>åœ¨é—­åŒ…ä¸­ï¼Œé—­åŒ…çš„ç­¾åå’ŒèŠ±æ‹¬å·åœ¨åŒä¸€è¡Œçš„æƒ…å†µä¸‹ï¼Œå¦‚æœåˆé€‚ï¼Œåœ¨ <code class="highlighter-rouge">in</code> å…³é”®å­—åé¢æ¢è¡Œã€‚</p>
      </li>
      <li>
        <p>where it may be omitted as described in
<a href="#one-statement-per-line">One Statement Per Line</a>.</p>
      </li>
      <li>
        <p>å½“å¯ä»¥çœç•¥æˆ <a href="#one-statement-per-line">å•è¡Œè¯­å¥</a>ã€‚</p>
      </li>
      <li>
        <p>empty blocks may be written as <code class="highlighter-rouge">{}</code>.</p>
      </li>
      <li>
        <p>ç©ºç™½å—åº”è¯¥å†™ä½œ <code class="highlighter-rouge">{}</code>ã€‚</p>
      </li>
    </ul>
  </li>
  <li>
    <p>There <strong>is a</strong> line break before the closing brace (<code class="highlighter-rouge">}</code>), except where it may
be omitted as described in <a href="#one-statement-per-line">One Statement Per Line</a>,
or it completes an empty block.</p>
  </li>
  <li>
    <p>åœ¨é—­è¾¹èŠ±æ‹¬å·ï¼ˆ<code class="highlighter-rouge">}</code>ï¼‰ä¹‹å‰<strong>éœ€è¦</strong>æ¢è¡Œï¼Œé™¤äº†å¯ä»¥çœç•¥æˆ <a href="#one-statement-per-line">å•è¡Œè¯­å¥</a> æˆ–ç”¨åœ¨ç©ºç™½å—çš„æƒ…å†µã€‚</p>
  </li>
  <li>
    <p>There <strong>is a</strong> line break after the closing brace (<code class="highlighter-rouge">}</code>), <strong>if and only if</strong>
that brace terminates a statement or the body of a declaration. For example,
an <code class="highlighter-rouge">else</code> block is written <code class="highlighter-rouge">} else {</code> with both braces on the same line.</p>
  </li>
  <li>
    <p>é—­è¾¹èŠ±æ‹¬å·ï¼ˆ<code class="highlighter-rouge">}</code>ï¼‰ä¹‹å<strong>éœ€è¦</strong>æ¢è¡Œçš„æƒ…å†µï¼Œ<strong>æœ‰ä¸”ä»…å½“</strong>è¯¥èŠ±æ‹¬å·ç”¨ä½œç»ˆæ­¢è¯­å¥æˆ–è€…ä½œä¸ºå£°æ˜ä½“ã€‚ä¾‹å¦‚ï¼Œ<code class="highlighter-rouge">else</code> å—å†™æˆ <code class="highlighter-rouge">} else {</code> æ—¶ä¸¤ä¸ªèŠ±æ‹¬å·åœ¨åŒä¸€è¡Œã€‚</p>
  </li>
</ul>

<h3 id="åˆ†å·semicolons">åˆ†å·/Semicolons</h3>

<p>Semicolons (<code class="highlighter-rouge">;</code>) are <strong>not used</strong>, either to terminate or separate statements.</p>

<p>åˆ†å·ï¼ˆ<code class="highlighter-rouge">;</code>ï¼‰<strong>ç¦æ­¢ä½¿ç”¨</strong>ï¼Œæ— è®ºæ˜¯ç”¨äºç»ˆæ­¢æˆ–è€…åˆ†å‰²è¯­å¥ã€‚</p>

<p>In other words, the only location where a semicolon may appear is inside a
string literal or a comment.</p>

<p>æ¢è€Œè¨€ä¹‹ï¼Œåˆ†å·åªå¯èƒ½å‡ºç°åœ¨å­—ç¬¦ä¸²å­—é¢é‡æˆ–è€…æ³¨é‡Šä¸­ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">printSum</span><span class="p">(</span><span class="n">_</span> <span class="nv">a</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="n">_</span> <span class="nv">b</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">let</span> <span class="nv">sum</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
  <span class="nf">print</span><span class="p">(</span><span class="n">sum</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">printSum</span><span class="p">(</span><span class="n">_</span> <span class="nv">a</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="n">_</span> <span class="nv">b</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">let</span> <span class="nv">sum</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">;</span>
  <span class="nf">print</span><span class="p">(</span><span class="n">sum</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="æ¯è¡Œä¸€ä¸ªè¯­å¥one-statement-per-line">æ¯è¡Œä¸€ä¸ªè¯­å¥/One Statement Per Line</h3>

<p>There is <strong>at most</strong> one statement per line, and each statement is followed by a
line break, except when the line ends with a block that also contains zero
or one statements.</p>

<p>æ¯è¡Œ<strong>æœ€å¤š</strong>ä¸€ä¸ªè¯­å¥ï¼Œæ¯ä¸ªè¯­å¥åæ¢è¡Œï¼Œé™¤éè¯¥è¡Œä»¥åªåŒ…å«äº† 0 æˆ– 1 ä¸ªè¯­å¥çš„å—ç»“å°¾ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">guard</span> <span class="k">let</span> <span class="nv">value</span> <span class="o">=</span> <span class="n">value</span> <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="mi">0</span> <span class="p">}</span>

<span class="k">defer</span> <span class="p">{</span> <span class="n">file</span><span class="o">.</span><span class="nf">close</span><span class="p">()</span> <span class="p">}</span>

<span class="k">switch</span> <span class="n">someEnum</span> <span class="p">{</span>
<span class="k">case</span> <span class="o">.</span><span class="nv">first</span><span class="p">:</span> <span class="k">return</span> <span class="mi">5</span>
<span class="k">case</span> <span class="o">.</span><span class="nv">second</span><span class="p">:</span> <span class="k">return</span> <span class="mi">10</span>
<span class="k">case</span> <span class="o">.</span><span class="nv">third</span><span class="p">:</span> <span class="k">return</span> <span class="mi">20</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">squares</span> <span class="o">=</span> <span class="n">numbers</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="nv">$0</span> <span class="o">*</span> <span class="nv">$0</span> <span class="p">}</span>

<span class="k">var</span> <span class="nv">someProperty</span><span class="p">:</span> <span class="kt">Int</span> <span class="p">{</span>
  <span class="k">get</span> <span class="p">{</span> <span class="k">return</span> <span class="n">otherObject</span><span class="o">.</span><span class="n">property</span> <span class="p">}</span>
  <span class="k">set</span> <span class="p">{</span> <span class="n">otherObject</span><span class="o">.</span><span class="n">property</span> <span class="o">=</span> <span class="n">newValue</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">var</span> <span class="nv">someProperty</span><span class="p">:</span> <span class="kt">Int</span> <span class="p">{</span> <span class="k">return</span> <span class="n">otherObject</span><span class="o">.</span><span class="nf">somethingElse</span><span class="p">()</span> <span class="p">}</span>

<span class="kd">required</span> <span class="nf">init</span><span class="p">?(</span><span class="n">coder</span> <span class="nv">aDecoder</span><span class="p">:</span> <span class="kt">NSCoder</span><span class="p">)</span> <span class="p">{</span> <span class="nf">fatalError</span><span class="p">(</span><span class="s">"no coder"</span><span class="p">)</span> <span class="p">}</span>
</code></pre></div></div>

<p>Wrapping the body of a single-statement block onto its own line is always
allowed. Exercise best judgment when deciding whether to place a conditional
statement and its body on the same line. For example, single line conditionals
work well for early-return and basic cleanup tasks, but less so when the body
contains a function call with significant logic. When in doubt, write it as a
multi-line statement.</p>

<p>å°†å—é‡ŒåŒ…å«çš„å•ä¸ªè¯­å¥å’Œå—æ”¾åœ¨åŒä¸€è¡Œæ€»æ˜¯å…è®¸çš„ã€‚ç”±ä½ è‡ªå·±åˆ¤æ–­æ˜¯å¦å°†æ¡ä»¶è¯­å¥å’Œå®ƒçš„æ‰§è¡Œä½“æ”¾åœ¨åŒä¸€è¡Œä¸­ã€‚ä¾‹å¦‚ï¼Œå•è¡Œæ¡ä»¶é€‚åˆè·Ÿæå‰è¿”å›å¹¶è¿›è¡Œç®€å•æ”¶å°¾çš„ä»£ç æ”¾åœ¨ä¸€è¡Œï¼Œä½†æ˜¯å½“æ‰§è¡Œä½“é‡ŒåŒ…å«äº†å‡½æ•°è°ƒç”¨æˆ–è€…é‡è¦çš„é€»è¾‘å°±ä¸å¤ªåˆé€‚äº†ã€‚ä¸€æ—¦çº ç»“ï¼Œä½¿ç”¨å¤šè¡Œè¯­å¥ã€‚</p>

<h3 id="æ¢è¡Œline-wrapping">æ¢è¡Œ/Line-Wrapping</h3>

<blockquote>
  <p>Terminology note: <strong>Line-wrapping</strong> is the activity of dividing code into
multiple lines that might otherwise legally occupy a single line.</p>

  <p>æœ¯è¯­è¯´æ˜ï¼š<strong>æ¢è¡Œ</strong>æ˜¯å°†ä»£ç åˆ†å‰²åˆ°å¤šä¸ªè¡Œçš„è¡Œä¸ºï¼Œå¦åˆ™å®ƒä»¬éƒ½ä¼šå †ç§¯åˆ°åŒä¸€è¡Œã€‚</p>
</blockquote>

<p>For the purposes of Google Swift style, many declarations (such as type
declarations and function declarations) and other expressions (like function
calls) can be partitioned into <strong>breakable</strong> units that are separated by
<strong>unbreakable</strong> delimiting token sequences.</p>

<p>æ ¹æ® Google Swift ä»£ç é£æ ¼çš„æ€æƒ³ï¼Œå¤§å¤šå£°æ˜ï¼ˆä¾‹å¦‚ç±»å‹å£°æ˜å’Œå‡½æ•°å£°æ˜ï¼‰å’Œå…¶ä»–è¡¨è¾¾å¼ï¼ˆä¾‹å¦‚å‡½æ•°è°ƒç”¨ï¼‰å¯ä»¥è¢«åˆ’åˆ†æˆ<strong>å¯ç ´å</strong>å•å…ƒï¼Œè¢«å®šä¹‰çš„<strong>ä¸å¯ç ´å</strong>æ ‡è®°ç¬¦è¿›è¡Œåˆ†å‰²ã€‚</p>

<p>As an example, consider the following complex function declaration, which needs
to be line-wrapped:</p>

<p>ä¸¾ä¸ªä¾‹å­ï¼Œè€ƒè™‘ä¸‹é¢è¿™ä¸ªå¤æ‚çš„å‡½æ•°å£°æ˜è¯¥å¦‚ä½•è¿›è¡Œæ¢è¡Œï¼š</p>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">index</span><span class="o">&lt;</span><span class="kt">Elements</span><span class="p">:</span> <span class="kt">Collection</span><span class="p">,</span> <span class="kt">Element</span><span class="o">&gt;</span><span class="p">(</span><span class="n">of</span> <span class="nv">element</span><span class="p">:</span> <span class="kt">Element</span><span class="p">,</span> <span class="k">in</span> <span class="nv">collection</span><span class="p">:</span> <span class="kt">Elements</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Elements</span><span class="o">.</span><span class="kt">Index</span><span class="p">?</span> <span class="k">where</span> <span class="kt">Elements</span><span class="o">.</span><span class="kt">Element</span> <span class="o">==</span> <span class="kt">Element</span><span class="p">,</span> <span class="kt">Element</span><span class="p">:</span> <span class="kt">Equatable</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div></div>

<p>This declaration is split as follows (scroll horizontally if necessary to see
the full example). Unbreakable token sequences are indicated in orange;
breakable sequences are indicated in blue.</p>

<p>è¿™ä¸ªå£°æ˜å¯ä»¥åƒä¸‹é¢è¿™æ ·è¿›è¡Œåˆ†å‰²ï¼ˆè¦çœ‹å®Œæ•´ä¾‹å­å¯èƒ½éœ€è¦æ°´å¹³æ»‘åŠ¨ï¼‰ã€‚ä¸å¯ç ´åæ ‡è®°ç¬¦æ ‡è®°ä¸ºæ©™è‰²ï¼›å¯ç ´åç¬¦å·æ ‡è®°ä¸ºè“è‰²ã€‚</p>

<pre class="lw-container lw-container-numbered">
<span class="lw-ub">public func index&lt;</span><span class="lw-br">Elements: Collection, Element</span><span class="lw-ub">&gt;(</span><span class="lw-br">of element: Element, in collection: Elements</span><span class="lw-ub">) -&gt;</span><span class="lw-br">Elements.Index?</span><span class="lw-ub">where</span><span class="lw-br">Elements.Element == Element, Element: Equatable</span>{
  // ...
}
</pre>

<ol>
  <li>
    <p>The <strong>unbreakable</strong> token sequence up through the open angle bracket (<code class="highlighter-rouge">&lt;</code>)
that begins the generic argument list.</p>

    <p><strong>ä¸å¯ç ´å</strong>æ ‡è®°ç¬¦ä»å¼€å§‹ç›´åˆ°æ ‡å¿—èŒƒå‹å®å‚åˆ—è¡¨å¼€å§‹çš„å¼€è¾¹å°–æ‹¬å·ï¼ˆ<code class="highlighter-rouge">&lt;</code>ï¼‰ã€‚</p>
  </li>
  <li>
    <p>The <strong>breakable</strong> list of generic arguments.</p>

    <p>èŒƒå‹å®å‚çš„<strong>å¯ç ´å</strong>åˆ—è¡¨ã€‚</p>
  </li>
  <li>
    <p>The <strong>unbreakable</strong> token sequence (<code class="highlighter-rouge">&gt;(</code>) that separates the generic
arguments from the formal arguments.</p>

    <p><strong>ä¸å¯ç ´å</strong>æ ‡è®°ç¬¦ï¼ˆ<code class="highlighter-rouge">&gt;ï¼ˆ</code>ï¼‰å°†èŒƒå‹å®å‚å’Œæ­£å¼å®å‚è¿›è¡Œåˆ†å‰²ã€‚</p>
  </li>
  <li>
    <p>The <strong>breakable</strong> comma-delimited list of formal arguments.</p>

    <p>æ­£å¼å®å‚çš„<strong>å¯ç ´å</strong>é€—å·åˆ†éš”åˆ—è¡¨ã€‚</p>
  </li>
  <li>
    <p>The <strong>unbreakable</strong> token-sequence from the closing parenthesis (<code class="highlighter-rouge">)</code>) up
through the arrow (<code class="highlighter-rouge">-&gt;</code>) that precedes the return type.</p>

    <p><strong>ä¸å¯ç ´å</strong>æ ‡è®°ç¬¦ä»é—­è¾¹æ‹¬å·ï¼ˆ<code class="highlighter-rouge">)</code>ï¼‰åˆ°è¿”å›ç±»å‹ä¹‹å‰çš„ç®­å¤´ï¼ˆ<code class="highlighter-rouge">-&gt;</code>ï¼‰ã€‚</p>
  </li>
  <li>
    <p>The <strong>breakable</strong> return type.</p>

    <p><strong>å¯ç ´å</strong>è¿”å›ç±»å‹ã€‚</p>
  </li>
  <li>
    <p>The <strong>unbreakable</strong> <code class="highlighter-rouge">where</code> keyword that begins the generic constraints list.</p>

    <p>åœ¨èŒƒå‹çº¦æŸåˆ—è¡¨å¼€å§‹çš„<strong>ä¸å¯ç ´å</strong> <code class="highlighter-rouge">where</code> å…³é”®å­—ã€‚</p>
  </li>
  <li>
    <p>The <strong>breakable</strong> comma-delimited list of generic constraints.</p>

    <p>èŒƒå‹çº¦æŸçš„<strong>å¯ç ´å</strong>é€—å·åˆ†éš”åˆ—è¡¨ã€‚</p>
  </li>
</ol>

<p>Using these concepts, the cardinal rules of Google Swift style for line-wrapping
are:</p>

<p>ç”¨ä¸Šè¿™äº›æ¦‚å¿µï¼ŒGoogle Swift ä»£ç é£æ ¼çš„åŸºæœ¬æ¢è¡Œè§„åˆ™å¦‚ä¸‹ï¼š</p>

<ol>
  <li>
    <p>If the entire declaration, statement, or expression fits on one line, then do
that.</p>

    <p>å¦‚æœæ•´ä¸ªå£°æ˜ï¼Œè¯­å¥æˆ–è€…è¡¨è¾¾å¼é€‚åˆä½¿ç”¨ä¸€è¡Œï¼Œå°±ä½¿ç”¨ä¸€è¡Œã€‚</p>
  </li>
  <li>
    <p>Comma-delimited lists are only laid out in one direction: horizontally or
vertically. In other words, all elements must fit on the same line, or each
element must be on its own line. A horizontally-oriented list does not
contain any line breaks, even before the first element or after the last
element. Except in control flow statements, a vertically-oriented list
contains a line break before the first element and after each element.</p>

    <p>é€—å·åˆ†éš”åˆ—è¡¨åªèƒ½ä¸€ä¸ªæ–¹å‘å±•ç¤ºï¼šæ°´å¹³æˆ–è€…å‚ç›´ã€‚æ¢å¥è¯è¯´ï¼Œæ‰€æœ‰å…ƒç´ å¿…é¡»åœ¨åŒä¸€è¡Œä¸Šï¼Œæˆ–è€…æ¯ä¸ªå…ƒç´ å¿…é¡»åœ¨å•ç‹¬çš„è¡Œä¸Šã€‚æ°´å¹³å‘çš„åˆ—è¡¨ä¸åŒ…å«ä»»ä½•æ¢è¡Œï¼Œå³ä½¿åœ¨ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰æˆ–è€…æœ€åä¸€ä¸ªå…ƒç´ ä¹‹åã€‚é™¤æ§åˆ¶æµè¯­å¥å¤–ï¼Œå‚ç›´å‘çš„åˆ—è¡¨åœ¨ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰å’Œæ¯ä¸ªå…ƒç´ ä¹‹åéœ€è¦æ¢è¡Œã€‚</p>
  </li>
  <li>
    <p>A continuation line starting with an unbreakable token sequence is indented
at the same level as the original line.</p>

    <p>ä»¥ä¸å¯ç ´åæ ‡è®°ç¬¦å¼€å§‹çš„åç»­è¡Œå’ŒåŸå§‹è¡Œç¼©è¿›ä¿æŒä¸€è‡´ã€‚</p>
  </li>
  <li>
    <p>A continuation line that is part of a vertically-oriented comma-delimited
list is indented exactly +2 from the original line.</p>

    <p>ä½œä¸ºå‚ç›´å‘é€—å·åˆ†éš”åˆ—è¡¨ä¸€éƒ¨åˆ†çš„åç»­è¡Œåœ¨åŸå§‹è¡Œç¼©è¿›çš„åŸºç¡€ä¸Š+2ã€‚</p>
  </li>
  <li>
    <p>When an open curly brace (<code class="highlighter-rouge">{</code>) follows a line-wrapped declaration or
expression, it is on the same line as the final continuation line unless that
line is indented at +2 from the original line. In that case, the brace is
placed on its own line, to avoid the continuation lines from blending
visually with the body of the subsequent block.</p>

    <p>åœ¨æ¢è¡Œçš„å£°æ˜æˆ–è€…è¡¨è¾¾å¼åçš„å¼€è¾¹èŠ±æ‹¬å·ï¼ˆ<code class="highlighter-rouge">{</code>ï¼‰ï¼Œé™¤éè¯¥è¡Œçš„ç¼©è¿›æ˜¯åœ¨åŸå§‹è¡Œçš„åŸºç¡€ä¸Š+2ï¼Œéƒ½å’Œæœ€åçš„åç»­è¡Œåœ¨åŒä¸€è¡Œã€‚é‚£ç§æƒ…å†µä¸‹ï¼ŒèŠ±æ‹¬å·å¦èµ·ä¸€è¡Œï¼Œé¿å…è¯¥è¡Œå’Œéšåå—é‡Œçš„å†…å®¹åœ¨è§†è§‰ä¸Šæœ‰æ··æ·†ã€‚</p>

    <div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">index</span><span class="o">&lt;</span><span class="kt">Elements</span><span class="p">:</span> <span class="kt">Collection</span><span class="p">,</span> <span class="kt">Element</span><span class="o">&gt;</span><span class="p">(</span>
  <span class="n">of</span> <span class="nv">element</span><span class="p">:</span> <span class="kt">Element</span><span class="p">,</span>
  <span class="k">in</span> <span class="nv">collection</span><span class="p">:</span> <span class="kt">Elements</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Elements</span><span class="o">.</span><span class="kt">Index</span><span class="p">?</span>
<span class="k">where</span>
  <span class="kt">Elements</span><span class="o">.</span><span class="kt">Element</span> <span class="o">==</span> <span class="kt">Element</span><span class="p">,</span>
  <span class="kt">Element</span><span class="p">:</span> <span class="kt">Equatable</span>
<span class="p">{</span>  <span class="c1">// GOOD.</span>
  <span class="k">for</span> <span class="n">current</span> <span class="k">in</span> <span class="n">elements</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>    </div>

    <div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">index</span><span class="o">&lt;</span><span class="kt">Elements</span><span class="p">:</span> <span class="kt">Collection</span><span class="p">,</span> <span class="kt">Element</span><span class="o">&gt;</span><span class="p">(</span>
  <span class="n">of</span> <span class="nv">element</span><span class="p">:</span> <span class="kt">Element</span><span class="p">,</span>
  <span class="k">in</span> <span class="nv">collection</span><span class="p">:</span> <span class="kt">Elements</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Elements</span><span class="o">.</span><span class="kt">Index</span><span class="p">?</span>
<span class="k">where</span>
  <span class="kt">Elements</span><span class="o">.</span><span class="kt">Element</span> <span class="o">==</span> <span class="kt">Element</span><span class="p">,</span>
  <span class="kt">Element</span><span class="p">:</span> <span class="kt">Equatable</span> <span class="p">{</span>  <span class="c1">// AVOID.</span>
  <span class="k">for</span> <span class="n">current</span> <span class="k">in</span> <span class="n">elements</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>    </div>
  </li>
</ol>

<p>For declarations that contain a <code class="highlighter-rouge">where</code> clause followed by generic constraints,
additional rules apply:</p>

<p>å½“å£°æ˜é‡ŒåŒ…å«äº†ç”¨äºèŒƒå‹çº¦æŸçš„ <code class="highlighter-rouge">where</code> å…³é”®å­—æ—¶ï¼Œéœ€è¦éµå¾ªçš„é¢å¤–è§„åˆ™ï¼š</p>

<ol>
  <li>
    <p>If the generic constraint list exceeds the column limit when placed on the
same line as the return type, then a line break is first inserted <strong>before</strong>
the <code class="highlighter-rouge">where</code> keyword and the <code class="highlighter-rouge">where</code> keyword is indented at the same level as
the original line.</p>

    <p>å¦‚æœèŒƒå‹çº¦æŸåˆ—è¡¨å’Œè¿”å›ç±»å‹åœ¨åŒä¸€è¡Œæ—¶è¶…è¿‡äº†å•è¡Œå­—ç¬¦é™åˆ¶ï¼Œåœ¨ <code class="highlighter-rouge">where</code> å…³é”®å­—<strong>ä¹‹å‰</strong>æ’å…¥æ¢è¡Œï¼Œå¹¶ä¸”å’ŒåŸå§‹è¡Œç¼©è¿›ä¿æŒä¸€è‡´ã€‚</p>
  </li>
  <li>
    <p>If the generic constraint list still exceeds the column limit after inserting
the line break above, then the constraint list is oriented vertically with a
line break after the <code class="highlighter-rouge">where</code> keyword and a line break after the final
constraint.</p>

    <p>å¦‚æœèŒƒå‹çº¦æŸåˆ—è¡¨åœ¨æ¢è¡Œä¹‹åä¾æ—§è¶…è¿‡å•è¡Œå­—ç¬¦é™åˆ¶ï¼Œé‚£ä¹ˆåœ¨ <code class="highlighter-rouge">where</code> å…³é”®å­—åæ¢è¡Œï¼Œçº¦æŸåˆ—è¡¨ç”¨å‚ç›´æ–¹å‘å±•ç¤ºï¼Œå¹¶åœ¨æœ€åä¸€ä¸ªçº¦æŸåé¢æ¢è¡Œã€‚</p>
  </li>
</ol>

<p>Concrete examples of this are shown in the relevant subsections below.</p>

<p>å…·ä½“ä¾‹å­è§ä¸‹é¢ç›¸å…³æ®µè½çš„å†…å®¹ã€‚</p>

<p>This line-wrapping style ensures that the different parts of a declaration are
<em>quickly and easily identifiable to the reader</em> by using indentation and line
breaks, while also preserving the same indentation level for those parts
throughout the file. Specifically, it prevents the zig-zag effect that would be
present if the arguments are indented based on opening parentheses, as is common
in other languages:</p>

<p>è¿™ä¸ªæ¢è¡Œé£æ ¼èƒ½ç¡®ä¿é€šè¿‡ç¼©è¿›å’Œæ¢è¡Œè®©_è¯»è€…_å¯ä»¥_å¿«é€Ÿå®¹æ˜“åœ°è¯†åˆ«_å£°æ˜çš„ä¸åŒéƒ¨åˆ†ï¼Œå¹¶ä¸”åœ¨æ–‡ä»¶ä¸­çš„è¿™äº›éƒ¨åˆ†ç¼©è¿›é£æ ¼åº”è¯¥ä¿æŒä¸€è‡´ã€‚å…·ä½“æ¥è¯´ï¼Œè¿™èƒ½é¿å…å®å‚åŸºäºå¼€è¾¹æ‹¬å·ç¼©è¿›è€Œå‡ºç°çš„é”¯é½¿æ•ˆåº”ï¼Œè¿™åœ¨å…¶ä»–è¯­è¨€é‡Œå¾ˆå¸¸è§ï¼š</p>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">index</span><span class="o">&lt;</span><span class="kt">Elements</span><span class="p">:</span> <span class="kt">Collection</span><span class="p">,</span> <span class="kt">Element</span><span class="o">&gt;</span><span class="p">(</span><span class="n">of</span> <span class="nv">element</span><span class="p">:</span> <span class="kt">Element</span><span class="p">,</span>  <span class="c1">// AVOID.</span>
                                                 <span class="k">in</span> <span class="nv">collection</span><span class="p">:</span> <span class="kt">Elements</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Elements</span><span class="o">.</span><span class="kt">Index</span><span class="p">?</span>
    <span class="k">where</span> <span class="kt">Elements</span><span class="o">.</span><span class="kt">Element</span> <span class="o">==</span> <span class="kt">Element</span><span class="p">,</span> <span class="kt">Element</span><span class="p">:</span> <span class="kt">Equatable</span> <span class="p">{</span>
  <span class="nf">doSomething</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="å‡½æ•°å£°æ˜function-declarations">å‡½æ•°å£°æ˜/Function Declarations</h4>

<pre class="lw-container">
<span class="lw-ub"><em>modifiers</em> func <em>name</em>(</span><span class="lw-br"><em>formal arguments</em></span><span class="lw-ub">)</span>{
<span class="lw-ub"><em>modifiers</em> func <em>name</em>(</span><span class="lw-br"><em>formal arguments</em></span><span class="lw-ub">) -&gt;</span><span class="lw-br"><em>result</em></span>{

<span class="lw-ub"><em>modifiers</em> func <em>name</em>&lt;</span><span class="lw-br"><em>generic arguments</em></span><span class="lw-ub">&gt;(</span><span class="lw-br"><em>formal arguments</em></span><span class="lw-ub">) throws -&gt;</span><span class="lw-br"><em>result</em></span>{

<span class="lw-ub"><em>modifiers</em> func <em>name</em>&lt;</span><span class="lw-br"><em>generic arguments</em></span><span class="lw-ub">&gt;(</span><span class="lw-br"><em>formal arguments</em></span><span class="lw-ub">) throws -&gt;</span><span class="lw-br"><em>result</em></span><span class="lw-ub">where</span><span class="lw-br"><em>generic constraints</em></span>{
</pre>

<p>Applying the rules above from left to right gives us the following
line-wrapping:</p>

<p>å°†ä¸Šé¢çš„è§„åˆ™ä»å·¦åˆ°å³åº”ç”¨å¾—åˆ°ä¸‹é¢çš„æ¢è¡Œï¼š</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">index</span><span class="o">&lt;</span><span class="kt">Elements</span><span class="p">:</span> <span class="kt">Collection</span><span class="p">,</span> <span class="kt">Element</span><span class="o">&gt;</span><span class="p">(</span>
  <span class="n">of</span> <span class="nv">element</span><span class="p">:</span> <span class="kt">Element</span><span class="p">,</span>
  <span class="k">in</span> <span class="nv">collection</span><span class="p">:</span> <span class="kt">Elements</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Elements</span><span class="o">.</span><span class="kt">Index</span><span class="p">?</span> <span class="k">where</span> <span class="kt">Elements</span><span class="o">.</span><span class="kt">Element</span> <span class="o">==</span> <span class="kt">Element</span><span class="p">,</span> <span class="kt">Element</span><span class="p">:</span> <span class="kt">Equatable</span> <span class="p">{</span>
  <span class="k">for</span> <span class="n">current</span> <span class="k">in</span> <span class="n">elements</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Function declarations in protocols that are terminated with a closing
parenthesis (<code class="highlighter-rouge">)</code>) may place the parenthesis on the same line as the final
argument <strong>or</strong> on its own line.</p>

<p>åè®®é‡Œä»¥é—­è¾¹æ‹¬å·ï¼ˆ<code class="highlighter-rouge">)</code>ï¼‰ç»“æŸçš„å‡½æ•°å£°æ˜å¯ä»¥å°†æ‹¬å·å’Œæœ€åçš„å®å‚æ”¾åœ¨åŒä¸€è¡Œ<strong>æˆ–è€…</strong>å¦èµ·ä¸€è¡Œã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">ContrivedExampleDelegate</span> <span class="p">{</span>
  <span class="kd">func</span> <span class="nf">contrivedExample</span><span class="p">(</span>
    <span class="n">_</span> <span class="nv">contrivedExample</span><span class="p">:</span> <span class="kt">ContrivedExample</span><span class="p">,</span>
    <span class="n">willDoSomethingTo</span> <span class="nv">someValue</span><span class="p">:</span> <span class="kt">SomeValue</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">ContrivedExampleDelegate</span> <span class="p">{</span>
  <span class="kd">func</span> <span class="nf">contrivedExample</span><span class="p">(</span>
    <span class="n">_</span> <span class="nv">contrivedExample</span><span class="p">:</span> <span class="kt">ContrivedExample</span><span class="p">,</span>
    <span class="n">willDoSomethingTo</span> <span class="nv">someValue</span><span class="p">:</span> <span class="kt">SomeValue</span>
  <span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>If types are complex and/or deeply nested, individual elements in the
arguments/constraints lists and/or the return type may also need to be wrapped.
In these rare cases, the same line-wrapping rules apply to those parts as apply
to the declaration itself.</p>

<p>å¦‚æœç±»å‹å¾ˆå¤æ‚å’Œ/æˆ–æœ‰æ·±å±‚åµŒå¥—ï¼Œåœ¨ä½œä¸ºå®å‚/çº¦æŸåˆ—è¡¨å’Œ/æˆ–è¿”å›ç±»å‹çš„å•ä¸ªå…ƒç´ æ—¶ä¹Ÿå¯èƒ½éœ€è¦æ¢è¡Œã€‚åœ¨è¿™ç§ç½•è§æƒ…å†µä¸‹ï¼Œä½¿ç”¨å’Œå£°æ˜ä¸€è‡´çš„æ¢è¡Œè§„åˆ™ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">performanceTrackingIndex</span><span class="o">&lt;</span><span class="kt">Elements</span><span class="p">:</span> <span class="kt">Collection</span><span class="p">,</span> <span class="kt">Element</span><span class="o">&gt;</span><span class="p">(</span>
  <span class="n">of</span> <span class="nv">element</span><span class="p">:</span> <span class="kt">Element</span><span class="p">,</span>
  <span class="k">in</span> <span class="nv">collection</span><span class="p">:</span> <span class="kt">Elements</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span>
  <span class="kt">Element</span><span class="o">.</span><span class="kt">Index</span><span class="p">?,</span>
  <span class="kt">PerformanceTrackingIndexStatistics</span><span class="o">.</span><span class="kt">Timings</span><span class="p">,</span>
  <span class="kt">PerformanceTrackingIndexStatistics</span><span class="o">.</span><span class="kt">SpaceUsed</span>
<span class="p">)</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div></div>

<p>However, <code class="highlighter-rouge">typealias</code>es or some other means are often a better way to simplify
complex declarations whenever possible.</p>

<p>ç„¶è€Œï¼Œå¦‚æœå¯ä»¥ç”¨ <code class="highlighter-rouge">typealias</code> æˆ–å…¶ä»–æ‰‹æ®µç®€åŒ–å¤æ‚å£°æ˜é€šå¸¸æ˜¯æ›´å¥½çš„è§£å†³æ–¹æ³•ã€‚</p>

<h4 id="ç±»å‹å’Œæ‹“å±•å£°æ˜type-and-extension-declarations">ç±»å‹å’Œæ‹“å±•å£°æ˜/Type and Extension Declarations</h4>

<p>The examples below apply equally to <code class="highlighter-rouge">class</code>, <code class="highlighter-rouge">struct</code>, <code class="highlighter-rouge">enum</code>, <code class="highlighter-rouge">extension</code>, and
<code class="highlighter-rouge">protocol</code> (with the obvious exception that all but the first do not have
superclasses in their inheritance list, but they are otherwise structurally
similar).</p>

<p>ä¸‹é¢çš„ä¾‹å­åŒæ ·é€‚ç”¨äº <code class="highlighter-rouge">class</code>ï¼Œ<code class="highlighter-rouge">struct</code>ï¼Œ<code class="highlighter-rouge">enum</code>ï¼Œ<code class="highlighter-rouge">extension</code> å’Œ <code class="highlighter-rouge">protocol</code>ï¼ˆé™¤äº†ç¬¬ä¸€ä¸ªçš„ç»§æ‰¿åˆ—è¡¨é‡Œæœ‰çˆ¶ç±»å¤–ï¼Œå…¶ä½™ç»“æ„éƒ½æ˜¯ç±»ä¼¼çš„ï¼‰ã€‚</p>

<pre class="lw-container">
<span class="lw-ub"><em>modifiers</em> class <em>Name</em></span>{

<span class="lw-ub"><em>modifiers</em> class <em>Name</em>:</span><span class="lw-br"><em>superclass and protocols</em></span>{

<span class="lw-ub"><em>modifiers</em> class <em>Name</em>&lt;</span><span class="lw-br"><em>generic arguments</em></span><span class="lw-ub">&gt;:</span><span class="lw-br"><em>superclass and protocols</em></span>{

<span class="lw-ub"><em>modifiers</em> class <em>Name</em>&lt;</span><span class="lw-br"><em>generic arguments</em></span><span class="lw-ub">&gt;:</span><span class="lw-br"><em>superclass and protocols</em></span><span class="lw-ub">where</span><span class="lw-br"><em>generic constraints</em></span>{
</pre>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">MyClass</span><span class="p">:</span>
  <span class="kt">MySuperclass</span><span class="p">,</span>
  <span class="kt">MyProtocol</span><span class="p">,</span>
  <span class="kt">SomeoneElsesProtocol</span><span class="p">,</span>
  <span class="kt">SomeFrameworkProtocol</span>
<span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="kt">MyContainer</span><span class="o">&lt;</span><span class="kt">Element</span><span class="o">&gt;</span><span class="p">:</span>
  <span class="kt">MyContainerSuperclass</span><span class="p">,</span>
  <span class="kt">MyContainerProtocol</span><span class="p">,</span>
  <span class="kt">SomeoneElsesContainerProtocol</span><span class="p">,</span>
  <span class="kt">SomeFrameworkContainerProtocol</span>
<span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="kt">MyContainer</span><span class="o">&lt;</span><span class="kt">BaseCollection</span><span class="o">&gt;</span><span class="p">:</span>
  <span class="kt">MyContainerSuperclass</span><span class="p">,</span>
  <span class="kt">MyContainerProtocol</span><span class="p">,</span>
  <span class="kt">SomeoneElsesContainerProtocol</span><span class="p">,</span>
  <span class="kt">SomeFrameworkContainerProtocol</span>
<span class="k">where</span> <span class="kt">BaseCollection</span><span class="p">:</span> <span class="kt">Collection</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="kt">MyContainer</span><span class="o">&lt;</span><span class="kt">BaseCollection</span><span class="o">&gt;</span><span class="p">:</span>
  <span class="kt">MyContainerSuperclass</span><span class="p">,</span>
  <span class="kt">MyContainerProtocol</span><span class="p">,</span>
  <span class="kt">SomeoneElsesContainerProtocol</span><span class="p">,</span>
  <span class="kt">SomeFrameworkContainerProtocol</span>
<span class="k">where</span>
  <span class="kt">BaseCollection</span><span class="p">:</span> <span class="kt">Collection</span><span class="p">,</span>
  <span class="kt">BaseCollection</span><span class="o">.</span><span class="kt">Element</span><span class="p">:</span> <span class="kt">Equatable</span><span class="p">,</span>
  <span class="kt">BaseCollection</span><span class="o">.</span><span class="kt">Element</span><span class="p">:</span> <span class="kt">SomeOtherProtocolOnlyUsedToForceLineWrapping</span>
<span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="å‡½æ•°è°ƒç”¨function-calls">å‡½æ•°è°ƒç”¨/Function Calls</h4>

<p>When a function call is line-wrapped, each argument is written on its own line,
indented +2 from the original line.</p>

<p>å½“å‡½æ•°è°ƒç”¨éœ€è¦æ¢è¡Œæ—¶ï¼Œæ¯ä¸€ä¸ªå®å‚å•ç‹¬ä¸€è¡Œï¼Œå¹¶åœ¨åŸå§‹è¡Œç¼©è¿›åŸºç¡€ä¸Š +2ã€‚</p>

<p>As with function declarations, if the function call terminates its enclosing
statement and ends with a closing parenthesis (<code class="highlighter-rouge">)</code>) (that is, it has no trailing
closure), then the parenthesis may be placed <strong>either</strong> on the same line as the
final argument <strong>or</strong> on its own line.</p>

<p>å’Œå‡½æ•°å£°æ˜ä¸€æ ·ï¼Œå¦‚æœå‡½æ•°è°ƒç”¨çš„è¯­å¥ä»¥é—­è¾¹æ‹¬å·ï¼ˆ<code class="highlighter-rouge">)</code>ï¼‰ç»“æŸï¼ˆæ„å‘³ç€æ²¡æœ‰å°¾éšé—­åŒ…ï¼‰ï¼Œæ‹¬å·<strong>æ—¢å¯ä»¥</strong>å’Œæœ€åä¸€ä¸ªå®å‚åœ¨åŒä¸€è¡Œ<strong>ä¹Ÿå¯ä»¥</strong>å¦èµ·ä¸€è¡Œã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">index</span> <span class="o">=</span> <span class="nf">index</span><span class="p">(</span>
  <span class="nv">of</span><span class="p">:</span> <span class="n">veryLongElementVariableName</span><span class="p">,</span>
  <span class="nv">in</span><span class="p">:</span> <span class="n">aCollectionOfElementsThatAlsoHappensToHaveALongName</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">index</span> <span class="o">=</span> <span class="nf">index</span><span class="p">(</span>
  <span class="nv">of</span><span class="p">:</span> <span class="n">veryLongElementVariableName</span><span class="p">,</span>
  <span class="nv">in</span><span class="p">:</span> <span class="n">aCollectionOfElementsThatAlsoHappensToHaveALongName</span>
<span class="p">)</span>
</code></pre></div></div>

<p>If the function call ends with a trailing closure and the closureâ€™s signature
must be wrapped, then place it on its own line and wrap the argument list in
parentheses to distinguish it from the body of the closure below it.</p>

<p>å¦‚æœå‡½æ•°è°ƒç”¨ä»¥å°¾éšé—­åŒ…ç»“æŸï¼Œå¹¶ä¸”é—­åŒ…ç­¾åéœ€è¦æ¢è¡Œçš„è¯ï¼Œå¦èµ·ä¸€è¡Œå¹¶å°†å®å‚åˆ—è¡¨åŒ…åœ¨æ‹¬å·ä¸­ä»¥ä¾¿å’Œä¸‹é¢çš„é—­åŒ…ä½“åŒºåˆ†ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">someAsynchronousAction</span><span class="o">.</span><span class="nf">execute</span><span class="p">(</span><span class="nv">withDelay</span><span class="p">:</span> <span class="n">howManySeconds</span><span class="p">,</span> <span class="nv">context</span><span class="p">:</span> <span class="n">actionContext</span><span class="p">)</span> <span class="p">{</span>
  <span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">completion</span><span class="p">)</span> <span class="k">in</span>
  <span class="nf">doSomething</span><span class="p">(</span><span class="nv">withContext</span><span class="p">:</span> <span class="n">context</span><span class="p">)</span>
  <span class="nf">completion</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="æ§åˆ¶æµè¯­å¥control-flow-statements">æ§åˆ¶æµè¯­å¥/Control Flow Statements</h4>

<p>When a control flow statement (such as <code class="highlighter-rouge">if</code>, <code class="highlighter-rouge">guard</code>, <code class="highlighter-rouge">while</code>, or <code class="highlighter-rouge">for</code>) is
wrapped, the first continuation line is indented to the same position as the
token following the control flow keyword. Additional continuation lines are
indented at that same position if they are syntactically parallel elements, or
in +2 increments from that position if they are syntactically nested.</p>

<p>å½“æ§åˆ¶æµè¯­å¥ï¼ˆä¾‹å¦‚ <code class="highlighter-rouge">if</code>,<code class="highlighter-rouge">gurad</code>,<code class="highlighter-rouge">while</code> æˆ– <code class="highlighter-rouge">for</code>ï¼‰éœ€è¦æ¢è¡Œæ—¶ï¼Œé¦–ä¸ªåç»­è¡Œçš„ç¼©è¿›å’Œç´§æ¥ç€æ§åˆ¶æµå…³é”®å­—çš„å…ƒç´ ä¿æŒä¸€è‡´ã€‚å…¶ä½™çš„åç»­è¡Œå¦‚æœæ˜¯è¯­æ³•ä¸Šå¹³çº§çš„å…ƒç´ ï¼Œé‚£ä¹ˆç¼©è¿›ä¹Ÿä¿æŒä¸€è‡´ï¼Œå¦‚æœè¯­æ³•ä¸Šæœ‰åµŒå¥—å±‚çº§ï¼Œåˆ™åœ¨åŸæ¥ç¼©è¿›åŸºç¡€ä¸Š+2ã€‚</p>

<p>The open brace (<code class="highlighter-rouge">{</code>) preceding the body of the control flow statement can either
be placed on the same line as the last continuation line or on the next line,
at the same indentation level as the beginning of the statement. For <code class="highlighter-rouge">guard</code>
statements, the <code class="highlighter-rouge">else {</code> must be kept together, either on the same line or on
the next line.</p>

<p>æ§åˆ¶æµè¯­å¥æ‰§è¡Œä½“å‰é¢å¼€è¾¹èŠ±æ‹¬å·ï¼ˆ<code class="highlighter-rouge">{</code>ï¼‰æ—¢å¯ä»¥å’Œæœ€åçš„æ¡ä»¶åŒä¸€è¡Œä¹Ÿå¯ä»¥å¦èµ·ä¸€è¡Œï¼Œå¹¶å’Œè¯¥è¯­å¥ç¼©è¿›ä¿æŒä¸€è‡´ã€‚å¯¹äº <code class="highlighter-rouge">guard</code> è¯­å¥ï¼Œ <code class="highlighter-rouge">else {</code> å¿…é¡»è¿åœ¨ä¸€èµ·ï¼Œä¸ç®¡æ˜¯åœ¨åŒä¸€è¡Œä¸­è¿˜æ˜¯å¦èµ·ä¸€è¡Œã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="nf">aBooleanValueReturnedByAVeryLongOptionalThing</span><span class="p">()</span> <span class="o">&amp;&amp;</span>
   <span class="nf">aDifferentBooleanValueReturnedByAVeryLongOptionalThing</span><span class="p">()</span> <span class="o">&amp;&amp;</span>
   <span class="nf">yetAnotherBooleanValueThatContributesToTheWrapping</span><span class="p">()</span> <span class="p">{</span>
  <span class="nf">doSomething</span><span class="p">()</span>
<span class="p">}</span>

<span class="k">if</span> <span class="nf">aBooleanValueReturnedByAVeryLongOptionalThing</span><span class="p">()</span> <span class="o">&amp;&amp;</span>
   <span class="nf">aDifferentBooleanValueReturnedByAVeryLongOptionalThing</span><span class="p">()</span> <span class="o">&amp;&amp;</span>
   <span class="nf">yetAnotherBooleanValueThatContributesToTheWrapping</span><span class="p">()</span>
<span class="p">{</span>
  <span class="nf">doSomething</span><span class="p">()</span>
<span class="p">}</span>

<span class="k">if</span> <span class="k">let</span> <span class="nv">value</span> <span class="o">=</span> <span class="nf">aValueReturnedByAVeryLongOptionalThing</span><span class="p">(),</span>
   <span class="k">let</span> <span class="nv">value2</span> <span class="o">=</span> <span class="nf">aDifferentValueReturnedByAVeryLongOptionalThing</span><span class="p">()</span> <span class="p">{</span>
  <span class="nf">doSomething</span><span class="p">()</span>
<span class="p">}</span>

<span class="k">if</span> <span class="k">let</span> <span class="nv">value</span> <span class="o">=</span> <span class="nf">aValueReturnedByAVeryLongOptionalThing</span><span class="p">(),</span>
   <span class="k">let</span> <span class="nv">value2</span> <span class="o">=</span> <span class="nf">aDifferentValueReturnedByAVeryLongOptionalThingThatForcesTheBraceToBeWrapped</span><span class="p">()</span>
<span class="p">{</span>
  <span class="nf">doSomething</span><span class="p">()</span>
<span class="p">}</span>

<span class="k">guard</span> <span class="k">let</span> <span class="nv">value</span> <span class="o">=</span> <span class="nf">aValueReturnedByAVeryLongOptionalThing</span><span class="p">(),</span>
      <span class="k">let</span> <span class="nv">value2</span> <span class="o">=</span> <span class="nf">aDifferentValueReturnedByAVeryLongOptionalThing</span><span class="p">()</span> <span class="k">else</span> <span class="p">{</span>
  <span class="nf">doSomething</span><span class="p">()</span>
<span class="p">}</span>

<span class="k">guard</span> <span class="k">let</span> <span class="nv">value</span> <span class="o">=</span> <span class="nf">aValueReturnedByAVeryLongOptionalThing</span><span class="p">(),</span>
      <span class="k">let</span> <span class="nv">value2</span> <span class="o">=</span> <span class="nf">aDifferentValueReturnedByAVeryLongOptionalThing</span><span class="p">()</span>
<span class="k">else</span> <span class="p">{</span>
  <span class="nf">doSomething</span><span class="p">()</span>
<span class="p">}</span>

<span class="k">for</span> <span class="n">element</span> <span class="k">in</span> <span class="n">collection</span>
    <span class="k">where</span> <span class="n">element</span><span class="o">.</span><span class="n">happensToHaveAVeryLongPropertyNameThatYouNeedToCheck</span> <span class="p">{</span>
  <span class="nf">doSomething</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="å…¶ä»–è¡¨è¾¾å¼other-expressions">å…¶ä»–è¡¨è¾¾å¼/Other Expressions</h4>

<p>When line-wrapping other expressions that are not function calls (as described
above), the second line (the one immediately following the first break) is
indented exactly +2 from the original line.</p>

<p>éå‡½æ•°è°ƒç”¨ï¼ˆä¸Šé¢æåˆ°çš„ï¼‰çš„å…¶ä»–è¡¨è¾¾å¼æ¢è¡Œæ—¶ï¼Œç¬¬äºŒè¡Œï¼ˆåœ¨ç¬¬ä¸€ä¸ªæ¢è¡Œåçš„è¡Œï¼‰çš„ç¼©è¿›åœ¨åŸå§‹è¡Œçš„åŸºç¡€ä¸Š+2ã€‚</p>

<p>When there are multiple continuation lines, indentation may be varied in
increments of +2 as needed. In general, two continuation lines use the same
indentation level if and only if they begin with syntactically parallel
elements. However, if there are many continuation lines caused by long wrapped
expressions, consider splitting them into multiple statements using temporary
variables when possible.</p>

<p>å½“æœ‰å¤šä¸ªåç»­è¡Œæ—¶ï¼Œç¼©è¿›ä¼šæ ¹æ®éœ€è¦åœ¨åŸæ¥çš„åŸºç¡€ä¸Š +2 é€’å¢å˜åŒ–ã€‚é€šå¸¸æ¥è¯´ï¼Œæœ‰ä¸”ä»…å½“ä¸¤ä¸ªåç»­è¡Œä»¥è¯­æ³•ä¸Šå¹³çº§çš„å…ƒç´ å¼€å§‹æ—¶æ‰ä½¿ç”¨ç›¸åŒçš„ç¼©è¿›ã€‚ç„¶è€Œï¼Œå¦‚æœå› ä¸ºå¾ˆé•¿çš„è¡¨è¾¾å¼äº§ç”Ÿäº†å¾ˆå¤šä¸ªåç»­è¡Œï¼Œè€ƒè™‘å°†å®ƒåˆ†éš”æˆå¤šä¸ªè¯­å¥çš„å¯èƒ½æ€§ï¼Œå¹¶ä½¿ç”¨ä¸´æ—¶å˜é‡ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">result</span> <span class="o">=</span> <span class="n">anExpression</span> <span class="o">+</span> <span class="n">thatIsMadeUpOf</span> <span class="o">*</span> <span class="n">aLargeNumber</span> <span class="o">+</span>
  <span class="n">ofTerms</span> <span class="o">/</span> <span class="n">andTherefore</span> <span class="o">%</span> <span class="n">mustBeWrapped</span> <span class="o">+</span> <span class="p">(</span>
    <span class="n">andWeWill</span> <span class="o">-</span> <span class="n">keepMakingItLonger</span> <span class="o">*</span> <span class="n">soThatWeHave</span> <span class="o">/</span> <span class="n">aContrivedExample</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">result</span> <span class="o">=</span> <span class="n">anExpression</span> <span class="o">+</span> <span class="n">thatIsMadeUpOf</span> <span class="o">*</span> <span class="n">aLargeNumber</span> <span class="o">+</span>
    <span class="n">ofTerms</span> <span class="o">/</span> <span class="n">andTherefore</span> <span class="o">%</span> <span class="n">mustBeWrapped</span> <span class="o">+</span> <span class="p">(</span>
        <span class="n">andWeWill</span> <span class="o">-</span> <span class="n">keepMakingItLonger</span> <span class="o">*</span> <span class="n">soThatWeHave</span> <span class="o">/</span> <span class="n">aContrivedExample</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="æ°´å¹³ç©ºæ ¼horizontal-whitespace">æ°´å¹³ç©ºæ ¼/Horizontal Whitespace</h3>

<blockquote>
  <p><strong>Terminology note:</strong> In this section, <em>horizontal whitespace</em> refers to
<em>interior</em> space. These rules are never interpreted as requiring or forbidding
additional space at the start of a line.</p>

  <p><strong>æœ¯è¯­è¯´æ˜ï¼š</strong>åœ¨è¿™ä¸ªç« èŠ‚ï¼Œ_æ°´å¹³ç©ºæ ¼_æŒ‡çš„æ˜¯_å†…éƒ¨_ç©ºæ ¼ã€‚è¿™äº›è§„åˆ™ä¸é€‚ç”¨äºè¡Œå¼€å§‹æ—¶éœ€è¦æˆ–ç¦æ­¢çš„é¢å¤–ç©ºæ ¼ã€‚</p>
</blockquote>

<p>Beyond where required by the language or other style rules, and apart from
literals and comments, a single Unicode space also appears in the following
places <strong>only</strong>:</p>

<p>æ ¹æ®è¯­è¨€è¦æ±‚æˆ–å…¶ä»–ä»£ç é£æ ¼çš„è§„åˆ™ï¼Œé™¤äº†å­—é¢é‡å’Œæ³¨é‡Šå¤–çš„å•ä¸ª Unicode ç©ºæ ¼<strong>åªèƒ½</strong>åœ¨ä¸‹é¢è¿™äº›æƒ…å†µå‡ºç°ï¼š</p>

<ol>
  <li>
    <p>Separating any reserved word starting a conditional or switch statement (such
as <code class="highlighter-rouge">if</code>, <code class="highlighter-rouge">guard</code>, <code class="highlighter-rouge">while</code>, or <code class="highlighter-rouge">switch</code>) from the expression that follows it
if that expression starts with an open parenthesis (<code class="highlighter-rouge">(</code>).</p>

    <p>æ¡ä»¶æˆ– switch è¯­å¥ï¼ˆä¾‹å¦‚ <code class="highlighter-rouge">if</code>ï¼Œ<code class="highlighter-rouge">guard</code>ï¼Œ<code class="highlighter-rouge">while</code> æˆ–è€… <code class="highlighter-rouge">switch</code>ï¼‰å¼€å§‹çš„ä»»ä½•ä¿ç•™å…³é”®å­—è¦å’Œå®ƒä¹‹åçš„è¡¨è¾¾å¼åˆ†éš”å¼€ï¼Œå¦‚æœè¯¥è¡¨è¾¾å¼æ˜¯ä»¥å¼€è¾¹æ‹¬å·ï¼ˆ<code class="highlighter-rouge">(</code>ï¼‰å¼€å§‹çš„ã€‚</p>

    <div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="o">||</span> <span class="n">z</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>    </div>

    <div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span><span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="o">||</span> <span class="n">z</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Before any closing curly brace (<code class="highlighter-rouge">}</code>) that follows code on the same line,
before any open curly brace (<code class="highlighter-rouge">{</code>), and after any open curly brace (<code class="highlighter-rouge">{</code>) that
is followed by code on the same line.</p>

    <p>åœ¨åŒä¸€è¡Œä»£ç åé¢çš„é—­è¾¹èŠ±æ‹¬å·ï¼ˆ<code class="highlighter-rouge">}</code>ï¼‰ä¹‹å‰ï¼Œä»»ä½•å¼€è¾¹è¯æ‹¬å·ï¼ˆ<code class="highlighter-rouge">{</code>ï¼‰ä¹‹å‰ï¼Œåç»­ä»£ç åœ¨åŒä¸€è¡Œçš„å¼€è¾¹èŠ±æ‹¬å·ï¼ˆ<code class="highlighter-rouge">{</code>ï¼‰ä¹‹åã€‚</p>

    <div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">nonNegativeCubes</span> <span class="o">=</span> <span class="n">numbers</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="nv">$0</span> <span class="o">*</span> <span class="nv">$0</span> <span class="o">*</span> <span class="nv">$0</span> <span class="p">}</span><span class="o">.</span><span class="n">filter</span> <span class="p">{</span> <span class="nv">$0</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="p">}</span>
</code></pre></div>    </div>

    <div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">nonNegativeCubes</span> <span class="o">=</span> <span class="n">numbers</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="nv">$0</span> <span class="o">*</span> <span class="nv">$0</span> <span class="o">*</span> <span class="nv">$0</span> <span class="p">}</span> <span class="o">.</span><span class="n">filter</span> <span class="p">{</span> <span class="nv">$0</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="p">}</span>
<span class="k">let</span> <span class="nv">nonNegativeCubes</span> <span class="o">=</span> <span class="n">numbers</span><span class="o">.</span><span class="n">map</span><span class="p">{</span><span class="nv">$0</span> <span class="o">*</span> <span class="nv">$0</span> <span class="o">*</span> <span class="nv">$0</span><span class="p">}</span><span class="o">.</span><span class="n">filter</span><span class="p">{</span><span class="nv">$0</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><em>On both sides</em> of any binary or ternary operator, including the
â€œoperator-likeâ€ symbols described below, with exceptions noted at the end:</p>

    <p>åœ¨äºŒå…ƒæˆ–è€…ä¸‰å…ƒè¿ç®—ç¬¦çš„æ¯ä¸€ä¾§ï¼ŒåŒ…æ‹¬ä¸‹é¢æè¿°çš„â€œç±»è¿ç®—ç¬¦â€ï¼Œé™¤äº†æœ€åçš„ä¾‹å¤–è¯´æ˜ï¼š</p>

    <ol>
      <li>
        <p>The <code class="highlighter-rouge">=</code> sign used in assignment, initialization of variables/properties,
and default arguments in functions.</p>

        <p><code class="highlighter-rouge">=</code> è¿ç®—ç¬¦ç”¨åœ¨èµ‹å€¼ï¼Œå˜é‡/å±æ€§çš„æ„é€ è¿‡ç¨‹ä»¥åŠå‡½æ•°é‡Œçš„é»˜è®¤å®å‚æ—¶ã€‚</p>

        <div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">var</span> <span class="nv">x</span> <span class="o">=</span> <span class="mi">5</span>
      
<span class="kd">func</span> <span class="nf">sum</span><span class="p">(</span><span class="n">_</span> <span class="nv">numbers</span><span class="p">:</span> <span class="p">[</span><span class="kt">Int</span><span class="p">],</span> <span class="nv">initialValue</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
 <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>        </div>

        <div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">var</span> <span class="nv">x</span><span class="o">=</span><span class="mi">5</span>
      
<span class="kd">func</span> <span class="nf">sum</span><span class="p">(</span><span class="n">_</span> <span class="nv">numbers</span><span class="p">:</span> <span class="p">[</span><span class="kt">Int</span><span class="p">],</span> <span class="nv">initialValue</span><span class="p">:</span> <span class="kt">Int</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
 <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>The ampersand (<code class="highlighter-rouge">&amp;</code>) in a protocol composition type.</p>

        <p>And ç¬¦å·ï¼ˆ<code class="highlighter-rouge">&amp;</code>ï¼‰ç”¨åœ¨åè®®ç»„åˆç±»å‹æ—¶ã€‚</p>

        <div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">sayHappyBirthday</span><span class="p">(</span><span class="n">to</span> <span class="nv">person</span><span class="p">:</span> <span class="kt">NameProviding</span> <span class="o">&amp;</span> <span class="kt">AgeProviding</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>        </div>

        <div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">sayHappyBirthday</span><span class="p">(</span><span class="n">to</span> <span class="nv">person</span><span class="p">:</span> <span class="kt">NameProviding</span><span class="o">&amp;</span><span class="kt">AgeProviding</span><span class="p">)</span> <span class="p">{</span>
 <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>The operator symbol in a function declaring/implementing that operator.</p>

        <p>è¿ç®—ç¬¦ç”¨åœ¨å‡½æ•°å£°æ˜/å®ç°æ—¶ã€‚</p>

        <div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">static</span> <span class="kd">func</span> <span class="o">==</span> <span class="p">(</span><span class="nv">lhs</span><span class="p">:</span> <span class="kt">MyType</span><span class="p">,</span> <span class="nv">rhs</span><span class="p">:</span> <span class="kt">MyType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>        </div>

        <div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">static</span> <span class="kd">func</span> <span class="o">==</span><span class="p">(</span><span class="nv">lhs</span><span class="p">:</span> <span class="kt">MyType</span><span class="p">,</span> <span class="nv">rhs</span><span class="p">:</span> <span class="kt">MyType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>The arrow (<code class="highlighter-rouge">-&gt;</code>) preceding the return type of a function.</p>

        <p>ç®­å¤´ï¼ˆ<code class="highlighter-rouge">-&gt;</code>ï¼‰ç”¨åœ¨å‡½æ•°çš„è¿”å›ç±»å‹ä¹‹å‰æ—¶ã€‚</p>

        <div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">sum</span><span class="p">(</span><span class="n">_</span> <span class="nv">numbers</span><span class="p">:</span> <span class="p">[</span><span class="kt">Int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>        </div>

        <div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">sum</span><span class="p">(</span><span class="n">_</span> <span class="nv">numbers</span><span class="p">:</span> <span class="p">[</span><span class="kt">Int</span><span class="p">])</span><span class="o">-&gt;</span><span class="kt">Int</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p><strong>Exception:</strong> There is no space on either side of the dot (<code class="highlighter-rouge">.</code>) used to
reference value and type members.</p>

        <p><strong>ä¾‹å¤–ï¼š</strong>ç‚¹ï¼ˆ<code class="highlighter-rouge">.</code>ï¼‰ç”¨åœ¨å¼•ç”¨å€¼å’Œç±»å‹æˆå‘˜æ—¶ä¸¤ä¾§éƒ½æ²¡æœ‰ç©ºæ ¼ã€‚</p>

        <div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">width</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="n">bounds</span><span class="o">.</span><span class="n">width</span>
</code></pre></div>        </div>

        <div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">width</span> <span class="o">=</span> <span class="n">view</span> <span class="o">.</span> <span class="n">bounds</span> <span class="o">.</span> <span class="n">width</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p><strong>Exception:</strong> There is no space on either side of the <code class="highlighter-rouge">..&lt;</code> or <code class="highlighter-rouge">...</code>
operators used in range expressions.</p>

        <p><strong>ä¾‹å¤–ï¼š</strong><code class="highlighter-rouge">..&lt;</code> æˆ–è€… <code class="highlighter-rouge">â€¦</code> è¿ç®—ç¬¦ç”¨åœ¨èŒƒå›´è¡¨è¾¾å¼æ—¶ä¸¤ä¾§éƒ½æ²¡ç©ºæ ¼ã€‚</p>

        <div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">number</span> <span class="k">in</span> <span class="mi">1</span><span class="o">...</span><span class="mi">5</span> <span class="p">{</span>
 <span class="c1">// ...</span>
<span class="p">}</span>
      
<span class="k">let</span> <span class="nv">substring</span> <span class="o">=</span> <span class="n">string</span><span class="p">[</span><span class="n">index</span><span class="o">..&lt;</span><span class="n">string</span><span class="o">.</span><span class="n">endIndex</span><span class="p">]</span>
</code></pre></div>        </div>

        <div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">number</span> <span class="k">in</span> <span class="mi">1</span> <span class="o">...</span> <span class="mi">5</span> <span class="p">{</span>
 <span class="c1">// ...</span>
<span class="p">}</span>
      
<span class="k">let</span> <span class="nv">substring</span> <span class="o">=</span> <span class="n">string</span><span class="p">[</span><span class="n">index</span> <span class="o">..&lt;</span> <span class="n">string</span><span class="o">.</span><span class="n">endIndex</span><span class="p">]</span>
</code></pre></div>        </div>
      </li>
    </ol>
  </li>
  <li>
    <p>After, but not before, the comma (<code class="highlighter-rouge">,</code>) in parameter lists and in
tuple/array/dictionary literals.</p>

    <p>é€—å·ï¼ˆ<code class="highlighter-rouge">,</code>ï¼‰ç”¨åœ¨å½¢å‚åˆ—è¡¨å’Œå…ƒç»„/æ•°ç»„/å­—å…¸å­—é¢é‡æ—¶ï¼Œåœ¨é€—å·åé¢è€Œä¸æ˜¯å‰é¢ã€‚</p>

    <div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</code></pre></div>    </div>

    <div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="k">let</span> <span class="nv">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="p">,</span><span class="mi">2</span> <span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="k">let</span> <span class="nv">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>After, but not before, the colon (<code class="highlighter-rouge">:</code>) in</p>

    <p>å†’å·ï¼ˆ<code class="highlighter-rouge">:</code>ï¼‰çš„åé¢è€Œä¸æ˜¯å‰é¢ç”¨åœ¨</p>

    <ol>
      <li>
        <p>Superclass/protocol conformance lists and generic constraints.</p>

        <p>çˆ¶ç±»/åè®®éµå¾ªåˆ—è¡¨å’ŒèŒƒå‹çº¦æŸæ—¶ã€‚</p>

        <div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">HashTable</span><span class="p">:</span> <span class="kt">Collection</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
      
<span class="kd">struct</span> <span class="kt">AnyEquatable</span><span class="o">&lt;</span><span class="kt">Wrapped</span><span class="p">:</span> <span class="kt">Equatable</span><span class="o">&gt;</span><span class="p">:</span> <span class="kt">Equatable</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>        </div>

        <div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">HashTable</span> <span class="p">:</span> <span class="kt">Collection</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
      
<span class="kd">struct</span> <span class="kt">AnyEquatable</span><span class="o">&lt;</span><span class="kt">Wrapped</span> <span class="p">:</span> <span class="kt">Equatable</span><span class="o">&gt;</span> <span class="p">:</span> <span class="kt">Equatable</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>Function argument labels and tuple element labels.</p>

        <p>å‡½æ•°å®å‚æ ‡ç­¾å’Œå…ƒç»„å…ƒç´ æ ‡ç­¾æ—¶ã€‚</p>

        <div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">tuple</span><span class="p">:</span> <span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span>
      
<span class="kd">func</span> <span class="nf">sum</span><span class="p">(</span><span class="n">_</span> <span class="nv">numbers</span><span class="p">:</span> <span class="p">[</span><span class="kt">Int</span><span class="p">])</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>        </div>

        <div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">tuple</span><span class="p">:</span> <span class="p">(</span><span class="nv">x</span><span class="p">:</span><span class="kt">Int</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span><span class="kt">Int</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">tuple</span><span class="p">:</span> <span class="p">(</span><span class="nv">x</span> <span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="nv">y</span> <span class="p">:</span> <span class="kt">Int</span><span class="p">)</span>
      
<span class="kd">func</span> <span class="nf">sum</span><span class="p">(</span><span class="n">_</span> <span class="nv">numbers</span><span class="p">:[</span><span class="kt">Int</span><span class="p">])</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
      
<span class="kd">func</span> <span class="nf">sum</span><span class="p">(</span><span class="n">_</span> <span class="nv">numbers</span> <span class="p">:</span> <span class="p">[</span><span class="kt">Int</span><span class="p">])</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>Variable/property declarations with explicit types.</p>

        <p>å˜é‡/å±æ€§çš„ç±»å‹æ˜¾å¼å£°æ˜æ—¶ã€‚</p>

        <div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">number</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">5</span>
</code></pre></div>        </div>

        <div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">number</span><span class="p">:</span><span class="kt">Int</span> <span class="o">=</span> <span class="mi">5</span>
<span class="k">let</span> <span class="nv">number</span> <span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">5</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>Shorthand dictionary type names.</p>

        <p>å­—å…¸ç±»å‹ç¼©å†™æ—¶ã€‚</p>

        <div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">var</span> <span class="nv">nameAgeMap</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">:</span> <span class="kt">Int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</code></pre></div>        </div>

        <div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">var</span> <span class="nv">nameAgeMap</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">:</span><span class="kt">Int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">var</span> <span class="nv">nameAgeMap</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">Int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>Dictionary literals.</p>

        <p>å­—å…¸å­—é¢é‡æ—¶ã€‚</p>

        <div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">nameAgeMap</span> <span class="o">=</span> <span class="p">[</span><span class="s">"Ed"</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span> <span class="s">"Timmy"</span><span class="p">:</span> <span class="mi">9</span><span class="p">]</span>
</code></pre></div>        </div>

        <div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">nameAgeMap</span> <span class="o">=</span> <span class="p">[</span><span class="s">"Ed"</span><span class="p">:</span><span class="mi">40</span><span class="p">,</span> <span class="s">"Timmy"</span><span class="p">:</span><span class="mi">9</span><span class="p">]</span>
<span class="k">let</span> <span class="nv">nameAgeMap</span> <span class="o">=</span> <span class="p">[</span><span class="s">"Ed"</span> <span class="p">:</span> <span class="mi">40</span><span class="p">,</span> <span class="s">"Timmy"</span> <span class="p">:</span> <span class="mi">9</span><span class="p">]</span>
</code></pre></div>        </div>
      </li>
    </ol>
  </li>
  <li>
    <p>At least two spaces before and exactly one space after the double slash
(<code class="highlighter-rouge">//</code>) that begins an end-of-line comment.</p>

    <p>åŒæ–œæ ï¼ˆ<code class="highlighter-rouge">//</code>ï¼‰ç”¨äºå¼€å§‹è¡Œç»“æŸçš„æ³¨é‡Šæ—¶ï¼ŒåŒæ–œæ ä¹‹å‰æœ€å°‘ä¸¤ä¸ªç©ºæ ¼ï¼Œä¹‹åæ­£å¥½ä¸€ä¸ªç©ºæ ¼ã€‚</p>

    <div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">initialFactor</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c1">// Warm up the modulator.</span>
</code></pre></div>    </div>

    <div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">initialFactor</span> <span class="o">=</span> <span class="mi">2</span> <span class="c1">//    Warm up the modulator.</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Outside, but not inside, the brackets of an array or dictionary literals and
the parentheses of a tuple literal.</p>

    <p>æ‹¬å·ç”¨äºæ•°ç»„ã€å­—å…¸æˆ–å…ƒç»„å­—é¢é‡æ—¶ï¼Œæ‹¬å·å¤–é¢è€Œä¸æ˜¯é‡Œé¢ã€‚</p>

    <div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</code></pre></div>    </div>

    <div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">numbers</span> <span class="o">=</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="p">]</span>
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="æ°´å¹³å¯¹é½horizontal-alignment">æ°´å¹³å¯¹é½/Horizontal Alignment</h3>

<blockquote>
  <p><strong>Terminology note:</strong> <em>Horizontal alignment</em> is the practice of adding a
variable number of additional spaces in your code with the goal of making
certain tokens appear directly below certain other tokens on previous lines.</p>

  <p><strong>æœ¯è¯­è¯´æ˜ï¼š</strong>_æ°´å¹³å¯¹é½_æ˜¯ä¸€ç§çº¦å®šï¼Œé€šè¿‡åœ¨ä»£ç ä¸­æ·»åŠ ä¸åŒæ•°é‡çš„ç©ºæ ¼è®©æŸäº›å…ƒç´ ç›´æ¥æ˜¾ç¤ºåœ¨å‰é¢è¡Œä¸­è¯¥ç±»å‹çš„å…¶ä»–å…ƒç´ ä¸‹é¢ã€‚</p>
</blockquote>

<p>Horizontal alignment is forbidden except when writing obviously tabular data
where omitting the alignment would be harmful to readability. In other cases
(for example, lining up the types of stored property declarations in a <code class="highlighter-rouge">struct</code>
or <code class="highlighter-rouge">class</code>), horizontal alignment is an invitation for maintenance problems if a
new member is introduced that requires every other member to be realigned.</p>

<p>æ°´å¹³å¯¹é½æ˜¯ç¦æ­¢çš„ï¼Œé™¤äº†åœ¨åˆ†æ˜çš„è¡¨æ ¼æ•°æ®é‡Œï¼Œçœç•¥ä¼šä¸åˆ©äºå¯è¯»æ€§ä¹‹å¤–ã€‚å…¶ä»–æƒ…å†µä¸‹ï¼ˆä¾‹å¦‚ï¼Œå¯¹ <code class="highlighter-rouge">struct</code> æˆ–  <code class="highlighter-rouge">class</code> é‡Œçš„å­˜å‚¨å±æ€§å£°æ˜çš„ç±»å‹è¿›è¡Œå¯¹é½ï¼‰æ°´å¹³å¯¹é½ä¼šå¼•èµ·ç»´æŠ¤é—®é¢˜ï¼Œå› ä¸ºåœ¨æ–°çš„æˆå‘˜å¼•å…¥æ—¶å…¶ä½™æ‰€æœ‰çš„æˆå‘˜éƒ½éœ€è¦é‡æ–°å¯¹é½ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">DataPoint</span> <span class="p">{</span>
  <span class="k">var</span> <span class="nv">value</span><span class="p">:</span> <span class="kt">Int</span>
  <span class="k">var</span> <span class="nv">primaryColor</span><span class="p">:</span> <span class="kt">UIColor</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">DataPoint</span> <span class="p">{</span>
  <span class="k">var</span> <span class="nv">value</span><span class="p">:</span>        <span class="kt">Int</span>
  <span class="k">var</span> <span class="nv">primaryColor</span><span class="p">:</span> <span class="kt">UIColor</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="å‚ç›´ç©ºè¡Œvertical-whitespace">å‚ç›´ç©ºè¡Œ/Vertical Whitespace</h3>

<p>A single blank line appears in the following locations:</p>

<p>å•ç‹¬çš„ç©ºç™½è¡Œåœ¨ä»¥ä¸‹è¿™äº›æƒ…å†µä¸‹å‡ºç°ï¼š</p>

<ol>
  <li>
    <p>Between consecutive members of a type: properties, initializers, methods,
enum cases, and nested types, <strong>except that</strong>:</p>

    <p>åœ¨ç±»å‹ä¸­è¿™äº›è¿ç»­æˆå‘˜ä¹‹é—´ï¼šå±æ€§ï¼Œæ„é€ å™¨ï¼Œæ–¹æ³•ï¼Œæšä¸¾æƒ…å†µï¼ŒåµŒå¥—ç±»å‹ï¼Œ<strong>é™¤äº†</strong>ï¼š</p>

    <ol>
      <li>
        <p>A blank line is optional between two consecutive stored properties or two
enum cases whose declarations fit entirely on a single line. Such blank
lines can be used to create <em>logical groupings</em> of these declarations.</p>

        <p>ä¸¤ä¸ªè¿ç»­çš„å­˜å‚¨å±æ€§æˆ–è€…æšä¸¾é‡Œä¸¤ä¸ªä¹Ÿå®Œå…¨é€‚åˆå£°æ˜åœ¨ä¸€è¡Œé‡Œçš„ caseï¼Œä¹‹é—´ç©ºç™½è¡Œæ˜¯å¯é€‰çš„ã€‚è¿™æ—¶å€™ç©ºç™½è¡Œå¯ä»¥ç”¨æ¥å°†è¿™äº›å£°æ˜è¿›è¡Œ_é€»è¾‘åˆ†ç»„_ã€‚</p>
      </li>
      <li>
        <p>A blank line is optional between two extremely closely related properties
that do not otherwise meet the criterion above; for example, a private
stored property and a related public computed property.</p>
      </li>
    </ol>

    <p>ä¸é€‚ç”¨äºå‰é¢è§„åˆ™ï¼Œä½†ä¸¤ä¸ªå±æ€§éå¸¸ç›¸å…³ï¼Œä¹‹é—´çš„ç©ºç™½è¡Œä¹Ÿæ˜¯å¯é€‰çš„ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªç§æœ‰çš„å­˜å‚¨å±æ€§å’Œå®ƒç›¸å…³çš„å…¬å¼€è®¡ç®—å±æ€§ã€‚</p>
  </li>
  <li>
    <p><em>Only as needed</em> between statements to organize code into logical
subsections.</p>

    <p><strong>åªæœ‰éœ€è¦</strong>ç”¨äºç»„ç»‡ä»£ç è¿›è¡Œé€»è¾‘åˆ†æ®µçš„è¯­å¥ä¹‹é—´ã€‚</p>
  </li>
  <li>
    <p><em>Optionally</em> before the first member or after the last member of a type
(neither is encouraged nor discouraged).</p>

    <p>ç±»å‹çš„ç¬¬ä¸€ä¸ªæˆå‘˜ä¹‹å‰æˆ–è€…æœ€åä¸€ä¸ªæˆå‘˜ä¹‹åçš„ç©ºç™½è¡Œæ˜¯_å¯é€‰çš„_ï¼ˆä¸èµæˆä¹Ÿä¸åå¯¹ï¼‰ã€‚</p>
  </li>
  <li>
    <p>Anywhere explicitly required by other sections of this document.</p>

    <p>æœ¬æ–‡æ¡£ä¸­å…¶ä»–ç« èŠ‚ä¸­æ˜ç¡®è¦æ±‚çš„åœ°æ–¹ã€‚</p>
  </li>
</ol>

<p><em>Multiple</em> blank lines are permitted, but never required (nor encouraged). If
you do use multiple consecutive blank lines, do so consistently throughout your
code base.</p>

<p>_å¤šä¸ª_ç©ºç™½è¡Œæ˜¯å…è®¸çš„ï¼Œä½†ä¸æ˜¯å¿…é¡»çš„ï¼ˆä¸èµæˆï¼‰ã€‚å¦‚æœä½ ä½¿ç”¨å¤šä¸ªè¿ç»­çš„ç©ºç™½è¡Œï¼Œé‚£ä¹ˆåœ¨ä½ çš„ä»£ç é‡Œåº”è¯¥è´¯å½»åˆ°åº•ã€‚</p>

<h3 id="æ‹¬å·parentheses">æ‹¬å·/Parentheses</h3>

<p>Parentheses are <strong>not</strong> used around the top-most expression that follows an
<code class="highlighter-rouge">if</code>, <code class="highlighter-rouge">guard</code>, <code class="highlighter-rouge">while</code>, or <code class="highlighter-rouge">switch</code> keyword.</p>

<p><code class="highlighter-rouge">if</code>ï¼Œ<code class="highlighter-rouge">guard</code>ï¼Œ<code class="highlighter-rouge">while</code> æˆ– <code class="highlighter-rouge">switch</code> å…³é”®å­—åé¢çš„é¡¶å±‚è¡¨è¾¾å¼<strong>ä¸éœ€è¦</strong>ä½¿ç”¨æ‹¬å·ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">{</span>
  <span class="nf">print</span><span class="p">(</span><span class="s">"x is zero"</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">z</span> <span class="o">==</span> <span class="mi">2</span> <span class="p">{</span>
  <span class="nf">print</span><span class="p">(</span><span class="s">"..."</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
  <span class="nf">print</span><span class="p">(</span><span class="s">"x is zero"</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">((</span><span class="n">x</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">z</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
  <span class="nf">print</span><span class="p">(</span><span class="s">"..."</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Optional grouping parentheses are omitted only when the author and the reviewer
agree that there is no reasonable chance that the code will be misinterpreted
without them, nor that they would have made the code easier to read. It is <em>not</em>
reasonable to assume that every reader has the entire Swift operator precedence
table memorized.</p>

<p>åˆ†ç»„æ‹¬å·æ˜¯å¯é€‰çš„ï¼Œåªæœ‰å½“ä½œè€…å’Œå®¡æŸ¥è€…è§‰å¾—æ²¡æœ‰ä¹Ÿä¸ä¼šä»¤ä»£ç å®¹æ˜“è¯¯è§£ï¼Œæˆ–è€…ä¼šè®©ä»£ç æ›´å®¹æ˜“é˜…è¯»æ—¶æ‰å¯ä»¥è¢«çœç•¥ã€‚<strong>ä¸</strong>è¦è®¤ä¸ºæ¯ä¸ªé˜…è¯»è€…éƒ½èƒ½è®°å¾—å®Œæ•´çš„ Swift æ“ä½œç¬¦ä¼˜å…ˆçº§è¡¨æ ¼ã€‚</p>

<h2 id="ç‰¹å®šç»“æ„æ ¼å¼åŒ–formatting-specific-constructs">ç‰¹å®šç»“æ„æ ¼å¼åŒ–/Formatting Specific Constructs</h2>

<h3 id="éæ–‡æ¡£æ³¨é‡Šnon-documentation-comments">éæ–‡æ¡£æ³¨é‡Š/Non-Documentation Comments</h3>

<p>Non-documentation comments always use the double-slash format (<code class="highlighter-rouge">//</code>), never the
C-style block format (<code class="highlighter-rouge">/* ... */</code>).</p>

<p>éæ–‡æ¡£æ³¨é‡Šæ€»æ˜¯ç”¨åŒæ–œæ è¿›è¡Œæ ¼å¼åŒ–ï¼ˆ<code class="highlighter-rouge">//</code>ï¼‰ï¼Œè€Œä¸è¦ä½¿ç”¨ C é£æ ¼çš„å—æ ¼å¼åŒ–ï¼ˆ<code class="highlighter-rouge">/* ... */</code>ï¼‰ã€‚</p>

<h3 id="å±æ€§properties">å±æ€§/Properties</h3>

<p>Local variables are declared close to the point at which they are first used
(within reason) to minimize their scope.</p>

<p>å±€éƒ¨å˜é‡å°½é‡å£°æ˜åœ¨æ¥è¿‘é¦–æ¬¡ä½¿ç”¨çš„åœ°æ–¹ï¼Œï¼ˆåœ¨åˆç†çš„æƒ…å†µä¸‹ï¼‰æœ€å°åŒ–ä½œç”¨åŸŸã€‚</p>

<p>With the exception of tuple destructuring, every <code class="highlighter-rouge">let</code> or <code class="highlighter-rouge">var</code> statement
(whether a property or a local variable) declares exactly one variable.</p>

<p>é™¤äº†å…ƒç»„çš„è§£æ„æ—¶ï¼Œæ¯ä¸ª <code class="highlighter-rouge">let</code> æˆ–è€… <code class="highlighter-rouge">var</code> è¯­å¥ï¼ˆæ— è®ºæ˜¯å±æ€§æˆ–è€…å±€éƒ¨å˜é‡ï¼‰åªå£°æ˜ä¸€ä¸ªå˜é‡ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">var</span> <span class="nv">a</span> <span class="o">=</span> <span class="mi">5</span>
<span class="k">var</span> <span class="nv">b</span> <span class="o">=</span> <span class="mi">10</span>

<span class="nf">let</span> <span class="p">(</span><span class="n">quotient</span><span class="p">,</span> <span class="n">remainder</span><span class="p">)</span> <span class="o">=</span> <span class="nf">divide</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">var</span> <span class="nv">a</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">10</span>
</code></pre></div></div>

<h3 id="switch-è¯­å¥switch-statements">Switch è¯­å¥/Switch Statements</h3>

<p>Case statements are indented at the <em>same</em> level as the switch statement to
which they belong; the statements inside the case blocks are then indented +2
spaces from that level.</p>

<p>Case è¯­å¥çš„ç¼©è¿›å’Œå®ƒä»¬çš„ switch è¯­å¥ä¿æŒ_ä¸€è‡´_;case å—é‡Œçš„è¯­å¥åœ¨è¯¥ç¼©è¿›åŸºç¡€ä¸Š+2ç©ºæ ¼ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">switch</span> <span class="n">order</span> <span class="p">{</span>
<span class="k">case</span> <span class="o">.</span><span class="nv">ascending</span><span class="p">:</span>
  <span class="nf">print</span><span class="p">(</span><span class="s">"Ascending"</span><span class="p">)</span>
<span class="k">case</span> <span class="o">.</span><span class="nv">descending</span><span class="p">:</span>
  <span class="nf">print</span><span class="p">(</span><span class="s">"Descending"</span><span class="p">)</span>
<span class="k">case</span> <span class="o">.</span><span class="nv">same</span><span class="p">:</span>
  <span class="nf">print</span><span class="p">(</span><span class="s">"Same"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">switch</span> <span class="n">order</span> <span class="p">{</span>
  <span class="k">case</span> <span class="o">.</span><span class="nv">ascending</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Ascending"</span><span class="p">)</span>
  <span class="k">case</span> <span class="o">.</span><span class="nv">descending</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Descending"</span><span class="p">)</span>
  <span class="k">case</span> <span class="o">.</span><span class="nv">same</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Same"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">switch</span> <span class="n">order</span> <span class="p">{</span>
<span class="k">case</span> <span class="o">.</span><span class="nv">ascending</span><span class="p">:</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"Ascending"</span><span class="p">)</span>
<span class="k">case</span> <span class="o">.</span><span class="nv">descending</span><span class="p">:</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"Descending"</span><span class="p">)</span>
<span class="k">case</span> <span class="o">.</span><span class="nv">same</span><span class="p">:</span>
<span class="nf">print</span><span class="p">(</span><span class="s">"Same"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="æšä¸¾-caseenum-cases">æšä¸¾ Case/Enum Cases</h3>

<p>In general, there is only one <code class="highlighter-rouge">case</code> per line in an <code class="highlighter-rouge">enum</code>. The comma-delimited
form may be used only when none of the cases have associated values or raw
values, all cases fit on a single line, and the cases do not need further
documentation because their meanings are obvious from their names.</p>

<p>é€šå¸¸æ¥è¯´ï¼Œåœ¨ä¸€ä¸ª <code class="highlighter-rouge">enum</code> é‡Œæ¯è¡Œåªæœ‰ä¸€ä¸ª <code class="highlighter-rouge">case</code>ã€‚é€—å·åˆ†éš”å½¢å¼åªèƒ½åœ¨ case éƒ½æ²¡æœ‰å…³è”å€¼æˆ–è€…åŸå§‹å€¼æ—¶ä½¿ç”¨ï¼Œæ‰€æœ‰ case éƒ½èƒ½ä»åå­—æ˜ç¡®å…¶å«ä¹‰è€Œä¸éœ€è¦é¢å¤–çš„æ³¨é‡Šï¼Œå°±å¯ä»¥å†™åœ¨åŒä¸€è¡Œã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">enum</span> <span class="kt">Token</span> <span class="p">{</span>
  <span class="k">case</span> <span class="n">comma</span>
  <span class="k">case</span> <span class="n">semicolon</span>
  <span class="k">case</span> <span class="n">identifier</span>
<span class="p">}</span>

<span class="kd">public</span> <span class="kd">enum</span> <span class="kt">Token</span> <span class="p">{</span>
  <span class="k">case</span> <span class="n">comma</span><span class="p">,</span> <span class="n">semicolon</span><span class="p">,</span> <span class="n">identifier</span>
<span class="p">}</span>

<span class="kd">public</span> <span class="kd">enum</span> <span class="kt">Token</span> <span class="p">{</span>
  <span class="k">case</span> <span class="n">comma</span>
  <span class="k">case</span> <span class="n">semicolon</span>
  <span class="k">case</span> <span class="nf">identifier</span><span class="p">(</span><span class="kt">String</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">enum</span> <span class="kt">Token</span> <span class="p">{</span>
  <span class="k">case</span> <span class="n">comma</span><span class="p">,</span> <span class="n">semicolon</span><span class="p">,</span> <span class="nf">identifier</span><span class="p">(</span><span class="kt">String</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>When all cases of an <code class="highlighter-rouge">enum</code> must be <code class="highlighter-rouge">indirect</code>, the <code class="highlighter-rouge">enum</code> itself is declared
<code class="highlighter-rouge">indirect</code> and the keyword is omitted on the individual cases.</p>

<p>å½“ <code class="highlighter-rouge">enum</code> é‡Œæ‰€æœ‰ case éƒ½éœ€è¦è¢«å£°æ˜ä¸º <code class="highlighter-rouge">indirect</code> æ—¶ï¼Œè¯¥ <code class="highlighter-rouge">enum</code> å°±å£°æ˜ä¸º <code class="highlighter-rouge">indirect</code>ï¼Œå•ç‹¬ case å‰é¢çš„å…³é”®å­—å°±å¯ä»¥çœç•¥ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">indirect</span> <span class="kd">enum</span> <span class="kt">DependencyGraphNode</span> <span class="p">{</span>
  <span class="k">case</span> <span class="nf">userDefined</span><span class="p">(</span><span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span><span class="kt">DependencyGraphNode</span><span class="p">])</span>
  <span class="k">case</span> <span class="nf">synthesized</span><span class="p">(</span><span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span><span class="kt">DependencyGraphNode</span><span class="p">])</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">enum</span> <span class="kt">DependencyGraphNode</span> <span class="p">{</span>
  <span class="kd">indirect</span> <span class="k">case</span> <span class="nf">userDefined</span><span class="p">(</span><span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span><span class="kt">DependencyGraphNode</span><span class="p">])</span>
  <span class="kd">indirect</span> <span class="k">case</span> <span class="nf">synthesized</span><span class="p">(</span><span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span><span class="kt">DependencyGraphNode</span><span class="p">])</span>
<span class="p">}</span>
</code></pre></div></div>

<p>When an <code class="highlighter-rouge">enum</code> case does not have associated values, empty parentheses are never
present.</p>

<p>å½“ <code class="highlighter-rouge">enum</code> çš„ case æ²¡æœ‰å…³è”å€¼æ—¶ï¼Œä¸åº”è¯¥å‡ºç°ç©ºçš„æ‹¬å·ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">enum</span> <span class="kt">BinaryTree</span><span class="o">&lt;</span><span class="kt">Element</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="kd">indirect</span> <span class="k">case</span> <span class="nf">node</span><span class="p">(</span><span class="nv">element</span><span class="p">:</span> <span class="kt">Element</span><span class="p">,</span> <span class="nv">left</span><span class="p">:</span> <span class="kt">BinaryTree</span><span class="p">,</span> <span class="nv">right</span><span class="p">:</span> <span class="kt">BinaryTree</span><span class="p">)</span>
  <span class="k">case</span> <span class="n">empty</span>  <span class="c1">// GOOD.</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">enum</span> <span class="kt">BinaryTree</span><span class="o">&lt;</span><span class="kt">Element</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="kd">indirect</span> <span class="k">case</span> <span class="nf">node</span><span class="p">(</span><span class="nv">element</span><span class="p">:</span> <span class="kt">Element</span><span class="p">,</span> <span class="nv">left</span><span class="p">:</span> <span class="kt">BinaryTree</span><span class="p">,</span> <span class="nv">right</span><span class="p">:</span> <span class="kt">BinaryTree</span><span class="p">)</span>
  <span class="k">case</span> <span class="nf">empty</span><span class="p">()</span>  <span class="c1">// AVOID.</span>
<span class="p">}</span>
</code></pre></div></div>

<p>The cases of an enum must follow a logical ordering that the author could
explain if asked. If there is no obviously logical ordering, use a
lexicographical ordering based on the casesâ€™ names.</p>

<p>æšä¸¾çš„ case å¿…é¡»éµå¾ªä¸€å®šçš„å¯è§£é‡Šæ’åºé€»è¾‘ã€‚å¦‚æœæ²¡æœ‰æ˜æ˜¾çš„æ’åºé€»è¾‘ï¼ŒæŒ‰ç…§ case åå­—çš„é¦–å­—æ¯æ’åºã€‚</p>

<p>In the following example, the cases are arranged in numerical order based on the
underlying HTTP status code and blank lines are used to separate groups.</p>

<p>åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œcase æ ¹æ®å…¶è¡¨ç¤ºçš„ HTTP çŠ¶æ€ç æ•°å­—è¿›è¡Œæ’åºï¼Œå¹¶é€šè¿‡ç©ºè¡Œè¿›è¡Œåˆ†ç»„ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">enum</span> <span class="kt">HTTPStatus</span><span class="p">:</span> <span class="kt">Int</span> <span class="p">{</span>
  <span class="k">case</span> <span class="n">ok</span> <span class="o">=</span> <span class="mi">200</span>

  <span class="k">case</span> <span class="n">badRequest</span> <span class="o">=</span> <span class="mi">400</span>
  <span class="k">case</span> <span class="n">notAuthorized</span> <span class="o">=</span> <span class="mi">401</span>
  <span class="k">case</span> <span class="n">paymentRequired</span> <span class="o">=</span> <span class="mi">402</span>
  <span class="k">case</span> <span class="n">forbidden</span> <span class="o">=</span> <span class="mi">403</span>
  <span class="k">case</span> <span class="n">notFound</span> <span class="o">=</span> <span class="mi">404</span>

  <span class="k">case</span> <span class="n">internalServerError</span> <span class="o">=</span> <span class="mi">500</span>
<span class="p">}</span>
</code></pre></div></div>

<p>The following version of the same enum is less readable. Although the cases are
ordered lexicographically, the meaningful groupings of related values has been
lost.</p>

<p>åŒæ ·çš„æšä¸¾ï¼Œä¸‹é¢è¿™ä¸ªç‰ˆæœ¬çš„å†™æ³•å¯è¯»æ€§å°±å·®ä¸€äº›ã€‚å°½ç®¡ case æ ¹æ®å­—æ¯æ’åºï¼Œä½†æ˜¯å´å¤±å»äº†å¯¹å…³è”å€¼å«ä¹‰çš„è¡¨è¾¾ã€‚</p>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">enum</span> <span class="kt">HTTPStatus</span><span class="p">:</span> <span class="kt">Int</span> <span class="p">{</span>
  <span class="k">case</span> <span class="n">badRequest</span> <span class="o">=</span> <span class="mi">400</span>
  <span class="k">case</span> <span class="n">forbidden</span> <span class="o">=</span> <span class="mi">403</span>
  <span class="k">case</span> <span class="n">internalServerError</span> <span class="o">=</span> <span class="mi">500</span>
  <span class="k">case</span> <span class="n">notAuthorized</span> <span class="o">=</span> <span class="mi">401</span>
  <span class="k">case</span> <span class="n">notFound</span> <span class="o">=</span> <span class="mi">404</span>
  <span class="k">case</span> <span class="n">ok</span> <span class="o">=</span> <span class="mi">200</span>
  <span class="k">case</span> <span class="n">paymentRequired</span> <span class="o">=</span> <span class="mi">402</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="å°¾éšé—­åŒ…trailing-closures">å°¾éšé—­åŒ…/Trailing Closures</h3>

<p>Functions should not be overloaded such that two overloads differ <em>only</em> by the
name of their trailing closure argument. Doing so prevents using trailing
closure syntaxâ€”when the label is not present, a call to the function with
a trailing closure is ambiguous.</p>

<p>å‡½æ•°é‡è½½æ—¶ï¼Œä¸èƒ½å‡ºç°ä¸¤ä¸ªé‡è½½_åªæœ‰_å°¾éšé—­åŒ…çš„å®å‚åå­—æœ‰åŒºåˆ«çš„æƒ…å†µã€‚</p>

<p>Consider the following example, which prohibits using trailing closure syntax to
call <code class="highlighter-rouge">greet</code>:</p>

<p>è€ƒè™‘ä¸‹é¢çš„ä¾‹å­ï¼Œè¿™æ ·ä¼šä¸å…è®¸ç”¨å°¾éšé—­åŒ…è¯­æ³•æ¥è°ƒç”¨ <code class="highlighter-rouge">greet</code>ï¼š</p>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">greet</span><span class="p">(</span><span class="n">enthusiastically</span> <span class="nv">nameProvider</span><span class="p">:</span> <span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
  <span class="nf">print</span><span class="p">(</span><span class="s">"Hello, </span><span class="se">\(</span><span class="nf">nameProvider</span><span class="p">()</span><span class="se">)</span><span class="s">! It's a pleasure to see you!"</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">greet</span><span class="p">(</span><span class="n">apathetically</span> <span class="nv">nameProvider</span><span class="p">:</span> <span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
  <span class="nf">print</span><span class="p">(</span><span class="s">"Oh, look. It's </span><span class="se">\(</span><span class="nf">nameProvider</span><span class="p">()</span><span class="se">)</span><span class="s">."</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">greet</span> <span class="p">{</span> <span class="s">"John"</span> <span class="p">}</span>  <span class="c1">// error: ambiguous use of 'greet'</span>
</code></pre></div></div>

<p>This example is fixed by differentiating some part of the function name other
than the closure argumentâ€”in this case, the base name:</p>

<p>è¿™ä¸ªä¾‹å­å¯ä»¥ç”¨é™¤é—­åŒ…å®å‚å¤–å‡½æ•°åçš„ä¸€éƒ¨åˆ†å·®å¼‚æ¥åŒºåˆ†â€”â€”å…·ä½“è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥ç”¨å‡½æ•°çš„åŸºç¡€åå­—ï¼š</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">greetEnthusiastically</span><span class="p">(</span><span class="n">_</span> <span class="nv">nameProvider</span><span class="p">:</span> <span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
  <span class="nf">print</span><span class="p">(</span><span class="s">"Hello, </span><span class="se">\(</span><span class="nf">nameProvider</span><span class="p">()</span><span class="se">)</span><span class="s">! It's a pleasure to see you!"</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">greetApathetically</span><span class="p">(</span><span class="n">_</span> <span class="nv">nameProvider</span><span class="p">:</span> <span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
  <span class="nf">print</span><span class="p">(</span><span class="s">"Oh, look. It's </span><span class="se">\(</span><span class="nf">nameProvider</span><span class="p">()</span><span class="se">)</span><span class="s">."</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">greetEnthusiastically</span> <span class="p">{</span> <span class="s">"John"</span> <span class="p">}</span>
<span class="n">greetApathetically</span> <span class="p">{</span> <span class="s">"not John"</span> <span class="p">}</span>
</code></pre></div></div>

<p>If a function call has multiple closure arguments, then <em>none</em> are called using
trailing closure syntax; <em>all</em> are labeled and nested inside the argument
listâ€™s parentheses.</p>

<p>å½“ä¸€ä¸ªå‡½æ•°è°ƒç”¨æœ‰å¤šä¸ªé—­åŒ…å®å‚ï¼Œé‚£ä¹ˆ_éƒ½ä¸_ä½¿ç”¨å°¾éšé—­åŒ…è¯­æ³•è°ƒç”¨ï¼›_éƒ½_éœ€è¦å†™å‡ºæ ‡ç­¾å¹¶æ”¾åœ¨åœ¨å®å‚åˆ—è¡¨çš„æ‹¬å·é‡Œã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">UIView</span><span class="o">.</span><span class="nf">animate</span><span class="p">(</span>
  <span class="nv">withDuration</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
  <span class="nv">animations</span><span class="p">:</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">},</span>
  <span class="nv">completion</span><span class="p">:</span> <span class="p">{</span> <span class="n">finished</span> <span class="k">in</span>
    <span class="c1">// ...</span>
  <span class="p">})</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">UIView</span><span class="o">.</span><span class="nf">animate</span><span class="p">(</span>
  <span class="nv">withDuration</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
  <span class="nv">animations</span><span class="p">:</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">})</span> <span class="p">{</span> <span class="n">finished</span> <span class="k">in</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>
</code></pre></div></div>

<p>If a function has a single closure argument and it is the final argument, then
it is <em>always</em> called using trailing closure syntax, except in the following
cases to resolve ambiguity or parsing errors:</p>

<p>å¦‚æœå‡½æ•°åªæœ‰ä¸€ä¸ªé—­åŒ…å®å‚å¹¶ä¸”æ˜¯æœ€åçš„å®å‚ï¼Œé‚£ä¹ˆ_æ°¸è¿œ_ä½¿ç”¨å°¾éšé—­åŒ…è¯­æ³•è°ƒç”¨å®ƒï¼Œé™¤äº†ä¸‹é¢è¿™äº›è§£å†³æ­§ä¹‰æˆ–è€…åˆ†æé”™è¯¯çš„æƒ…å†µï¼š</p>

<ol>
  <li>
    <p>As described above, labeled closure arguments must be used to disambiguate
between two overloads with otherwise identical arguments lists.</p>

    <p>å¦‚ä¸Šé¢æ‰€æè¿°ï¼Œå¿…é¡»ä½¿ç”¨å¸¦æ ‡ç­¾çš„é—­åŒ…å‚æ•°æ¥æ¶ˆé™¤ä¸¤ä¸ªå…¶ä»–å®å‚åˆ—è¡¨éƒ½ç›¸åŒçš„é‡è½½ä¹‹é—´çš„æ­§ä¹‰ã€‚</p>
  </li>
  <li>
    <p>Labeled closure arguments must be used in control flow statements where the
body of the trailing closure would be parsed as the body of the control flow
statement.</p>

    <p>åœ¨æ§åˆ¶æµè¯­å¥é‡Œå¿…é¡»ä½¿ç”¨å¸¦æ ‡ç­¾çš„é—­åŒ…å®å‚ï¼Œå› ä¸ºå°¾éšé—­åŒ…ä¼šè¢«è§£ææˆæ§åˆ¶æµè¯­å¥çš„æ‰§è¡Œä½“ã€‚</p>
  </li>
</ol>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">Timer</span><span class="o">.</span><span class="nf">scheduledTimer</span><span class="p">(</span><span class="nv">timeInterval</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="nv">repeats</span><span class="p">:</span> <span class="kc">false</span><span class="p">)</span> <span class="p">{</span> <span class="n">timer</span> <span class="k">in</span>
  <span class="nf">print</span><span class="p">(</span><span class="s">"Timer done!"</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">if</span> <span class="k">let</span> <span class="nv">firstActive</span> <span class="o">=</span> <span class="n">list</span><span class="o">.</span><span class="nf">first</span><span class="p">(</span><span class="nv">where</span><span class="p">:</span> <span class="p">{</span> <span class="nv">$0</span><span class="o">.</span><span class="n">isActive</span> <span class="p">})</span> <span class="p">{</span>
  <span class="nf">process</span><span class="p">(</span><span class="n">firstActive</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">Timer</span><span class="o">.</span><span class="nf">scheduledTimer</span><span class="p">(</span><span class="nv">timeInterval</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="nv">repeats</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> <span class="nv">block</span><span class="p">:</span> <span class="p">{</span> <span class="n">timer</span> <span class="k">in</span>
  <span class="nf">print</span><span class="p">(</span><span class="s">"Timer done!"</span><span class="p">)</span>
<span class="p">})</span>

<span class="c1">// This example fails to compile.</span>
<span class="k">if</span> <span class="k">let</span> <span class="nv">firstActive</span> <span class="o">=</span> <span class="n">list</span><span class="o">.</span><span class="n">first</span> <span class="p">{</span> <span class="nv">$0</span><span class="o">.</span><span class="n">isActive</span> <span class="p">}</span> <span class="p">{</span>
  <span class="nf">process</span><span class="p">(</span><span class="n">firstActive</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>When a function called with trailing closure syntax takes no other arguments,
empty parentheses (<code class="highlighter-rouge">()</code>) after the function name are <em>never</em> present.</p>

<p>å¦‚æœå‡½æ•°è°ƒç”¨ä½¿ç”¨çš„æ˜¯å°¾éšé—­åŒ…è¯­æ³•ä¸”æ²¡æœ‰å…¶ä»–å®å‚ï¼Œå‡½æ•°ååé¢çš„ç©ºæ‹¬å·ï¼ˆ<code class="highlighter-rouge">()</code>ï¼‰_æ°¸è¿œä¸_è¦å‡ºç°ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">squares</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="nv">$0</span> <span class="o">*</span> <span class="nv">$0</span> <span class="p">}</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">squares</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="nf">map</span><span class="p">({</span> <span class="nv">$0</span> <span class="o">*</span> <span class="nv">$0</span> <span class="p">})</span>
<span class="k">let</span> <span class="nv">squares</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="nf">map</span><span class="p">()</span> <span class="p">{</span> <span class="nv">$0</span> <span class="o">*</span> <span class="nv">$0</span> <span class="p">}</span>
</code></pre></div></div>

<h3 id="æœ«å°¾é€—å·trailing-commas">æœ«å°¾é€—å·/Trailing Commas</h3>

<p>Trailing commas in array and dictionary literals are <em>required</em> when each
element is placed on its own line. Doing so produces cleaner diffs when items
are added to those literals later.</p>

<p>å½“æ•°ç»„å’Œå­—å…¸é‡Œå­—é¢é‡é‡Œæ¯ä¸ªå…ƒç´ ç‹¬å ä¸€è¡Œæ—¶_éœ€è¦_åŠ ä¸Šæœ«å°¾é€—å·ã€‚è¿™æ ·åšåœ¨è¿™äº›å­—é¢é‡åç»­åŠ å…¥æ–°çš„å…ƒç´ æ—¶ä¼šæœ‰æ›´æ˜æ˜¾çš„åŒºåˆ†ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">configurationKeys</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s">"bufferSize"</span><span class="p">,</span>
  <span class="s">"compression"</span><span class="p">,</span>
  <span class="s">"encoding"</span><span class="p">,</span>                                    <span class="c1">// GOOD.</span>
<span class="p">]</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">configurationKeys</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s">"bufferSize"</span><span class="p">,</span>
  <span class="s">"compression"</span><span class="p">,</span>
  <span class="s">"encoding"</span>                                     <span class="c1">// AVOID.</span>
<span class="p">]</span>
</code></pre></div></div>

<h3 id="æ•°å­—å­—é¢é‡numeric-literals">æ•°å­—å­—é¢é‡/Numeric Literals</h3>

<p>It is recommended but not required that long numeric literals (decimal,
hexadecimal, octal, and binary) use the underscore (<code class="highlighter-rouge">_</code>) separator to group
digits for readability when the literal has numeric value or when there exists a
domain-specific grouping.</p>

<p>å½“é•¿æ•°å­—å­—é¢é‡ï¼ˆåè¿›åˆ¶ï¼Œåå…­è¿›åˆ¶ï¼Œå…«è¿›åˆ¶å’ŒäºŒè¿›åˆ¶ï¼‰æœ‰æ•°å€¼æˆ–å­˜åœ¨ç‰¹å®šé¢†åŸŸåˆ†ç»„æ—¶å»ºè®®ä½¿ç”¨ä¸‹åˆ’çº¿ï¼ˆ<code class="highlighter-rouge">_</code>ï¼‰å¯¹æ•°å­—è¿›è¡Œåˆ†ç»„ï¼Œä½†ä¸å¼ºåˆ¶ã€‚</p>

<p>Recommended groupings are three digits for decimal (thousands separators), four
digits for hexadecimal, four or eight digits for binary literals, or
value-specific field boundaries when they exist (such as three digits for octal
file permissions).</p>

<p>åè¿›åˆ¶å»ºè®®æ¯ä¸‰ä¸ªæ•°å­—åˆ†ç»„ï¼ˆæŒ‰åƒæ•°é‡çº§åˆ†éš”ï¼‰ï¼Œåå…­è¿›åˆ¶å»ºè®®æ¯å››ä¸ªæ•°å­—åˆ†ç»„ï¼ŒäºŒè¿›åˆ¶å»ºè®®æ¯å››æˆ–å…«ä¸ªæ•°å­—è¿›è¡Œåˆ†ç»„ï¼Œæˆ–è€…æ ¹æ®å­˜åœ¨çš„ç‰¹å®šå€¼çš„å­—æ®µè¾¹ç•Œè¿›è¡Œåˆ†ç»„ï¼ˆä¾‹å¦‚å…«è¿›åˆ¶æ–‡ä»¶æƒé™çš„ä¸‰ä¸ªæ•°å­—ï¼‰ã€‚</p>

<p>Do not group digits if the literal is an opaque identifier that does not have a
meaningful numeric value.</p>

<p>å¦‚æœå­—é¢é‡æ˜¯é€æ˜æ ‡è¯†ç¬¦ä¸”æ²¡æœ‰æ•°å€¼å«ä¹‰ï¼Œåˆ™ä¸è¦åˆ†ç»„ã€‚</p>

<h3 id="æ³¨è§£attributes">æ³¨è§£/Attributes</h3>

<p>Parameterized attributes (such as <code class="highlighter-rouge">@availability(...)</code> or <code class="highlighter-rouge">@objc(...)</code>) are each
written on their own line immediately before the declaration to which they
apply, are lexicographically ordered, and are indented at the same level as the
declaration.</p>

<p>æ¯ä¸ªå¸¦å‚æ•°çš„æ³¨è§£ï¼ˆä¾‹å¦‚ <code class="highlighter-rouge">@availability(â€¦)</code> æˆ– <code class="highlighter-rouge">@objc(â€¦)</code>ï¼‰å†™åœ¨å…¶é€‚ç”¨å£°æ˜çš„å‰é¢å•ç‹¬ä¸€è¡Œï¼Œå¹¶ä¸”æŒ‰ç…§é¦–å­—æ¯æ’åºï¼Œç¼©è¿›å’Œå£°æ˜ä¿æŒä¸€è‡´ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">@available(iOS 9.0, *)</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">coolNewFeature</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">@available(iOS 9.0, *)</span> <span class="kd">public</span> <span class="kd">func</span> <span class="nf">coolNewFeature</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Attributes without parameters (for example, <code class="highlighter-rouge">@objc</code> without arguments,
<code class="highlighter-rouge">@IBOutlet</code>, or <code class="highlighter-rouge">@NSManaged</code>) are lexicographically ordered and <em>may</em> be placed
on the same line as the declaration if and only if they would fit on that line
without requiring the line to be rewrapped. If placing an attribute on the same
line as the declaration would require a declaration to be wrapped that
previously did not need to be wrapped, then the attribute is placed on its own
line.</p>

<p>ä¸å¸¦å‚æ•°çš„æ³¨è§£ï¼ˆä¾‹å¦‚ä¸å¸¦å‚æ•°çš„ <code class="highlighter-rouge">@objc</code> ï¼Œ<code class="highlighter-rouge">@IBOutlet</code> æˆ–è€… <code class="highlighter-rouge">@NSManaged</code>ï¼‰å½“ä¸”ä»…å½“ä¸å¯¼è‡´æ¢è¡Œæ—¶_å¯ä»¥_æŒ‰é¦–å­—æ¯æ’åºä¸å£°æ˜å†™åœ¨åŒä¸€è¡Œã€‚å¦‚æœåœ¨å£°æ˜çš„è¡Œå¢åŠ è¯¥æ³¨è§£åå¯¼è‡´éœ€è¦æ¢è¡Œçš„è¯ï¼Œåˆ™å°†æ³¨è§£å¦èµ·ä¸€è¡Œã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">MyViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>
  <span class="kd">@IBOutlet</span> <span class="kd">private</span> <span class="k">var</span> <span class="nv">tableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="o">!</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="å‘½ånaming">å‘½å/Naming</h2>

<h3 id="apple-api-ä»£ç é£æ ¼æŒ‡å—apples-api-style-guidelines">Apple API ä»£ç é£æ ¼æŒ‡å—/Appleâ€™s API Style Guidelines</h3>

<p>Appleâ€™s
<a href="https://swift.org/documentation/api-design-guidelines/">official Swift naming and API design guidelines</a>
hosted on swift.org are considered part of this style guide and are followed as
if they were repeated here in their entirety.</p>

<p>è¿™éƒ¨åˆ†ä»£ç é£æ ¼æŒ‡å—æ˜¯å‚è€ƒ Apple å®˜æ–¹çš„ Swift å‘½åå’Œ API ä»£ç é£æ ¼æŒ‡å—è€Œæˆçš„ï¼Œå¹¶ä¸”åº”è¯¥éµå¾ªé‚£äº›åœ¨è¿™é‡Œé‡å¤çš„éƒ¨åˆ†ã€‚</p>

<h3 id="å‘½åçº¦å®šä¸æ¶‰åŠè®¿é—®æ§åˆ¶naming-conventions-are-not-access-control">å‘½åçº¦å®šä¸æ¶‰åŠè®¿é—®æ§åˆ¶/Naming Conventions Are Not Access Control</h3>

<p>Restricted access control (<code class="highlighter-rouge">internal</code>, <code class="highlighter-rouge">fileprivate</code>, or <code class="highlighter-rouge">private</code>) is preferred
for the purposes of hiding information from clients, rather than naming
conventions.</p>

<p>ä½¿ç”¨çº¦å®šä¿—æˆçš„è®¿é—®æ§åˆ¶ï¼ˆ<code class="highlighter-rouge">internal</code>ï¼Œ<code class="highlighter-rouge">fileprivate</code> æˆ– <code class="highlighter-rouge">private</code>ï¼‰æ¥è¾¾åˆ°éšè—ä¿¡æ¯çš„ç›®çš„ï¼Œè€Œä¸è¦ä½¿ç”¨å‘½åçº¦å®šã€‚</p>

<p>Naming conventions (such as prefixing a leading underscore) are only used in
rare situations when a declaration must be given higher visibility than is
otherwise desired in order to work around language limitationsâ€”for
example, a type that has a method that is only intended to be called by other
parts of a library implementation that crosses module boundaries and must
therefore be declared <code class="highlighter-rouge">public</code>.</p>

<p>å‘½åçº¦å®šï¼ˆä¾‹å¦‚ä¸‹åˆ’çº¿å‰ç¼€ï¼‰åªæœ‰åœ¨å£°æ˜å¿…é¡»ç”¨åˆ°æ›´é«˜çš„å¯è§æ€§æ¥è§£å†³è¯­è¨€é™åˆ¶çš„ç½•è§æƒ…å†µä¸‹ä½¿ç”¨â€”â€”ä¾‹å¦‚ï¼Œç±»å‹æœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œåªæ‰“ç®—è¢«å¦ä¸€ä¸ªåº“çš„å®ç°è·¨æ¨¡å—è°ƒç”¨ï¼Œå¯¼è‡´å¿…é¡»è¢«å£°æ˜ä¸º <code class="highlighter-rouge">public</code> çš„æƒ…å†µä¸‹ã€‚</p>

<h3 id="æ ‡è¯†ç¬¦identifiers">æ ‡è¯†ç¬¦/Identifiers</h3>

<p>In general, identifiers contain only 7-bit ASCII characters. Unicode identifiers
are allowed if they have a clear and legitimate meaning in the problem domain
of the code base (for example, Greek letters that represent mathematical
concepts) and are well understood by the team who owns the code.</p>

<p>é€šå¸¸æ¥è¯´ï¼Œæ ‡è¯†ç¬¦åªèƒ½åŒ…å« 7 ä½ ASCII ç å­—ç¬¦ã€‚Unicode æ ‡è¯†ç¬¦åªæœ‰åœ¨ä»£ç æ‰€éœ€è¦è§£å†³çš„é—®é¢˜é¢†åŸŸæœ‰æ˜ç¡®ä¸”åˆç†çš„å«ä¹‰ï¼ˆä¾‹å¦‚ï¼šå¸Œè…Šå­—æ¯ç”¨äºè¡¨è¾¾æ•°å­¦ä¸Šçš„æ¦‚å¿µï¼‰ï¼Œå¹¶ä¸”èƒ½è¢«å›¢é˜Ÿæˆå‘˜ç†è§£çš„æƒ…å†µä¸‹æ‰å¯ä»¥ä½¿ç”¨ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">smile</span> <span class="o">=</span> <span class="s">"ğŸ˜Š"</span>
<span class="k">let</span> <span class="nv">deltaX</span> <span class="o">=</span> <span class="n">newX</span> <span class="o">-</span> <span class="n">previousX</span>
<span class="k">let</span> <span class="nv">Î”x</span> <span class="o">=</span> <span class="n">newX</span> <span class="o">-</span> <span class="n">previousX</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">ğŸ˜Š</span> <span class="o">=</span> <span class="s">"ğŸ˜Š"</span>
</code></pre></div></div>

<h3 id="æ„é€ å™¨initializers">æ„é€ å™¨/Initializers</h3>

<p>For clarity, initializer arguments that correspond directly to a stored property
have the same name as the property. Explicit <code class="highlighter-rouge">self.</code> is used during assignment
to disambiguate them.</p>

<p>ä¸ºäº†æ›´æ˜ç¡®åœ°è¡¨è¾¾ï¼Œæ„é€ å™¨å®å‚å’Œå…¶ç›´æ¥å¯¹åº”çš„å­˜å‚¨å±æ€§åŒåã€‚åœ¨èµ‹å€¼çš„æ—¶å€™ä½¿ç”¨æ˜¾å¼ <code class="highlighter-rouge">self.</code> æ¥æ¶ˆé™¤æ­§ä¹‰ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">Person</span> <span class="p">{</span>
  <span class="kd">public</span> <span class="k">let</span> <span class="nv">name</span><span class="p">:</span> <span class="kt">String</span>
  <span class="kd">public</span> <span class="k">let</span> <span class="nv">phoneNumber</span><span class="p">:</span> <span class="kt">String</span>

  <span class="c1">// GOOD.</span>
  <span class="kd">public</span> <span class="nf">init</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">phoneNumber</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="k">self</span><span class="o">.</span><span class="n">phoneNumber</span> <span class="o">=</span> <span class="n">phoneNumber</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">Person</span> <span class="p">{</span>
  <span class="kd">public</span> <span class="k">let</span> <span class="nv">name</span><span class="p">:</span> <span class="kt">String</span>
  <span class="kd">public</span> <span class="k">let</span> <span class="nv">phoneNumber</span><span class="p">:</span> <span class="kt">String</span>

  <span class="c1">// AVOID.</span>
  <span class="kd">public</span> <span class="nf">init</span><span class="p">(</span><span class="n">name</span> <span class="nv">otherName</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="n">phoneNumber</span> <span class="nv">otherPhoneNumber</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">otherName</span>
    <span class="n">phoneNumber</span> <span class="o">=</span> <span class="n">otherPhoneNumber</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="é™æ€å±æ€§å’Œç±»å±æ€§static-and-class-properties">é™æ€å±æ€§å’Œç±»å±æ€§/Static and Class Properties</h3>

<p>Static and class properties that return instances of the declaring type are
<em>not</em> suffixed with the name of the type.</p>

<p>é™æ€å±æ€§å’Œç±»å±æ€§è¿”å›å£°æ˜ç±»å‹çš„å®ä¾‹æ—¶<strong>ä¸éœ€è¦</strong>åŠ ä¸Šè¯¥ç±»å‹åå­—ä½œåç¼€ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">UIColor</span> <span class="p">{</span>
  <span class="kd">public</span> <span class="kd">class</span> <span class="k">var</span> <span class="nv">red</span><span class="p">:</span> <span class="kt">UIColor</span> <span class="p">{</span>                <span class="c1">// GOOD.</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="kt">URLSession</span> <span class="p">{</span>
  <span class="kd">public</span> <span class="kd">class</span> <span class="k">var</span> <span class="nv">shared</span><span class="p">:</span> <span class="kt">URLSession</span> <span class="p">{</span>          <span class="c1">// GOOD.</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">UIColor</span> <span class="p">{</span>
  <span class="kd">public</span> <span class="kd">class</span> <span class="k">var</span> <span class="nv">redColor</span><span class="p">:</span> <span class="kt">UIColor</span> <span class="p">{</span>           <span class="c1">// AVOID.</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="kt">URLSession</span> <span class="p">{</span>
  <span class="kd">public</span> <span class="kd">class</span> <span class="k">var</span> <span class="nv">sharedSession</span><span class="p">:</span> <span class="kt">URLSession</span> <span class="p">{</span>   <span class="c1">// AVOID.</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>When a static or class property evaluates to a singleton instance of the
declaring type, the names <code class="highlighter-rouge">shared</code> and <code class="highlighter-rouge">default</code> are commonly used. This style
guide does not require specific names for these; the author should choose a name
that makes sense for the type.</p>

<p>å½“é™æ€å±æ€§æˆ–è€…ç±»å±æ€§ç”¨äºæè¿°è¯¥å£°æ˜ç±»å‹çš„å•ä¾‹å®ä¾‹æ—¶ï¼Œé€šå¸¸ä½¿ç”¨ <code class="highlighter-rouge">shared</code> å’Œ <code class="highlighter-rouge">default</code> ä½œä¸ºåå­—ã€‚è¿™ä¸ªä»£ç é£æ ¼æŒ‡å—ä¸å¼ºåˆ¶è¦æ±‚ä½¿ç”¨è¿™äº›å‘½åï¼Œä½œè€…å¯ä»¥è‡ªè¡Œé€‰æ‹©å¯¹è¯¥ç±»å‹æœ‰æ„ä¹‰çš„åå­—ã€‚</p>

<h3 id="å…¨å±€å¸¸é‡global-constants">å…¨å±€å¸¸é‡/Global Constants</h3>

<p>Like other variables, global constants are <code class="highlighter-rouge">lowerCamelCase</code>. Hungarian notation,
such as a leading <code class="highlighter-rouge">g</code> or <code class="highlighter-rouge">k</code>, is not used.</p>

<p>å’Œå…¶ä»–å˜é‡ç±»ä¼¼ï¼Œå…¨å±€å¸¸é‡ä¹Ÿä½¿ç”¨ <code class="highlighter-rouge">lowerCamelCase(é©¼å³°å‘½åæ³•)</code>ã€‚è€Œä¸ä½¿ç”¨åŒˆç‰™åˆ©å‘½åæ³•ï¼Œä¾‹å¦‚ä»¥ <code class="highlighter-rouge">g</code> æˆ–è€… <code class="highlighter-rouge">k</code> å¼€å¤´ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">secondsPerMinute</span> <span class="o">=</span> <span class="mi">60</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">SecondsPerMinute</span> <span class="o">=</span> <span class="mi">60</span>
<span class="k">let</span> <span class="nv">kSecondsPerMinute</span> <span class="o">=</span> <span class="mi">60</span>
<span class="k">let</span> <span class="nv">gSecondsPerMinute</span> <span class="o">=</span> <span class="mi">60</span>
<span class="k">let</span> <span class="nv">SECONDS_PER_MINUTE</span> <span class="o">=</span> <span class="mi">60</span>
</code></pre></div></div>

<h3 id="ä»£ç†æ–¹æ³•delegate-methods">ä»£ç†æ–¹æ³•/Delegate Methods</h3>

<p>Methods on delegate protocols and delegate-like protocols (such as data sources)
are named using the linguistic syntax described below, which is inspired by
Cocoaâ€™s protocols.</p>

<p>ä»£ç†åè®®å’Œç±»ä¼¼ä»£ç†çš„åè®®ï¼ˆä¾‹å¦‚æ•°æ®æºåè®®ï¼‰é‡Œçš„æ–¹æ³•å‘½åä½¿ç”¨ä¸‹é¢æè¿°çš„å£è¯­åŒ–è¯­æ³•ï¼Œè¿™æ˜¯å— Cocoa æ¡†æ¶é‡Œåè®®çš„å‘½åå¯å‘è€Œæ¥ã€‚</p>

<blockquote>
  <p>The term â€œdelegateâ€™s source objectâ€ refers to the object that invokes methods
on the delegate. For example, a <code class="highlighter-rouge">UITableView</code> is the source object that
invokes methods on the <code class="highlighter-rouge">UITableViewDelegate</code> that is set as the viewâ€™s
<code class="highlighter-rouge">delegate</code> property.</p>

  <p>æœ¯è¯­â€œä»£ç†æºå¯¹è±¡â€æŒ‡çš„æ˜¯å“åº”ä»£ç†æ–¹æ³•çš„å¯¹è±¡ã€‚ä¾‹å¦‚ï¼š<code class="highlighter-rouge">UITableView</code> æ˜¯å“åº”è§†å›¾ <code class="highlighter-rouge">delegate</code> å±æ€§è®¾ç½®çš„ <code class="highlighter-rouge">UITableViewDeleagte</code> é‡Œæ–¹æ³•çš„æºå¯¹è±¡ã€‚</p>
</blockquote>

<p>All methods take the delegateâ€™s source object as the first argument.</p>

<p>æ‰€æœ‰æ–¹æ³•å°†ä»£ç†æºå¯¹è±¡ä½œä¸ºç¬¬ä¸€ä¸ªå®å‚ã€‚</p>

<p>For methods that take the delegateâ€™s source object as their <strong>only</strong> argument:</p>

<p>å¯¹äº<strong>åª</strong>æœ‰ä»£ç†æºå¯¹è±¡å®å‚çš„æ–¹æ³•ï¼š</p>

<ul>
  <li>
    <p>If the method returns <code class="highlighter-rouge">Void</code> (such as those used to notify the delegate that
an event has occurred), then the methodâ€™s base name is the <strong>delegateâ€™s
source type</strong> followed by an <strong>indicative verb phrase</strong> describing the
event. The argument is <strong>unlabeled.</strong></p>
  </li>
  <li>
    <p>å¦‚æœæ–¹æ³•è¿”å› <code class="highlighter-rouge">void</code>ï¼ˆä¾‹å¦‚ç”¨äºæé†’ä»£ç†äº‹ä»¶å‘ç”Ÿï¼‰ï¼Œé‚£ä¹ˆæ–¹æ³•åä¸º<strong>ä»£ç†æºç±»å‹</strong>åé¢åŠ ä¸Šæè¿°äº‹ä»¶çš„<strong>æŒ‡ç¤ºæ€§åŠ¨è¯</strong>ã€‚å®å‚<strong>æ— æ ‡ç­¾</strong>ã€‚</p>

    <div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">scrollViewDidBeginScrolling</span><span class="p">(</span><span class="n">_</span> <span class="nv">scrollView</span><span class="p">:</span> <span class="kt">UIScrollView</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>If the method returns <code class="highlighter-rouge">Bool</code> (such as those that make an assertion about the
delegateâ€™s source object itself), then the methodâ€™s name is the <strong>delegateâ€™s
source type</strong> followed by an <strong>indicative or conditional verb phrase</strong>
describing the assertion. The argument is <strong>unlabeled.</strong></p>
  </li>
  <li>
    <p>å¦‚æœæ–¹æ³•è¿”å› <code class="highlighter-rouge">Bool</code>ï¼ˆä¾‹å¦‚å¯¹ä»£ç†æºå¯¹è±¡æœ¬èº«åšæ–­è¨€ï¼‰ï¼Œé‚£ä¹ˆæ–¹æ³•åä¸º<strong>ä»£ç†æºç±»å‹</strong>åé¢åŠ ä¸Šæè¿°æ–­è¨€çš„<strong>æŒ‡ç¤ºæ€§æˆ–æ¡ä»¶æ€§åŠ¨è¯</strong>ã€‚å®å‚<strong>æ— æ ‡ç­¾</strong>ã€‚</p>

    <div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">scrollViewShouldScrollToTop</span><span class="p">(</span><span class="n">_</span> <span class="nv">scrollView</span><span class="p">:</span> <span class="kt">UIScrollView</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>If the method returns some other value (such as those querying for
information about a property of the delegateâ€™s source object), then the
methodâ€™s base name is a <strong>noun phrase</strong> describing the property being
queried. The argument is <strong>labeled with a preposition or phrase with a
trailing preposition</strong> that appropriately combines the noun phrase and the
delegateâ€™s source object.</p>
  </li>
  <li>
    <p>å¦‚æœæ–¹æ³•è¿”å›å…¶ä»–å€¼ï¼ˆä¾‹å¦‚æŸ¥è¯¢ä»£ç†æºå¯¹è±¡ä¸Šçš„å±æ€§ä¿¡æ¯ï¼‰ï¼Œé‚£ä¹ˆæ–¹æ³•åæ˜¯æè¿°æŸ¥è¯¢å±æ€§çš„<strong>åè¯</strong>ã€‚å®å‚<strong>æ ‡ç­¾æ˜¯ä»‹è¯æˆ–åç½®ä»‹è¯</strong>ï¼Œç”¨äºå°†åè¯å’Œä»£ç†æºå¯¹è±¡åˆé€‚åœ°è¿æ¥èµ·æ¥ã€‚</p>

    <div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">numberOfSections</span><span class="p">(</span><span class="k">in</span> <span class="nv">scrollView</span><span class="p">:</span> <span class="kt">UIScrollView</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span>
</code></pre></div>    </div>
  </li>
</ul>

<p>For methods that take <strong>additional</strong> arguments after the delegateâ€™s source
object, the methodâ€™s base name is the delegateâ€™s source type <strong>by itself</strong> and
the first argument is <strong>unlabeled.</strong> Then:</p>

<p>å¯¹äºåœ¨ä»£ç†æºå¯¹è±¡åæœ‰<strong>é¢å¤–</strong>å®å‚çš„æ–¹æ³•ï¼Œæ–¹æ³•åæ˜¯ä»£ç†æºç±»å‹<strong>è‡ªèº«</strong>å¹¶ä¸”ç¬¬ä¸€ä¸ªå®å‚<strong>æ— æ ‡ç­¾</strong>ã€‚ç„¶åï¼š</p>

<ul>
  <li>
    <p>If the method returns <code class="highlighter-rouge">Void</code>, the second argument is <strong>labeled with an
indicative verb phrase</strong> describing the event that has the argument as its
<strong>direct object or prepositional object,</strong> and any other arguments (if
present) provide further context.</p>
  </li>
  <li>
    <p>å¦‚æœæ–¹æ³•è¿”å› <code class="highlighter-rouge">void</code>ï¼Œç¬¬äºŒä¸ªå®å‚<strong>æ ‡ç­¾æ˜¯æŒ‡ç¤ºæ€§åŠ¨è¯</strong>ï¼Œç”¨äºæè¿°å®å‚æ˜¯<strong>ç›´æ¥å®¾è¯­æˆ–è€…é—´æ¥å®¾è¯­</strong>çš„äº‹ä»¶ï¼Œå¹¶ç»™å…¶å®ƒå®å‚ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰æä¾›æ›´å¤šä¸Šä¸‹æ–‡ã€‚</p>

    <div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">tableView</span><span class="p">(</span>
<span class="n">_</span> <span class="nv">tableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="p">,</span>
  <span class="n">willDisplayCell</span> <span class="nv">cell</span><span class="p">:</span> <span class="kt">UITableViewCell</span><span class="p">,</span>
  <span class="n">forRowAt</span> <span class="nv">indexPath</span><span class="p">:</span> <span class="kt">IndexPath</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>If the method returns <code class="highlighter-rouge">Bool</code>, the second argument is <strong>labeled with an
indicative or conditional verb phrase</strong> that describes the return value in
terms of the argument, and any other arguments (if present) provide further
context.</p>
  </li>
  <li>
    <p>å¦‚æœæ–¹æ³•è¿”å› <code class="highlighter-rouge">Bool</code>ï¼Œç¬¬äºŒä¸ªå®å‚<strong>æ ‡ç­¾æ˜¯æŒ‡ç¤ºæ€§æˆ–è€…æ¡ä»¶æ€§åŠ¨è¯</strong>ï¼Œç”¨äºæè¿°å¯¹äºå®å‚çš„è¿”å›å€¼ï¼Œå¹¶ç»™å…¶ä»–å®å‚ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰æä¾›æ›´å¤šä¸Šä¸‹æ–‡ã€‚</p>

    <div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">tableView</span><span class="p">(</span>
<span class="n">_</span> <span class="nv">tableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="p">,</span>
  <span class="n">shouldSpringLoadRowAt</span> <span class="nv">indexPath</span><span class="p">:</span> <span class="kt">IndexPath</span><span class="p">,</span>
  <span class="n">with</span> <span class="nv">context</span><span class="p">:</span> <span class="kt">UISpringLoadedInteractionContext</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>If the method returns some other value, the second argument is <strong>labeled
with a noun phrase and trailing preposition</strong> that describes the return
value in terms of the argument, and any other arguments (if present) provide
further context.</p>
  </li>
  <li>
    <p>å¦‚æœæ–¹æ³•è¿”å›å…¶ä»–å€¼ï¼Œç¬¬äºŒä¸ªå®å‚<strong>æ ‡ç­¾æ˜¯åè¯å’Œåç½®ä»‹è¯</strong>ï¼Œç”¨äºæè¿°å¯¹äºå®å‚çš„è¿”å›å€¼ï¼Œå¹¶ç»™å…¶ä»–å®å‚ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰æä¾›æ›´å¤šä¸Šä¸‹æ–‡ã€‚</p>

    <div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">tableView</span><span class="p">(</span>
<span class="n">_</span> <span class="nv">tableView</span><span class="p">:</span> <span class="kt">UITableView</span><span class="p">,</span>
  <span class="n">heightForRowAt</span> <span class="nv">indexPath</span><span class="p">:</span> <span class="kt">IndexPath</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">CGFloat</span>
</code></pre></div>    </div>
  </li>
</ul>

<p>Appleâ€™s documentation on
<a href="https://developer.apple.com/library/content/documentation/General/Conceptual/CocoaEncyclopedia/DelegatesandDataSources/DelegatesandDataSources.html">delegates and data sources</a>
also contains some good general guidance about such names.</p>

<p>Apple çš„ <a href="https://developer.apple.com/library/archive/documentation/General/Conceptual/CocoaEncyclopedia/DelegatesandDataSources/DelegatesandDataSources.html">ä»£ç†å’Œæ•°æ®æº</a> æ–‡æ¡£ä¹Ÿæä¾›äº†ä¸€äº›åœ¨è¿™ç§æƒ…å†µä¸‹çš„é€šç”¨å‘½åæŒ‡å¼•ã€‚</p>

<h2 id="ç¼–ç¨‹å®è·µprogramming-practices">ç¼–ç¨‹å®è·µ/Programming Practices</h2>

<p>Common themes among the rules in this section are: avoid redundancy, avoid
ambiguity, and prefer implicitness over explicitness unless being explicit
improves readability and/or reduces ambiguity.</p>

<p>æœ¬ç« èŠ‚ä¸­è§„åˆ™çš„é€šç”¨ä¸»æ—¨æ˜¯ï¼šé¿å…å†—ä½™ï¼Œé¿å…æ­§ä¹‰ï¼Œé™¤äº†èƒ½æ˜æ˜¾æé«˜å¯è¯»æ€§å’Œ/æˆ–å‡å°‘æ­§ä¹‰å¤–å°½é‡ä½¿ç”¨éšå¼è€Œä¸æ˜¯æ˜¾å¼ã€‚</p>

<h3 id="ç¼–è¯‘å™¨è­¦å‘Šcompiler-warnings">ç¼–è¯‘å™¨è­¦å‘Š/Compiler Warnings</h3>

<p>Code should compile without warnings when feasible. Any warnings that are able
to be removed easily by the author must be removed.</p>

<p>ä»£ç åœ¨ç¼–è¯‘æ—¶å°½å¯èƒ½ä¿æŒæ²¡æœ‰è­¦å‘Šã€‚ä»»ä½•å¯ä»¥ç®€å•å»é™¤çš„è­¦å‘Šä½œè€…éƒ½åº”è¯¥å»é™¤ã€‚</p>

<p>A reasonable exception is deprecation warnings, where it may not be possible to
immediately migrate to the replacement API, or where an API may be deprecated
for external users but must still be supported inside a library during a
deprecation period.</p>

<p>åœ¨ä¸å¯èƒ½é©¬ä¸Šè¿ç§»åˆ°æ›¿ä»£ API æ—¶æˆ–è€…åœ¨ API å¯¹å¤–éƒ¨ç”¨æˆ·åºŸå¼ƒä½†è¿˜éœ€è¦ç»§ç»­å¯¹åº“å†…éƒ¨æ”¯æŒçš„åºŸå¼ƒæ—¶æœŸï¼Œæœ‰ç†ç”±çš„åºŸå¼ƒè­¦å‘Šå¯ä»¥ä¾‹å¤–ã€‚</p>

<h3 id="æ„é€ å™¨initializers-1">æ„é€ å™¨/Initializers</h3>

<p>For <code class="highlighter-rouge">struct</code>s, Swift synthesizes a non-public memberwise <code class="highlighter-rouge">init</code> that takes
arguments for <code class="highlighter-rouge">var</code> properties and for any <code class="highlighter-rouge">let</code> properties that lack default
values. When that initializer is suitable (that is, a <code class="highlighter-rouge">public</code> one is not
needed), it is used and no explicit initializer is written.</p>

<p>å¯¹äº <code class="highlighter-rouge">Struct</code>ï¼ŒSwift ä¼šåˆæˆå®å‚ä¸º <code class="highlighter-rouge">var</code> å±æ€§å’Œç¼ºå°‘é»˜è®¤å€¼çš„ <code class="highlighter-rouge">let</code> å±æ€§çš„éå…¬å¼€é€ä¸€æˆå‘˜ <code class="highlighter-rouge">init</code>ã€‚å¦‚æœè¯¥æ„é€ å™¨å·²ç»è¶³å¤Ÿï¼ˆä¹Ÿå°±æ˜¯è¯´ä¸éœ€è¦ <code class="highlighter-rouge">public</code> çš„è¯ï¼‰ï¼Œç›´æ¥ä½¿ç”¨è€Œä¸éœ€è¦ä¹¦å†™æ˜¾å¼çš„æ„é€ å™¨ã€‚</p>

<p>The initializers declared by the special <code class="highlighter-rouge">ExpressibleBy*Literal</code> compiler
protocols are never called directly.</p>

<p>éµå¾ªç‰¹æ®Šçš„ <code class="highlighter-rouge">ExpressibleBy*Literal</code> ç¼–è¯‘å™¨åè®®è€Œå£°æ˜çš„æ„é€ å™¨æ°¸è¿œä¸åº”è¯¥ç›´æ¥è°ƒç”¨ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">Kilometers</span><span class="p">:</span> <span class="kt">ExpressibleByIntegerLiteral</span> <span class="p">{</span>
  <span class="nf">init</span><span class="p">(</span><span class="n">integerLiteral</span> <span class="nv">value</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">k1</span><span class="p">:</span> <span class="kt">Kilometers</span> <span class="o">=</span> <span class="mi">10</span>                          <span class="c1">// GOOD.</span>
<span class="k">let</span> <span class="nv">k2</span> <span class="o">=</span> <span class="mi">10</span> <span class="k">as</span> <span class="kt">Kilometers</span>                        <span class="c1">// ALSO GOOD.</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">Kilometers</span><span class="p">:</span> <span class="kt">ExpressibleByIntegerLiteral</span> <span class="p">{</span>
  <span class="nf">init</span><span class="p">(</span><span class="n">integerLiteral</span> <span class="nv">value</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">k</span> <span class="o">=</span> <span class="kt">Kilometers</span><span class="p">(</span><span class="nv">integerLiteral</span><span class="p">:</span> <span class="mi">10</span><span class="p">)</span>           <span class="c1">// AVOID.</span>
</code></pre></div></div>

<p>Explicitly calling <code class="highlighter-rouge">.init(...)</code> is allowed only when the receiver of the call is
a metatype variable. In direct calls to the initializer using the literal type
name, <code class="highlighter-rouge">.init</code> is omitted. (<strong>Referring</strong> to the initializer directly by using
<code class="highlighter-rouge">MyType.init</code> syntax to convert it to a closure is permitted.)</p>

<p>åªæœ‰å½“è°ƒç”¨è€…æ˜¯å…ƒç±»å‹å˜é‡æ—¶æ‰å…è®¸æ˜ç¡®è°ƒç”¨  <code class="highlighter-rouge">.init(...)</code>  ã€‚ä½¿ç”¨å­—é¢é‡ç±»å‹åå­—ç›´æ¥è°ƒç”¨æ„é€ å™¨æ—¶ï¼Œçœç•¥ <code class="highlighter-rouge">.init</code>ã€‚ï¼ˆæ„é€ å™¨ä½¿ç”¨ <code class="highlighter-rouge">MyType.init</code> è¯­æ³•ä½œä¸ºé—­åŒ…è¿›è¡Œ<strong>å¼•ç”¨</strong>æ˜¯å…è®¸çš„ã€‚ï¼‰</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">x</span> <span class="o">=</span> <span class="kt">MyType</span><span class="p">(</span><span class="n">arguments</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">type</span> <span class="o">=</span> <span class="nf">lookupType</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">x</span> <span class="o">=</span> <span class="n">type</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">arguments</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">x</span> <span class="o">=</span> <span class="nf">makeValue</span><span class="p">(</span><span class="nv">factory</span><span class="p">:</span> <span class="kt">MyType</span><span class="o">.</span><span class="kd">init</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">x</span> <span class="o">=</span> <span class="kt">MyType</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="n">arguments</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="å±æ€§properties-1">å±æ€§/Properties</h3>

<p>The <code class="highlighter-rouge">get</code> block for a read-only computed property is omitted and its body is
directly nested inside the property declaration.</p>

<p>åªè¯»è®¡ç®—å±æ€§çš„ <code class="highlighter-rouge">get</code> å—å¯ä»¥çœç•¥ï¼Œå¹¶å°†æ‰§è¡Œä½“ç›´æ¥åµŒå¥—åœ¨å±æ€§å£°æ˜é‡Œã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">var</span> <span class="nv">totalCost</span><span class="p">:</span> <span class="kt">Int</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">items</span><span class="o">.</span><span class="n">sum</span> <span class="p">{</span> <span class="nv">$0</span><span class="o">.</span><span class="n">cost</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">var</span> <span class="nv">totalCost</span><span class="p">:</span> <span class="kt">Int</span> <span class="p">{</span>
  <span class="k">get</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">items</span><span class="o">.</span><span class="n">sum</span> <span class="p">{</span> <span class="nv">$0</span><span class="o">.</span><span class="n">cost</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="ç±»å‹ç®€ç§°types-with-shorthand-names">ç±»å‹ç®€ç§°/Types with Shorthand Names</h3>

<p>Arrays, dictionaries, and optional types are written in their shorthand form
whenever possible; that is, <code class="highlighter-rouge">[Element]</code>, <code class="highlighter-rouge">[Key: Value]</code>, and <code class="highlighter-rouge">Wrapped?</code>. The
long forms <code class="highlighter-rouge">Array&lt;Element&gt;</code>, <code class="highlighter-rouge">Dictionary&lt;Key, Value&gt;</code>, and <code class="highlighter-rouge">Optional&lt;Wrapped&gt;</code>
are only written when required by the compiler; for example, the Swift parser
requires <code class="highlighter-rouge">Array&lt;Element&gt;.Index</code> and does not accept <code class="highlighter-rouge">[Element].Index</code>.</p>

<p>æ•°ç»„ï¼Œå­—å…¸å’Œå¯é€‰ç±»å‹å°½å¯èƒ½ä½¿ç”¨ç®€å†™å½¢å¼ï¼Œä¹Ÿå°±æ˜¯ <code class="highlighter-rouge">[Element]</code>ï¼Œ<code class="highlighter-rouge">[Key: Value]</code> å’Œ <code class="highlighter-rouge">Wrapped?</code>ã€‚å®Œæ•´å½¢å¼ <code class="highlighter-rouge">Array&lt;Element&gt;</code>ï¼Œ<code class="highlighter-rouge">Dictionary&lt;Key, Value&gt;</code> å’Œ <code class="highlighter-rouge">Optional&lt;Wrapped&gt;</code> åªæœ‰åœ¨ç¼–è¯‘å™¨éœ€è¦æ—¶æ‰ä½¿ç”¨ï¼Œä¾‹å¦‚ Swift è¯­æ³•åˆ†æç¨‹åºä¸æ¥å— <code class="highlighter-rouge">[Element].Index</code> è€Œéœ€è¦ç”¨ <code class="highlighter-rouge">Array&lt;Element&gt;.Index</code>ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="n">enumeratedDictionary</span><span class="o">&lt;</span><span class="kt">Element</span><span class="o">&gt;</span><span class="p">(</span>
  <span class="n">from</span> <span class="nv">values</span><span class="p">:</span> <span class="p">[</span><span class="kt">Element</span><span class="p">],</span>
  <span class="nv">start</span><span class="p">:</span> <span class="kt">Array</span><span class="o">&lt;</span><span class="kt">Element</span><span class="o">&gt;.</span><span class="kt">Index</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="kt">Int</span><span class="p">:</span> <span class="kt">Element</span><span class="p">]</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="n">enumeratedDictionary</span><span class="o">&lt;</span><span class="kt">Element</span><span class="o">&gt;</span><span class="p">(</span>
  <span class="n">from</span> <span class="nv">values</span><span class="p">:</span> <span class="kt">Array</span><span class="o">&lt;</span><span class="kt">Element</span><span class="o">&gt;</span><span class="p">,</span>
  <span class="nv">start</span><span class="p">:</span> <span class="kt">Optional</span><span class="o">&lt;</span><span class="kt">Array</span><span class="o">&lt;</span><span class="kt">Element</span><span class="o">&gt;.</span><span class="kt">Index</span><span class="o">&gt;</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Dictionary</span><span class="o">&lt;</span><span class="kt">Int</span><span class="p">,</span> <span class="kt">Element</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">Void</code> is a <code class="highlighter-rouge">typealias</code> for the empty tuple <code class="highlighter-rouge">()</code>, so from an implementation
point of view they are equivalent. In function type declarations (such as
closures, or variables holding a function reference), the return type is always
written as <code class="highlighter-rouge">Void</code>, never as <code class="highlighter-rouge">()</code>. In functions declared with the <code class="highlighter-rouge">func</code> keyword,
the <code class="highlighter-rouge">Void</code> return type is omitted entirely.</p>

<p><code class="highlighter-rouge">Void</code> æ˜¯ç©ºå…ƒç»„ <code class="highlighter-rouge">()</code> çš„ <code class="highlighter-rouge">typealias</code>ï¼Œæ‰€ä»¥ä»å®ç°æ¥è¯´å®ƒä»¬æ˜¯ç­‰ä»·çš„ã€‚åœ¨å‡½æ•°ç±»å‹å£°æ˜ï¼ˆä¾‹å¦‚é—­åŒ…æˆ–è€…æŒæœ‰å‡½æ•°å¼•ç”¨å˜é‡ï¼‰çš„è¿”å›ç±»å‹æ°¸è¿œå†™ä½œ <code class="highlighter-rouge">void</code>ï¼Œè€Œä¸ç”¨ <code class="highlighter-rouge">()</code>ã€‚åœ¨ç”¨ <code class="highlighter-rouge">func</code> å…³é”®å­—å£°æ˜çš„å‡½æ•°ä¸­ï¼Œå…¨éƒ½çœç•¥ <code class="highlighter-rouge">void</code> è¿”å›ç±»å‹ã€‚</p>

<p>Empty argument lists are always written as <code class="highlighter-rouge">()</code>, never as <code class="highlighter-rouge">Void</code>. (In fact,
the function signature <code class="highlighter-rouge">Void -&gt; Result</code> is an error in Swift because function
arguments must be surrounded by parentheses, and <code class="highlighter-rouge">(Void)</code> has a different
meaning: an argument list with a single empty-tuple argument.)</p>

<p>ç©ºçš„å®å‚åˆ—è¡¨æ°¸è¿œå†™ä½œ <code class="highlighter-rouge">()</code>ï¼Œè€Œä¸æ˜¯ <code class="highlighter-rouge">Void</code>ã€‚ï¼ˆäº‹å®ä¸Šï¼Œ <code class="highlighter-rouge">Void -&gt; Result</code> çš„å‡½æ•°ç­¾ååœ¨ Swift é‡Œä¼šæŠ¥é”™ï¼Œå› ä¸ºå‡½æ•°å®å‚å¿…é¡»ç”¨æ‹¬å·åŒ…å›´ï¼Œè€Œ <code class="highlighter-rouge">(void)</code> æœ‰ç€å…¶ä»–å«ä¹‰ï¼šå•ä¸ªç©ºå…ƒç»„å®å‚çš„å®å‚åˆ—è¡¨ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">doSomething</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Void</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">doSomething</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">doSomething2</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="p">()</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">callback</span><span class="p">:</span> <span class="p">()</span> <span class="o">-&gt;</span> <span class="p">()</span>
</code></pre></div></div>

<h3 id="å¯é€‰ç±»å‹optional-types">å¯é€‰ç±»å‹/Optional Types</h3>

<p>Sentinel values are avoided when designing algorithms (for example, an â€œindexâ€
of âˆ’1 when an element was not found in a collection). Sentinel values can
easily and accidentally propagate through other layers of logic because the type
system cannot distinguish between them and valid outcomes.</p>

<p>åœ¨è®¾è®¡ç®—æ³•æ—¶é¿å…å“¨å…µå€¼ï¼ˆä¾‹å¦‚ä½¿ç”¨ -1 çš„ â€œç´¢å¼•â€ è¡¨ç¤ºé›†åˆé‡Œæ‰¾ä¸åˆ°æŸä¸ªå…ƒç´ ï¼‰ã€‚å“¨å…µå€¼å®¹æ˜“è¢«å¶ç„¶ä¼ é€’åˆ°å…¶å®ƒé€»è¾‘å±‚ï¼Œå› ä¸ºç±»å‹ç³»ç»Ÿæ²¡åŠæ³•å°†å®ƒä»¬å’Œåˆæ³•ç»“æœè¿›è¡ŒåŒºåˆ†ã€‚</p>

<p><code class="highlighter-rouge">Optional</code> is used to convey a non-error result that is either a value or the
absence of a value. For example, when searching a collection for a value, not
finding the value is still a <strong>valid and expected</strong> outcome, not an error.</p>

<p><code class="highlighter-rouge">Optional</code> ç”¨äºå€¼å’Œç¼ºçœå€¼å…¶ä¸­ä¹‹ä¸€çš„è¡¨è¾¾ï¼Œæ˜¯éé”™è¯¯ç»“æœã€‚ä¾‹å¦‚ï¼šåœ¨é›†åˆä¸­æŸ¥è¯¢ä¸€ä¸ªå€¼æ—¶ï¼Œå€¼æ²¡æœ‰æ‰¾åˆ°æ˜¯ä¸€ä¸ª<strong>åˆæ³•å¹¶å¯é¢„æœŸ</strong>çš„ç»“æœï¼Œè€Œä¸æ˜¯ä¸€ä¸ªé”™è¯¯ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">index</span><span class="p">(</span><span class="n">of</span> <span class="nv">thing</span><span class="p">:</span> <span class="kt">Thing</span><span class="p">,</span> <span class="k">in</span> <span class="nv">things</span><span class="p">:</span> <span class="p">[</span><span class="kt">Thing</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kt">Int</span><span class="p">?</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>

<span class="k">if</span> <span class="k">let</span> <span class="nv">index</span> <span class="o">=</span> <span class="nf">index</span><span class="p">(</span><span class="nv">of</span><span class="p">:</span> <span class="n">thing</span><span class="p">,</span> <span class="nv">in</span><span class="p">:</span> <span class="n">lotsOfThings</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Found it.</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="c1">// Didn't find it.</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">index</span><span class="p">(</span><span class="n">of</span> <span class="nv">thing</span><span class="p">:</span> <span class="kt">Thing</span><span class="p">,</span> <span class="k">in</span> <span class="nv">things</span><span class="p">:</span> <span class="p">[</span><span class="kt">Thing</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">index</span> <span class="o">=</span> <span class="nf">index</span><span class="p">(</span><span class="nv">of</span><span class="p">:</span> <span class="n">thing</span><span class="p">,</span> <span class="nv">in</span><span class="p">:</span> <span class="n">lotsOfThings</span><span class="p">)</span>
<span class="k">if</span> <span class="n">index</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">{</span>
  <span class="c1">// Found it.</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="c1">// Didn't find it.</span>
<span class="p">}</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">Optional</code> is also used for error scenarios when there is a single, obvious
failure state; that is, when an operation may fail for a single domain-specific
reason that is clear to the client. (The domain-specific restriction is meant to
exclude severe errors that are typically out of the userâ€™s control to properly
handle, such as out-of-memory errors.)</p>

<p><code class="highlighter-rouge">Optional</code> ä¹Ÿç”¨äºè¡¨ç¤ºå•ä¸€è€Œæ˜ç¡®å¤±è´¥çš„é”™è¯¯å“¨å…µï¼Œä¹Ÿå°±æ˜¯å½“æ“ä½œæ˜¯å› ä¸ºä½¿ç”¨è€…æ˜ç¡®çš„å•ä¸ªç‰¹å®šé¢†åŸŸåŸå› è€Œå¤±è´¥æ—¶ã€‚ï¼ˆé™åˆ¶åœ¨ç‰¹å®šé¢†åŸŸæ˜¯ä¸ºäº†æ’é™¤é‚£äº›ç”¨æˆ·æ˜æ˜¾æ— æ³•æ­£ç¡®å¤„ç†çš„ä¸¥é‡é”™è¯¯ï¼Œä¾‹å¦‚å†…å­˜ä¸è¶³é”™è¯¯ã€‚ï¼‰</p>

<p>For example, converting a string to an integer would fail if the
string does not represent a valid integer that fits into the typeâ€™s bit width:</p>

<p>ä¾‹å¦‚ï¼Œå¦‚æœå­—ç¬¦ä¸²ä¸èƒ½ç”¨é€‚åˆç±»å‹ä½å®½çš„åˆæ³•æ•´æ•°è¡¨è¾¾ï¼Œå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´å‹å¯èƒ½ä¼šå¤±è´¥ï¼š</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">Int17</span> <span class="p">{</span>
  <span class="nf">init</span><span class="p">?(</span><span class="n">_</span> <span class="nv">string</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Conditional statements that test that an <code class="highlighter-rouge">Optional</code> is non-<code class="highlighter-rouge">nil</code> but do not
access the wrapped value are written as comparisons to <code class="highlighter-rouge">nil</code>. The following
example is clear about the programmerâ€™s intent:</p>

<p>åˆ¤æ–­ä¸€ä¸ª <code class="highlighter-rouge">Optional</code> æ˜¯å¦é <code class="highlighter-rouge">nil</code> ä½†ä¸éœ€è¦è®¿é—®è§£åŒ…å€¼æ—¶ï¼Œæ¡ä»¶è¯­å¥ç”¨å’Œ <code class="highlighter-rouge">nil</code> æ¯”è¾ƒçš„å½¢å¼ã€‚ä¸‹é¢çš„ä¾‹å­èƒ½æ¸…æ™°åœ°è¡¨è¾¾ç¨‹åºæ„å›¾ï¼š</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="n">value</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
  <span class="nf">print</span><span class="p">(</span><span class="s">"value was not nil"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>This example, while taking advantage of Swiftâ€™s pattern matching and binding
syntax, obfuscates the intent by appearing to unwrap the value and then
immediately throw it away.</p>

<p>è¿™ä¸ªä¾‹å­é‡Œï¼Œå¦‚æœåˆ©ç”¨ Swift æ¨¡å¼åŒ¹é…å’Œç»‘å®šè¯­æ³•ï¼Œå°†å€¼è§£åŒ…åé©¬ä¸Šä¸¢å¼ƒï¼Œä¼šæ··æ·†ç¨‹åºæ„å›¾ã€‚</p>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="k">let</span> <span class="nv">_</span> <span class="o">=</span> <span class="n">value</span> <span class="p">{</span>
  <span class="nf">print</span><span class="p">(</span><span class="s">"value was not nil"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="é”™è¯¯ç±»å‹error-types">é”™è¯¯ç±»å‹/Error Types</h3>

<p>Error types are used when there are multiple possible error states.</p>

<p>é”™è¯¯ç±»å‹åœ¨é”™è¯¯æœ‰å¤šç§å¯èƒ½å¾—çŠ¶æ€æ—¶ä½¿ç”¨ã€‚</p>

<p>Throwing errors instead of merging them with the return type cleanly separates
concerns in the API. Valid inputs and valid state produce valid outputs in the
result domain and are handled with standard sequential control flow. Invalid
inputs and invalid state are treated as errors and are handled using the
relevant syntactic constructs (<code class="highlighter-rouge">do</code>-<code class="highlighter-rouge">catch</code> and <code class="highlighter-rouge">try</code>). For example:</p>

<p>å°†é”™è¯¯æŠ›å‡ºè€Œä¸æ˜¯éšç€è¿”å›å€¼è¿”å›å¯ä»¥æ›´æ¸…æ™°åœ°å°†é—®é¢˜ä» API é‡Œåˆ†ç¦»ã€‚åˆæ³•è¾“å…¥å’Œåˆæ³•çŠ¶æ€åœ¨ç»“æœåŸŸé‡Œäº§ç”Ÿåˆæ³•è¾“å‡ºï¼Œå¹¶é€šè¿‡æ ‡å‡†çš„æ§åˆ¶æµè¿›è¡Œå¤„ç†ã€‚éæ³•è¾“å…¥å’Œéæ³•çŠ¶æ€åº”è§†ä½œé”™è¯¯ï¼Œå¹¶ä½¿ç”¨ç›¸å…³è¯­æ³•ç»“æ„è¿›è¡Œå¤„ç†ï¼ˆ<code class="highlighter-rouge">do</code>-<code class="highlighter-rouge">catch</code> å’Œ <code class="highlighter-rouge">try</code>ï¼‰ã€‚ä¾‹å¦‚ï¼š</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">Document</span> <span class="p">{</span>
  <span class="kd">enum</span> <span class="kt">ReadError</span><span class="p">:</span> <span class="kt">Error</span> <span class="p">{</span>
    <span class="k">case</span> <span class="n">notFound</span>
    <span class="k">case</span> <span class="n">permissionDenied</span>
    <span class="k">case</span> <span class="n">malformedHeader</span>
  <span class="p">}</span>

  <span class="nf">init</span><span class="p">(</span><span class="nv">path</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="k">throws</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">do</span> <span class="p">{</span>
  <span class="k">let</span> <span class="nv">document</span> <span class="o">=</span> <span class="k">try</span> <span class="kt">Document</span><span class="p">(</span><span class="nv">path</span><span class="p">:</span> <span class="s">"important.data"</span><span class="p">)</span>
<span class="p">}</span> <span class="k">catch</span> <span class="kt">Document</span><span class="o">.</span><span class="kt">ReadError</span><span class="o">.</span><span class="n">notFound</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span> <span class="k">catch</span> <span class="kt">Document</span><span class="o">.</span><span class="kt">ReadError</span><span class="o">.</span><span class="n">permissionDenied</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Such a design forces the caller to consciously acknowledge the failure case by:</p>

<p>ä¸‹é¢è¿™æ ·çš„è®¾è®¡èƒ½è¿«ä½¿è°ƒç”¨è€…æœ‰æ„è¯†åœ°é¢å¯¹é”™è¯¯ï¼š</p>

<ul>
  <li>wrapping the calling code in a <code class="highlighter-rouge">do</code>-<code class="highlighter-rouge">catch</code> block and handling error cases to
whichever degree is appropriate,</li>
  <li>å°†ä»£ç åŒ…åœ¨ <code class="highlighter-rouge">do</code>-<code class="highlighter-rouge">catch</code> å—é‡Œè°ƒç”¨ï¼Œå¹¶æ ¹æ®é”™è¯¯ä¸¥é‡ç¨‹åº¦è¿›è¡Œå¤„ç†ï¼Œ</li>
  <li>declaring the function in which the call is made as <code class="highlighter-rouge">throws</code> and letting the
error propagate out, or</li>
  <li>å°†å‡½æ•°å£°æ˜ä¸ºåœ¨è°ƒç”¨æ—¶ <code class="highlighter-rouge">throws</code> å¹¶å°†é”™è¯¯ä¼ é€’ç»™ä¸Šå±‚ï¼Œæˆ–è€…</li>
  <li>using <code class="highlighter-rouge">try?</code> when the specific reason for failure is unimportant and only the
information about whether the call failed is needed.</li>
  <li>åœ¨æŸäº›ä¸é‡è¦å¤±è´¥åŸå› å¹¶ä¸”åªéœ€è¦è°ƒç”¨æ˜¯å¦å¤±è´¥çš„ä¿¡æ¯æ—¶ä½¿ç”¨ <code class="highlighter-rouge">try?</code> ã€‚</li>
</ul>

<p>In general, with exceptions noted below, force-<code class="highlighter-rouge">try!</code> is forbidden; it is
equivalent to <code class="highlighter-rouge">try</code> followed by <code class="highlighter-rouge">fatalError</code> but without a meaningful message.
If an error outcome would mean that the program is in such an unrecoverable
state that immediate termination is the only reasonable action, it is better to
use <code class="highlighter-rouge">do</code>-<code class="highlighter-rouge">catch</code> or <code class="highlighter-rouge">try?</code> and provide more context in the error message to
assist debugging if the operation does fail.</p>

<p>é€šå¸¸æ¥è¯´ï¼Œé™¤äº†ä¸‹é¢çš„è¯´æ˜ä»¥å¤–ï¼Œå¼ºåˆ¶-<code class="highlighter-rouge">try!</code> æ˜¯ç¦æ­¢çš„ï¼›å®ƒç­‰åŒäºå¯¹ <code class="highlighter-rouge">fatalError</code> ä½¿ç”¨ <code class="highlighter-rouge">try</code> ä½†å´æ²¡æœ‰æœ‰æ„ä¹‰çš„ä¿¡æ¯ã€‚å¦‚æœæŸä¸ªé”™è¯¯çš„å‘ç”Ÿæ„å‘³ç€ç¨‹åºå¤„åœ¨æ— æ³•æ¢å¤çš„çŠ¶æ€ï¼Œé‚£ä¹ˆç«‹å³ç»ˆæ­¢æ˜¯å”¯ä¸€åˆç†çš„åŠ¨ä½œï¼Œè¿™æ—¶ä½¿ç”¨ <code class="highlighter-rouge">do</code>-<code class="highlighter-rouge">catch</code> æˆ–è€… <code class="highlighter-rouge">try?</code> å¹¶æä¾›é”™è¯¯çš„æ›´å¤šä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œå¯ä»¥æ›´å¥½åœ°å¸®åŠ©è°ƒè¯•ã€‚</p>

<blockquote>
  <p><strong>Exception:</strong> Force-<code class="highlighter-rouge">try!</code> is allowed in unit tests and test-only code. It is
also allowed in non-test code when it is unmistakably clear that an error
would only be thrown because of <strong>programmer</strong> error; we specifically define
this to mean a single expression that could be evaluated without context in
the Swift REPL. For example, consider initializing a regular expression from a
a string literal:</p>

  <p><strong>ä¾‹å¤–ï¼š</strong>å¼ºåˆ¶-<code class="highlighter-rouge">try!</code> åœ¨å•å…ƒæµ‹è¯•å’Œä»…ç”¨äºæµ‹è¯•çš„ä»£ç æ˜¯å…è®¸ä½¿ç”¨çš„ã€‚ä¹Ÿå¯ä»¥åœ¨éæµ‹è¯•ä»£ç é‡Œä½¿ç”¨ï¼Œåœ¨é”™è¯¯æŠ›å‡ºéå¸¸æ˜ç¡®åªå¯èƒ½æ˜¯ç”±<strong>ç¼–ç¨‹äººå‘˜</strong>å¯¼è‡´æ—¶ï¼›æˆ‘ä»¬ç‰¹åˆ«å®šä¹‰è¿™ç§æƒ…å†µï¼Œæ˜¯å› ä¸ºåœ¨ Swift REPL é‡Œæœ‰äº›å•ä¸ªè¡¨è¾¾å¼æ²¡æœ‰ä¸Šä¸‹æ–‡å°±æ— æ³•è¢«æ¨æ–­ã€‚ä¾‹å¦‚ï¼Œè€ƒè™‘é€šè¿‡å­—ç¬¦ä¸²å­—é¢é‡æ¥æ„é€ æ­£åˆ™è¡¨è¾¾å¼çš„æƒ…å†µï¼š</p>

  <div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">regex</span> <span class="o">=</span> <span class="k">try!</span> <span class="kt">NSRegularExpression</span><span class="p">(</span><span class="nv">pattern</span><span class="p">:</span> <span class="s">"a*b+c?"</span><span class="p">)</span>
</code></pre></div>  </div>

  <p>The <code class="highlighter-rouge">NSRegularExpression</code> initializer throws an error if the regular
expression is malformed, but when it is a string literal, the error would only
occur if the programmer mistyped it. There is no benefit to writing extra
error handling logic here.</p>

  <p><code class="highlighter-rouge">NSRegularExpression</code> æ„é€ å™¨ä¼šåœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸åˆæ³•æ—¶æŠ›å‡ºé”™è¯¯ï¼Œä½†å½“å®ƒæ˜¯å­—ç¬¦ä¸²å­—é¢é‡æ—¶ï¼Œé”™è¯¯åªå¯èƒ½ç”±äºç¼–ç¨‹äººå‘˜çš„ç¼–å†™é”™è¯¯å¯¼è‡´ã€‚è¿™æ—¶å€™ç¼–å†™é¢å¤–çš„é”™è¯¯å¤„ç†é€»è¾‘å¹¶æ²¡æœ‰ä»€ä¹ˆç›Šå¤„ã€‚</p>

  <p>If the pattern above were not a literal but instead were dynamic or derived
from user input, <code class="highlighter-rouge">try!</code> should <strong>not</strong> be used and errors should be handled
gracefully.</p>

  <p>å¦‚æœä¸Šé¢ pattern ä¸æ˜¯å­—é¢é‡ï¼Œè€Œæ˜¯åŠ¨æ€ç”Ÿæˆçš„æˆ–è€…æ˜¯ä½¿ç”¨è€…ä¼ å…¥çš„ï¼Œåˆ™<strong>ä¸</strong>åº”è¯¥ä½¿ç”¨ <code class="highlighter-rouge">try!</code> ï¼Œè€Œåº”è¯¥æ›´ä¼˜é›…åœ°å¤„ç†å‡ºç°çš„é”™è¯¯ã€‚</p>
</blockquote>

<h3 id="å¼ºåˆ¶è§£åŒ…å’Œå¼ºåˆ¶æ“¦é™¤force-unwrapping-and-force-casts">å¼ºåˆ¶è§£åŒ…å’Œå¼ºåˆ¶æ“¦é™¤/Force Unwrapping and Force Casts</h3>

<p>Force-unwrapping and force-casting are often code smells and are strongly
discouraged. Unless it is extremely clear from surrounding code why such an
operation is safe, a comment should be present that describes the invariant that
ensures that the operation is safe. For example,</p>

<p>å¼ºåˆ¶è§£åŒ…å’Œå¼ºåˆ¶æ“¦é™¤é€šå¸¸æ„å‘³ç€æœ‰ä»£ç å¼‚å‘³å’Œè¢«å¼ºè¿«è¿›è¡Œå¦¥åã€‚é™¤éå®ƒèƒ½é€šè¿‡å‘¨å›´ä»£ç è§£é‡Šæ¸…æ¥šè¯¥æ“ä½œçš„å®‰å…¨æ€§ï¼Œå¹¶éœ€è¦é™„åŠ æ³¨é‡Šæ¥æè¿°è¿™ä¸ªæ“ä½œæ˜¯æ°¸è¿œå®‰å…¨çš„ã€‚ä¾‹å¦‚ï¼Œ</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">value</span> <span class="o">=</span> <span class="nf">getSomeInteger</span><span class="p">()</span>

<span class="c1">// ...intervening code...</span>

<span class="c1">// This force-unwrap is safe because `value` is guaranteed to fall within the</span>
<span class="c1">// valid enum cases because it came from some data source that only permits</span>
<span class="c1">// those raw values.</span>
<span class="k">return</span> <span class="kt">SomeEnum</span><span class="p">(</span><span class="nv">rawValue</span><span class="p">:</span> <span class="n">value</span><span class="p">)</span><span class="o">!</span>
</code></pre></div></div>

<blockquote>
  <p><strong>Exception:</strong> Force-unwraps are allowed in unit tests and test-only code
without additional documentation. This keeps such code free of unnecessary
control flow. In the event that <code class="highlighter-rouge">nil</code> is unwrapped or a cast operation is to
an incompatible type, the test will fail which is the desired result.</p>

  <p><strong>ä¾‹å¤–ï¼š</strong>åœ¨å•å…ƒæµ‹è¯•å’Œä»…ç”¨äºæµ‹è¯•çš„ä»£ç é‡Œå…è®¸æ²¡æœ‰é™„åŠ æ³¨é‡Šçš„å¼ºåˆ¶è§£åŒ…ã€‚è¿™å¯ä»¥å‡å°‘ä»£ç ä¸å¿…è¦çš„æ§åˆ¶æµã€‚åœ¨ <code class="highlighter-rouge">nil</code> è¢«è§£åŒ…æˆ–è€…ä¸åˆé€‚çš„ç±»å‹æ“¦é™¤å‘ç”Ÿæ—¶ï¼Œæµ‹è¯•ä¹Ÿä¼šæŒ‰ç…§é¢„æœŸè€Œå¤±è´¥ã€‚</p>
</blockquote>

<h3 id="å¯é€‰å€¼éšå¼è§£åŒ…implicitly-unwrapped-optionals">å¯é€‰å€¼éšå¼è§£åŒ…/Implicitly Unwrapped Optionals</h3>

<p>Implicitly unwrapped optionals are inherently unsafe and should be avoided
whenever possible in favor of non-optional declarations or regular <code class="highlighter-rouge">Optional</code>
types. Exceptions are described below.</p>

<p>å¯é€‰å€¼éšå¼è§£åŒ…æœ‰æ½œåœ¨çš„ä¸å®‰å…¨ä¹‹å¤„ï¼Œå½“å¯ä»¥ç”¨éå¯é€‰å€¼å£°æ˜æˆ–è€…ä¹ æƒ¯çš„ <code class="highlighter-rouge">Optional</code> ç±»å‹æ—¶å°±åº”è¯¥é¿å…ã€‚é™¤äº†ä¸‹é¢æè¿°çš„æƒ…å†µå¤–ã€‚</p>

<p>User-interface objects whose lifetimes are based on the UI lifecycle instead of
being strictly based on the lifetime of the owning object are allowed to use
implicitly unwrapped optionals. Examples of these include <code class="highlighter-rouge">@IBOutlet</code>
properties connected to objects in a XIB file or storyboard, properties that are
initialized externally like in the <code class="highlighter-rouge">prepareForSegue</code> implementation of a calling
view controller, and properties that are initialized elsewhere during a classâ€™s
life cycle, like views in a view controllerâ€™s <code class="highlighter-rouge">viewDidLoad</code> method. Making such
properties regular optionals can put too much burden on the user to unwrap them
because they are guaranteed to be non-nil and remain that way once the objects
are ready for use.</p>

<p>å­˜æ´»æ—¶é—´åŸºäº UI ç”Ÿå‘½å‘¨æœŸè€Œä¸æ˜¯ä¸¥æ ¼åŸºäºæŒæœ‰å…³ç³»çš„ç”¨æˆ·ç•Œé¢å…ƒç´ å¯ä»¥ä½¿ç”¨å¯é€‰å€¼æ˜¾å¼è§£åŒ…ã€‚è¿™ç§æƒ…å†µçš„ä¾‹å­åŒ…æ‹¬è¿æ¥ XIB æ–‡ä»¶æˆ– storyboard ä¸­å…ƒç´ çš„ <code class="highlighter-rouge">@IBOutlet</code> å±æ€§ï¼Œæ˜¾å¼åˆå§‹åŒ–çš„å±æ€§ï¼Œä¾‹å¦‚åœ¨ <code class="highlighter-rouge">prepareForSegue</code> å®ç°é‡Œè°ƒç”¨çš„ view controllerï¼Œè¿˜æœ‰åœ¨ç±»ç”Ÿå‘½å‘¨æœŸä»¥å¤–æ—¶é—´ç‚¹ä¼šè¢«åˆå§‹åŒ–çš„å±æ€§ï¼Œä¾‹å¦‚åœ¨ view controller <code class="highlighter-rouge">viewDidLoad</code> æ–¹æ³•é‡Œçš„è§†å›¾ã€‚è¿™äº›å±æ€§å¦‚æœç”¨ä¹ æƒ¯çš„å¯é€‰å€¼ä¼šåŠ é‡ä½¿ç”¨è€…è§£åŒ…çš„è´Ÿæ‹…ï¼Œå› ä¸ºå®ƒä»¬èƒ½ç¡®ä¿éç©ºå¹¶ä¸”ä¸€æ—¦å·²ç»å‡†å¤‡å¥½è¢«ä½¿ç”¨å°±ä¼šä¸€ç›´ä¿æŒåœ¨è¿™ç§çŠ¶æ€ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">SomeViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>
  <span class="kd">@IBOutlet</span> <span class="k">var</span> <span class="nv">button</span><span class="p">:</span> <span class="kt">UIButton</span><span class="o">!</span>

  <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
    <span class="nf">populateLabel</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="n">button</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="kd">private</span> <span class="kd">func</span> <span class="nf">populateLabel</span><span class="p">(</span><span class="k">for</span> <span class="nv">button</span><span class="p">:</span> <span class="kt">UIButton</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Implicitly unwrapped optionals can also surface in Swift code when using
Objective-C APIs that lack the appropriate nullability attributes. If possible,
coordinate with the owners of that code to add those annotations so that the
APIs are imported cleanly into Swift. If this is not possible, try to keep the
footprint of those implicitly unwrapped optionals as small as possible in your
Swift code; that is, do not propagate them through multiple layers of your own
abstractions.</p>

<p>å¯é€‰å€¼éšå¼è§£åŒ…ä¹Ÿä¼šåœ¨ Swift ä»£ç ä½¿ç”¨ç¼ºå°‘æ°å½“åˆ¤ç©ºç‰¹æ€§çš„ Objective-C API æ—¶å‡ºç°ã€‚å¦‚æœå¯èƒ½ï¼Œå’Œè¯¥ä»£ç çš„æ‹¥æœ‰è€…å•†é‡æ·»åŠ ä¸Šé‚£äº›æ³¨è§£ï¼Œè¯¥ API åœ¨ Swift å°±å¯ä»¥æ›´æ¸…æ™°çš„å¼•å…¥ã€‚å¦‚æœæ²¡æœ‰å¯èƒ½ï¼Œå°½å¯èƒ½å°è¯•å°†è¿™äº›å¯é€‰å€¼éšå¼è§£åŒ…åœ¨ Swift ä»£ç ä¸­çš„å½±å“ç¼©å° ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸è¦å°†å®ƒä»¬æ‰©æ•£åˆ°å¤šä¸ªä½ è‡ªå·±çš„æŠ½è±¡å±‚ã€‚</p>

<p>Implicitly unwrapped optionals are also allowed in unit tests. This is for
reasons similar to the UI object scenario aboveâ€”the lifetime of test
fixtures often begins not in the testâ€™s initializer but in the <code class="highlighter-rouge">setUp()</code> method
of a test so that they can be reset before the execution of each test.</p>

<p>å¯é€‰å€¼éšå¼è§£åŒ…åœ¨å•å…ƒæµ‹è¯•ä¹Ÿè¢«å…è®¸ã€‚è¿™å’Œä¸Šé¢çš„ UI å…ƒç´ æƒ…å†µç†ç”±å·®ä¸å¤šâ€”â€”æµ‹è¯•é‡Œå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸé€šå¸¸ä¸ä»æµ‹è¯•æ„é€ å™¨å¼€å§‹ï¼Œè€Œæ˜¯ä»æµ‹è¯•çš„ <code class="highlighter-rouge">setUp()</code> æ–¹æ³•å¼€å§‹ï¼Œä»¥ä¾¿åœ¨æ¯æ¬¡æµ‹è¯•æ‰§è¡Œå‰é‡ç½®ã€‚</p>

<h3 id="è®¿é—®ç­‰çº§access-levels">è®¿é—®ç­‰çº§/Access Levels</h3>

<p>Omitting an explicit access level is permitted on declarations. For top-level
declarations, the default access level is <code class="highlighter-rouge">internal</code>. For nested declarations,
the default access level is the lesser of <code class="highlighter-rouge">internal</code> and the access level of the
enclosing declaration.</p>

<p>åœ¨å£°æ˜é‡Œçœç•¥æ˜¾å¼çš„è®¿é—®ç­‰çº§æ˜¯å…è®¸çš„ã€‚é¡¶å±‚å£°æ˜çš„é»˜è®¤è®¿é—®ç­‰çº§æ˜¯ <code class="highlighter-rouge">internal</code>ã€‚åµŒå¥—çš„å£°æ˜é»˜è®¤è®¿é—®ç­‰çº§å’Œå…¶å¤–å±‚å£°æ˜è®¿é—®ç­‰çº§ç›¸åŒä½†ä¸èƒ½é«˜äº <code class="highlighter-rouge">internal</code> ã€‚</p>

<p>Specifying an explicit access level at the file level on an extension is
forbidden. Each member of the extension has its access level specified if it is
different than the default.</p>

<p>ç»™æ–‡ä»¶çº§åˆ«çš„æ‰©å±•æŒ‡å®šæ˜¾å¼è®¿é—®ç­‰çº§æ˜¯ä¸å…è®¸çš„ã€‚æ‹“å±•é‡Œçš„æ¯ä¸€ä¸ªæˆå‘˜å¦‚æœä¸é‡‡ç”¨é»˜è®¤çš„è®¿é—®ç­‰çº§åˆ™åº”è¯¥å•ç‹¬è¿›è¡ŒæŒ‡å®šã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">extension</span> <span class="kt">String</span> <span class="p">{</span>
  <span class="kd">public</span> <span class="k">var</span> <span class="nv">isUppercase</span><span class="p">:</span> <span class="kt">Bool</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>

  <span class="kd">public</span> <span class="k">var</span> <span class="nv">isLowercase</span><span class="p">:</span> <span class="kt">Bool</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">extension</span> <span class="kt">String</span> <span class="p">{</span>
  <span class="k">var</span> <span class="nv">isUppercase</span><span class="p">:</span> <span class="kt">Bool</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>

  <span class="k">var</span> <span class="nv">isLowercase</span><span class="p">:</span> <span class="kt">Bool</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="åµŒå¥—å’Œå‘½åç©ºé—´nesting-and-namespacing">åµŒå¥—å’Œå‘½åç©ºé—´/Nesting and Namespacing</h3>

<p>Swift allows <code class="highlighter-rouge">enum</code>s, <code class="highlighter-rouge">struct</code>s, and <code class="highlighter-rouge">class</code>es to be nested, so nesting is
preferred (instead of naming conventions) to express scoped and hierarchical
relationships among types when possible. For example, flag <code class="highlighter-rouge">enum</code>s or error
types that are associated with a specific type are nested in that type.</p>

<p>Swift é‡Œå…è®¸åµŒå¥— <code class="highlighter-rouge">enum</code>ï¼Œ<code class="highlighter-rouge">struct</code> å’Œ <code class="highlighter-rouge">class</code>ï¼Œæ‰€ä»¥åœ¨å¯èƒ½æ—¶ï¼ŒåµŒå¥—æ›´é€‚åˆï¼ˆæ¯”èµ·å‘½åçº¦å®šï¼‰è¡¨ç¤ºä½œç”¨åŸŸå’Œç±»å‹ä¹‹é—´çš„åˆ†çº§å…³ç³»ã€‚ä¾‹å¦‚ï¼Œåœ¨ç±»å‹é‡ŒåµŒå¥—ç‰¹å®šç±»å‹çš„ <code class="highlighter-rouge">enum</code> ä½œæ ‡å¿—æˆ–è€…é”™è¯¯ç±»å‹ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">Parser</span> <span class="p">{</span>
  <span class="kd">enum</span> <span class="kt">Error</span><span class="p">:</span> <span class="kt">Swift</span><span class="o">.</span><span class="kt">Error</span> <span class="p">{</span>
    <span class="k">case</span> <span class="nf">invalidToken</span><span class="p">(</span><span class="kt">String</span><span class="p">)</span>
    <span class="k">case</span> <span class="n">unexpectedEOF</span>
  <span class="p">}</span>

  <span class="kd">func</span> <span class="nf">parse</span><span class="p">(</span><span class="nv">text</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="k">throws</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">Parser</span> <span class="p">{</span>
  <span class="kd">func</span> <span class="nf">parse</span><span class="p">(</span><span class="nv">text</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="k">throws</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">enum</span> <span class="kt">ParseError</span><span class="p">:</span> <span class="kt">Error</span> <span class="p">{</span>
  <span class="k">case</span> <span class="nf">invalidToken</span><span class="p">(</span><span class="kt">String</span><span class="p">)</span>
  <span class="k">case</span> <span class="n">unexpectedEOF</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Swift does not currently allow protocols to be nested in other types or vice
versa, so this rule does not apply to situations such as the relationship
between a controller class and its delegate protocol.</p>

<p>Swift ç›®å‰è¿˜ä¸æ”¯æŒåµŒå¥—åè®®åœ¨å…¶å®ƒç±»å‹ä¸­ï¼Œåä¹‹äº¦ç„¶ï¼Œæ‰€ä»¥è¯¥è§„åˆ™ä¸é€‚ç”¨äºè§£å†³ä¾‹å¦‚æ§åˆ¶å™¨ç±»å‹å’Œå®ƒä»£ç†åè®®ä¹‹é—´çš„å…³ç³»ã€‚</p>

<p>Declaring an <code class="highlighter-rouge">enum</code> without cases is the canonical way to define a â€œnamespaceâ€
to group a set of related declarations, such as constants or helper functions.
This <code class="highlighter-rouge">enum</code> automatically has no instances and does not require that extra
boilerplate code be written to prevent instantiation.</p>

<p>å£°æ˜ä¸€ä¸ªæ²¡æœ‰ case çš„ <code class="highlighter-rouge">enum</code> æ˜¯å®šä¹‰ç”¨äºç›¸å…³å£°æ˜åˆ†ç»„çš„â€œå‘½åç©ºé—´â€çš„å…¬è®¤æ–¹æ¡ˆï¼Œä¾‹å¦‚å¸¸é‡æˆ–è€…å¸®åŠ©æ–¹æ³•ã€‚è¯¥ <code class="highlighter-rouge">enum</code> ä¼šè‡ªç„¶è€Œç„¶ä¸å­˜åœ¨å®ä¾‹å¹¶ä¸”ä¸éœ€è¦é¢å¤–æ ·æ¿ä»£ç æ¥é¿å…å¯è¢«å®ä¾‹åŒ–ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">enum</span> <span class="kt">Dimensions</span> <span class="p">{</span>
  <span class="kd">static</span> <span class="k">let</span> <span class="nv">tileMargin</span><span class="p">:</span> <span class="kt">CGFloat</span> <span class="o">=</span> <span class="mi">8</span>
  <span class="kd">static</span> <span class="k">let</span> <span class="nv">tilePadding</span><span class="p">:</span> <span class="kt">CGFloat</span> <span class="o">=</span> <span class="mi">4</span>
  <span class="kd">static</span> <span class="k">let</span> <span class="nv">tileContentSize</span><span class="p">:</span> <span class="kt">CGSize</span><span class="p">(</span><span class="nv">width</span><span class="p">:</span> <span class="mi">80</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mi">64</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">Dimensions</span> <span class="p">{</span>
  <span class="kd">private</span> <span class="nf">init</span><span class="p">()</span> <span class="p">{}</span>

  <span class="kd">static</span> <span class="k">let</span> <span class="nv">tileMargin</span><span class="p">:</span> <span class="kt">CGFloat</span> <span class="o">=</span> <span class="mi">8</span>
  <span class="kd">static</span> <span class="k">let</span> <span class="nv">tilePadding</span><span class="p">:</span> <span class="kt">CGFloat</span> <span class="o">=</span> <span class="mi">4</span>
  <span class="kd">static</span> <span class="k">let</span> <span class="nv">tileContentSize</span><span class="p">:</span> <span class="kt">CGSize</span><span class="p">(</span><span class="nv">width</span><span class="p">:</span> <span class="mi">80</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mi">64</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="æå‰é€€å‡ºçš„-guardguards-for-early-exits">æå‰é€€å‡ºçš„ <code class="highlighter-rouge">guard</code>/<code class="highlighter-rouge">guard</code>s for Early Exits</h3>

<p>A <code class="highlighter-rouge">guard</code> statement, compared to an <code class="highlighter-rouge">if</code> statement with an inverted condition,
provides visual emphasis that the condition being tested is a special case that
causes early exit from the enclosing scope.</p>

<p><code class="highlighter-rouge">guard</code> è¯­å¥ï¼Œæ¯”èµ·æ¡ä»¶ç›¸åçš„ <code class="highlighter-rouge">if</code> è¯­å¥ï¼Œä¼šæ›´å¥½åœ°ä»è§†è§‰ä¸Šå¼ºè°ƒè¯¥æ£€æŸ¥æ¡ä»¶æ˜¯å¯¼è‡´ä»å¤–å±‚ä½œç”¨åŸŸæå‰é€€å‡ºçš„ç‰¹ä¾‹ã€‚</p>

<p>Furthermore, <code class="highlighter-rouge">guard</code> statements improve readability by eliminating extra levels
of nesting (the â€œpyramid of doomâ€); failure conditions are closely coupled to
the conditions that trigger them and the main logic remains flush left within
its scope.</p>

<p>æ›´è¿œäº†è¯´ï¼Œ<code class="highlighter-rouge">guard</code> è¯­å¥é€šè¿‡å‡å°‘é¢å¤–åµŒå¥—å±‚çº§ï¼ˆâ€œé­å°¸é‡‘å­—å¡”â€ï¼‰æ¥æé«˜å¯è¯»æ€§ï¼›ä»¤é”™è¯¯æƒ…å†µå’Œè§¦å‘æ¡ä»¶é è¿‘ï¼Œè€Œä¸»é€»è¾‘åœ¨ä½œç”¨åŸŸé‡Œä¿æŒå‘å·¦å¯¹é½ã€‚</p>

<p>This can be seen in the following examples; in the first, there is a clear
progression that checks for invalid states and exits, then executes the main
logic in the successful case. In the second example without <code class="highlighter-rouge">guard</code>, the main
logic is buried at an arbitrary nesting level and the thrown errors are
separated from their conditions by a great distance.</p>

<p>ä¸‹é¢çš„ä¾‹å­ä¸­ä¼šä½“ç°è¿™äº›ç†è®ºï¼›ç¬¬ä¸€ç§ä¾‹å­é‡Œï¼Œæœ‰æ¸…æ™°çš„æµç¨‹ï¼Œæ£€æŸ¥ä¸åˆæ³•çš„çŠ¶æ€å¹¶é€€å‡ºï¼Œç„¶ååœ¨æˆåŠŸçš„æƒ…å†µä¸‹æ‰§è¡Œä¸»é€»è¾‘ã€‚åœ¨æ²¡æœ‰ <code class="highlighter-rouge">guard</code> çš„ç¬¬äºŒä¸ªä¾‹å­é‡Œï¼Œä¸»é€»è¾‘æ··æ‚åœ¨æŸä¸ªä»»æ„åµŒå¥—å±‚çº§é‡Œï¼ŒæŠ›å‡ºçš„é”™è¯¯å’Œå®ƒä»¬çš„è§¦å‘æ¡ä»¶è¢«åˆ†éš”å¾—å¾ˆå¼€ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">discombobulate</span><span class="p">(</span><span class="n">_</span> <span class="nv">values</span><span class="p">:</span> <span class="p">[</span><span class="kt">Int</span><span class="p">])</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
  <span class="k">guard</span> <span class="k">let</span> <span class="nv">first</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">first</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="kt">DiscombobulationError</span><span class="o">.</span><span class="n">arrayWasEmpty</span>
  <span class="p">}</span>
  <span class="k">guard</span> <span class="n">first</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="kt">DiscombobulationError</span><span class="o">.</span><span class="n">negativeEnergy</span>
  <span class="p">}</span>

  <span class="k">var</span> <span class="nv">result</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="k">for</span> <span class="n">value</span> <span class="k">in</span> <span class="n">values</span> <span class="p">{</span>
    <span class="n">result</span> <span class="o">+=</span> <span class="nf">invertedCombobulatoryFactory</span><span class="p">(</span><span class="nv">of</span><span class="p">:</span> <span class="n">value</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">result</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">func</span> <span class="nf">discombobulate</span><span class="p">(</span><span class="n">_</span> <span class="nv">values</span><span class="p">:</span> <span class="p">[</span><span class="kt">Int</span><span class="p">])</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
  <span class="k">if</span> <span class="k">let</span> <span class="nv">first</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">first</span> <span class="p">{</span>
    <span class="k">if</span> <span class="n">first</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="p">{</span>
      <span class="k">var</span> <span class="nv">result</span> <span class="o">=</span> <span class="mi">0</span>
      <span class="k">for</span> <span class="n">value</span> <span class="k">in</span> <span class="n">values</span> <span class="p">{</span>
        <span class="n">result</span> <span class="o">+=</span> <span class="nf">invertedCombobulatoryFactor</span><span class="p">(</span><span class="nv">of</span><span class="p">:</span> <span class="n">value</span><span class="p">)</span>
      <span class="p">}</span>
      <span class="k">return</span> <span class="n">result</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="kt">DiscombobulationError</span><span class="o">.</span><span class="n">negativeEnergy</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="kt">DiscombobulationError</span><span class="o">.</span><span class="n">arrayWasEmpty</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>A <code class="highlighter-rouge">guard</code>-<code class="highlighter-rouge">continue</code> statement can also be useful in a loop to avoid increased
indentation when the entire body of the loop should only be executed in some
cases (but see also the <code class="highlighter-rouge">for</code>-<code class="highlighter-rouge">where</code> discussion below.)</p>

<p><code class="highlighter-rouge">guard</code>-<code class="highlighter-rouge">continue</code> è¯­å¥ä¹Ÿå¯ä»¥é¿å…å¾ªç¯çš„æ•´ä¸ªå¾ªç¯ä½“åªåœ¨æŸäº›æƒ…å†µä¸‹æ‰§è¡Œæ—¶ç¼©è¿›å¢åŠ ï¼ˆä½†ä¹Ÿå¯ä»¥çœ‹çœ‹ä¸‹é¢ <code class="highlighter-rouge">for</code>-<code class="highlighter-rouge">where</code> çš„è®¨è®ºï¼‰ã€‚</p>

<h3 id="for-where-å¾ªç¯for-where-loops"><code class="highlighter-rouge">for</code>-<code class="highlighter-rouge">where</code> å¾ªç¯/<code class="highlighter-rouge">for</code>-<code class="highlighter-rouge">where</code> Loops</h3>

<p>When the entirety of a <code class="highlighter-rouge">for</code> loopâ€™s body would be a single <code class="highlighter-rouge">if</code> block testing a
condition of the element, the test is placed in the <code class="highlighter-rouge">where</code> clause of the <code class="highlighter-rouge">for</code>
statement instead.</p>

<p>å½“æ•´ä¸ª <code class="highlighter-rouge">for</code> å¾ªç¯ä½“åªåŒ…å«äº†å¯¹å…ƒç´ çš„æ¡ä»¶æ£€æŸ¥ <code class="highlighter-rouge">if</code> å—æ—¶ï¼Œå¯ä»¥å°†è¯¥æ£€æŸ¥å¯ä»¥æ”¾åœ¨ <code class="highlighter-rouge">for</code> è¯­å¥é‡Œ <code class="highlighter-rouge">where</code> åˆ†å¥ä¸­ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">item</span> <span class="k">in</span> <span class="n">collection</span> <span class="k">where</span> <span class="n">item</span><span class="o">.</span><span class="n">hasProperty</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">item</span> <span class="k">in</span> <span class="n">collection</span> <span class="p">{</span>
  <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">hasProperty</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="åœ¨-switch-è¯­å¥é‡Œçš„-fallthrough-fallthrough-in-switch-statements">åœ¨ <code class="highlighter-rouge">switch</code> è¯­å¥é‡Œçš„ <code class="highlighter-rouge">fallthrough</code>/ <code class="highlighter-rouge">fallthrough</code> in <code class="highlighter-rouge">switch</code> Statements</h3>

<p>When multiple <code class="highlighter-rouge">case</code>s of a <code class="highlighter-rouge">switch</code> would execute the same statements, the
<code class="highlighter-rouge">case</code> patterns are combined into ranges or comma-delimited lists. Multiple
<code class="highlighter-rouge">case</code> statements that do nothing but <code class="highlighter-rouge">fallthrough</code> to a <code class="highlighter-rouge">case</code> below are not
allowed.</p>

<p>å½“ <code class="highlighter-rouge">switch</code> é‡Œçš„å¤šä¸ª <code class="highlighter-rouge">case	</code> æ‰§è¡ŒåŒæ ·çš„è¯­å¥æ—¶ï¼Œè¿™äº› <code class="highlighter-rouge">case</code> å¯ä»¥åˆå¹¶æˆä¸€ä¸ªèŒƒå›´æˆ–è€…é€—å·åˆ†éš”çš„åˆ—è¡¨ã€‚å£°æ˜å¤šä¸ª <code class="highlighter-rouge">case</code> å´ä¸åšä»»ä½•äº‹åª <code class="highlighter-rouge">fallthrough</code> åˆ°ä¸‹é¢ <code class="highlighter-rouge">case</code> æ˜¯ä¸å…è®¸çš„ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">switch</span> <span class="n">value</span> <span class="p">{</span>
<span class="k">case</span> <span class="mi">1</span><span class="p">:</span> <span class="nf">print</span><span class="p">(</span><span class="s">"one"</span><span class="p">)</span>
<span class="k">case</span> <span class="mi">2</span><span class="o">...</span><span class="mi">4</span><span class="p">:</span> <span class="nf">print</span><span class="p">(</span><span class="s">"two to four"</span><span class="p">)</span>
<span class="k">case</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">:</span> <span class="nf">print</span><span class="p">(</span><span class="s">"five or seven"</span><span class="p">)</span>
<span class="k">default</span><span class="p">:</span> <span class="k">break</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">switch</span> <span class="n">value</span> <span class="p">{</span>
<span class="k">case</span> <span class="mi">1</span><span class="p">:</span> <span class="nf">print</span><span class="p">(</span><span class="s">"one"</span><span class="p">)</span>
<span class="k">case</span> <span class="mi">2</span><span class="p">:</span> <span class="k">fallthrough</span>
<span class="k">case</span> <span class="mi">3</span><span class="p">:</span> <span class="k">fallthrough</span>
<span class="k">case</span> <span class="mi">4</span><span class="p">:</span> <span class="nf">print</span><span class="p">(</span><span class="s">"two to four"</span><span class="p">)</span>
<span class="k">case</span> <span class="mi">5</span><span class="p">:</span> <span class="k">fallthrough</span>
<span class="k">case</span> <span class="mi">7</span><span class="p">:</span> <span class="nf">print</span><span class="p">(</span><span class="s">"five or seven"</span><span class="p">)</span>
<span class="k">default</span><span class="p">:</span> <span class="k">break</span>
<span class="p">}</span>
</code></pre></div></div>

<p>In other words, there is never a <code class="highlighter-rouge">case</code> whose body contains <em>only</em> the
<code class="highlighter-rouge">fallthrough</code> statement. Cases containing <em>additional</em> statements which then
fallthrough to the next case are permitted.</p>

<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸èƒ½æœ‰_åª_æ‰§è¡Œ <code class="highlighter-rouge">fallthrough</code> è¯­å¥çš„ <code class="highlighter-rouge">case</code> ã€‚åŒ…å«_å…¶ä½™_è¯­å¥å†è´¯ç©¿åˆ°ä¸‹ä¸€ä¸ªçš„ case æ˜¯å…è®¸çš„ã€‚</p>

<h3 id="æ¨¡å¼åŒ¹é…pattern-matching">æ¨¡å¼åŒ¹é…/Pattern Matching</h3>

<p>The <code class="highlighter-rouge">let</code> and <code class="highlighter-rouge">var</code> keywords are placed individually in front of <em>each</em> element
in a pattern that is being matched. The shorthand version of <code class="highlighter-rouge">let</code>/<code class="highlighter-rouge">var</code> that
precedes and distributes across the entire pattern is forbidden because it can
introduce unexpected behavior if a value being matched in a pattern is itself a
variable.</p>

<p>_æ¯ä¸ª_æ¨¡å¼åŒ¹é…å…ƒç´ å‰é¢éƒ½æœ‰å•ç‹¬çš„ <code class="highlighter-rouge">let</code> å’Œ <code class="highlighter-rouge">var</code> å…³é”®å­—ã€‚é€‚ç”¨äºæ•´ä¸ªåŒ¹é…æ¨¡å¼çš„å‰ç½®ç®€å†™ <code class="highlighter-rouge">let</code>/<code class="highlighter-rouge">var</code> æ˜¯ç¦æ­¢çš„ï¼Œå› ä¸ºå½“åŒ¹é…æ¨¡å¼çš„å€¼æœ¬èº«æ˜¯ä¸ªå˜é‡æ—¶ï¼Œä¼šå¼•å…¥éé¢„æœŸè¡Œä¸ºã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">enum</span> <span class="kt">DataPoint</span> <span class="p">{</span>
  <span class="k">case</span> <span class="nf">unlabeled</span><span class="p">(</span><span class="kt">Int</span><span class="p">)</span>
  <span class="k">case</span> <span class="nf">labeled</span><span class="p">(</span><span class="kt">String</span><span class="p">,</span> <span class="kt">Int</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">label</span> <span class="o">=</span> <span class="s">"goodbye"</span>

<span class="c1">// `label` is treated as a value here because it is not preceded by `let`, so</span>
<span class="c1">// the pattern below matches only data points that have the label "goodbye".</span>
<span class="k">switch</span> <span class="kt">DataPoint</span><span class="o">.</span><span class="nf">labeled</span><span class="p">(</span><span class="s">"hello"</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span> <span class="p">{</span>
<span class="k">case</span> <span class="o">.</span><span class="nf">labeled</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="k">let</span> <span class="nv">value</span><span class="p">):</span>
  <span class="c1">// ...</span>
<span class="p">}</span>

<span class="c1">// Writing `let` before each individual binding clarifies that the intent is to</span>
<span class="c1">// introduce a new binding (shadowing the local variable within the case) rather</span>
<span class="c1">// than to match against the value of the local variable. Thus, this pattern</span>
<span class="c1">// matches data points with any string label.</span>
<span class="k">switch</span> <span class="kt">DataPoint</span><span class="o">.</span><span class="nf">labeled</span><span class="p">(</span><span class="s">"hello"</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span> <span class="p">{</span>
<span class="k">case</span> <span class="o">.</span><span class="nf">labeled</span><span class="p">(</span><span class="k">let</span> <span class="nv">label</span><span class="p">,</span> <span class="k">let</span> <span class="nv">value</span><span class="p">):</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div></div>

<p>In the example below, if the authorâ€™s intention was to match using the value of
the <code class="highlighter-rouge">label</code> variable above, that has been lost because <code class="highlighter-rouge">let</code> distributes across
the entire pattern and thus shadows the variable with a binding that applies to
any string value:</p>

<p>åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œå¦‚æœä½œè€…æ„å›¾æ˜¯ä½¿ç”¨ä¸Šé¢çš„ <code class="highlighter-rouge">label</code> å˜é‡è¿›è¡ŒåŒ¹é…ï¼Œé‚£ä¹ˆå°±ä¼šå› ä¸º <code class="highlighter-rouge">let</code> é€‚ç”¨äºæ•´ä¸ªæ¨¡å¼åŒ¹é…ï¼Œä»è€Œè¯¥å€¼ä¼šè¢«ä»»ä½•ç»‘å®šçš„å­—ç¬¦ä¸²æ‰€è¦†ç›–ã€‚</p>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">switch</span> <span class="kt">DataPoint</span><span class="o">.</span><span class="nf">labeled</span><span class="p">(</span><span class="s">"hello"</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span> <span class="p">{</span>
<span class="k">case</span> <span class="kd">let</span> <span class="o">.</span><span class="nf">labeled</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Labels of tuple arguments and <code class="highlighter-rouge">enum</code> associated values are omitted when binding
a value to a variable with the same name as the label.</p>

<p>å…ƒç»„çš„å®å‚æ ‡ç­¾å’Œ <code class="highlighter-rouge">enum</code> çš„å…³è”å€¼åœ¨ç”¨ç›¸åŒæ ‡ç­¾åå­—çš„å˜é‡æ¥ç»‘å®šå€¼æ—¶å¯ä»¥è¢«çœç•¥ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">enum</span> <span class="kt">BinaryTree</span><span class="o">&lt;</span><span class="kt">Element</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="kd">indirect</span> <span class="k">case</span> <span class="nf">subtree</span><span class="p">(</span><span class="nv">left</span><span class="p">:</span> <span class="kt">BinaryTree</span><span class="o">&lt;</span><span class="kt">Element</span><span class="o">&gt;</span><span class="p">,</span> <span class="nv">right</span><span class="p">:</span> <span class="kt">BinaryTree</span><span class="o">&lt;</span><span class="kt">Element</span><span class="o">&gt;</span><span class="p">)</span>
  <span class="k">case</span> <span class="nf">leaf</span><span class="p">(</span><span class="nv">element</span><span class="p">:</span> <span class="kt">Element</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">switch</span> <span class="n">treeNode</span> <span class="p">{</span>
<span class="k">case</span> <span class="o">.</span><span class="nf">subtree</span><span class="p">(</span><span class="k">let</span> <span class="nv">left</span><span class="p">,</span> <span class="k">let</span> <span class="nv">right</span><span class="p">):</span>
  <span class="c1">// ...</span>
<span class="k">case</span> <span class="o">.</span><span class="nf">leaf</span><span class="p">(</span><span class="k">let</span> <span class="nv">element</span><span class="p">):</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Including the labels adds noise that is redundant and lacking useful
information:</p>

<p>åŒ…å«å¤šä½™å¹¶ç¼ºä¹æœ‰ç”¨ä¿¡æ¯çš„æ ‡ç­¾åªä¼šé€ æˆæ··æ·†ï¼š</p>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">switch</span> <span class="n">treeNode</span> <span class="p">{</span>
<span class="k">case</span> <span class="o">.</span><span class="nf">subtree</span><span class="p">(</span><span class="nv">left</span><span class="p">:</span> <span class="k">let</span> <span class="nv">left</span><span class="p">,</span> <span class="nv">right</span><span class="p">:</span> <span class="k">let</span> <span class="nv">right</span><span class="p">):</span>
  <span class="c1">// ...</span>
<span class="k">case</span> <span class="o">.</span><span class="nf">leaf</span><span class="p">(</span><span class="nv">element</span><span class="p">:</span> <span class="k">let</span> <span class="nv">element</span><span class="p">):</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="å…ƒç»„æ¨¡å¼tuple-patterns">å…ƒç»„æ¨¡å¼/Tuple Patterns</h3>

<p>Assigning variables through a tuple pattern (sometimes referred to as a <em>tuple
shuffle</em>) is only permitted if the left-hand side of the assignment is
unlabeled.</p>

<p>åªæœ‰èµ‹å€¼è¡¨è¾¾å¼å·¦ä¾§æ²¡æœ‰æ ‡ç­¾çš„å…ƒç»„æ¨¡å¼ï¼ˆæœ‰æ—¶å€™ç”¨_ä¹±åºå…ƒç»„_ï¼‰å˜é‡èµ‹å€¼æ‰è¢«å…è®¸ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">let</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="nv">y</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="nv">x</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">let</span> <span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="n">a</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="n">b</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="nv">y</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="nv">x</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">)</span>
</code></pre></div></div>

<p>Labels on the left-hand side closely resemble type annotations, and can lead to
confusing code.</p>

<p>å·¦ä¾§çš„æ ‡ç­¾ä¸ç±»å‹æ³¨è§£å¾ˆç±»ä¼¼ï¼Œä¼šå¯¼è‡´ä»£ç éš¾ä»¥ç†è§£ã€‚</p>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// This declares two variables, `Int`, which is a `Double` with value 5.0, and</span>
<span class="c1">// `Double`, which is an `Int` with value 4.</span>
<span class="c1">// `x` and `y` are not variables.</span>
<span class="nf">let</span> <span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="kt">Double</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="nv">y</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="nv">x</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="æ•°å­—å’Œå­—ç¬¦ä¸²å­—é¢é‡numeric-and-string-literals">æ•°å­—å’Œå­—ç¬¦ä¸²å­—é¢é‡/Numeric and String Literals</h3>

<p>Integer and string literals in Swift do not have an intrinsic type. For example,
<code class="highlighter-rouge">5</code> by itself is not an <code class="highlighter-rouge">Int</code>; it is a special literal value that can express
any type that conforms to <code class="highlighter-rouge">ExpressibleByIntegerLiteral</code> and only becomes an
<code class="highlighter-rouge">Int</code> if type inference does not map it to a more specific type. Likewise, the
literal <code class="highlighter-rouge">"x"</code> is neither <code class="highlighter-rouge">String</code> nor <code class="highlighter-rouge">Character</code> nor <code class="highlighter-rouge">UnicodeScalar</code>, but it
can become any of those types depending on its context, falling back to <code class="highlighter-rouge">String</code>
as a default.</p>

<p>Swift é‡Œçš„æ•´å‹å’Œå­—ç¬¦ä¸²å­—é¢é‡æ²¡æœ‰å›ºå®šç±»å‹ã€‚ä¾‹å¦‚ï¼Œ<code class="highlighter-rouge">5</code> æœ¬èº«ä¸æ˜¯ä¸€ä¸ª <code class="highlighter-rouge">Int</code>ï¼›å®ƒæ˜¯èƒ½è¢« <code class="highlighter-rouge">ExpressibleByIntegerLiteral</code> è§£é‡Šæˆä»»æ„ç±»å‹çš„ç‰¹æ®Šå­—é¢é‡å€¼ï¼Œå¹¶ä¸”å¦‚æœç±»å‹æ¨æ–­æ²¡æœ‰æŠŠå®ƒè½¬æ¢ä¸ºæ›´å…·ä½“çš„ç±»å‹ï¼Œå°±ä¼šå˜æˆ <code class="highlighter-rouge">Int</code> å€¼ã€‚ç±»ä¼¼çš„ï¼Œå­—é¢é‡<code class="highlighter-rouge">"x"</code>å¹¶ä¸æ˜¯ <code class="highlighter-rouge">String</code>ï¼Œ <code class="highlighter-rouge">Character</code> æˆ–  <code class="highlighter-rouge">UnicodeScalar</code>ï¼Œä¸è¿‡å®ƒå¯ä»¥æ ¹æ®ä¸Šä¸‹æ–‡å˜æˆè¿™äº›ç±»å‹ï¼Œé»˜è®¤æƒ…å†µæ˜¯å˜æˆ <code class="highlighter-rouge">String</code>ã€‚</p>

<p>Thus, when a literal is used to initialize a value of a type other than its
default, and when that type cannot be inferred otherwise by context, specify the
type explicitly in the declaration or use an <code class="highlighter-rouge">as</code> expression to coerce it.</p>

<p>å› æ­¤ç±»å‹åœ¨ä½¿ç”¨é»˜è®¤ä»¥å¤–çš„å­—é¢é‡æ–¹å¼æ„é€ å€¼ï¼Œå¹¶ä¸”è¯¥ç±»å‹ä¸èƒ½é€šè¿‡ä¸Šä¸‹æ–‡æ¨æ–­æ›´å¤šä¿¡æ¯æ—¶ï¼Œéœ€è¦åœ¨å£°æ˜é‡Œç”¨æ˜¾å¼ç±»å‹æˆ–è€…ç”¨ <code class="highlighter-rouge">as</code> è¡¨è¾¾å¼æ¥è¿›è¡Œå¼ºåˆ¶è½¬æ¢ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Without a more explicit type, x1 will be inferred as type Int.</span>
<span class="k">let</span> <span class="nv">x1</span> <span class="o">=</span> <span class="mi">50</span>

<span class="c1">// These are explicitly type Int32.</span>
<span class="k">let</span> <span class="nv">x2</span><span class="p">:</span> <span class="kt">Int32</span> <span class="o">=</span> <span class="mi">50</span>
<span class="k">let</span> <span class="nv">x3</span> <span class="o">=</span> <span class="mi">50</span> <span class="k">as</span> <span class="kt">Int32</span>

<span class="c1">// Without a more explicit type, y1 will be inferred as type String.</span>
<span class="k">let</span> <span class="nv">y1</span> <span class="o">=</span> <span class="s">"a"</span>

<span class="c1">// These are explicitly type Character.</span>
<span class="k">let</span> <span class="nv">y2</span><span class="p">:</span> <span class="kt">Character</span> <span class="o">=</span> <span class="s">"a"</span>
<span class="k">let</span> <span class="nv">y3</span> <span class="o">=</span> <span class="s">"a"</span> <span class="k">as</span> <span class="kt">Character</span>

<span class="c1">// These are explicitly type UnicodeScalar.</span>
<span class="k">let</span> <span class="nv">y4</span><span class="p">:</span> <span class="kt">UnicodeScalar</span> <span class="o">=</span> <span class="s">"a"</span>
<span class="k">let</span> <span class="nv">y5</span> <span class="o">=</span> <span class="s">"a"</span> <span class="k">as</span> <span class="kt">UnicodeScalar</span>

<span class="kd">func</span> <span class="nf">writeByte</span><span class="p">(</span><span class="n">_</span> <span class="nv">byte</span><span class="p">:</span> <span class="kt">UInt8</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
<span class="c1">// Inference also occurs for function arguments, so 50 is a UInt8 without</span>
<span class="c1">// explicitly coercion.</span>
<span class="nf">writeByte</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</code></pre></div></div>

<p>The compiler will emit errors appropriately for invalid literal coercions if,
for example, a number does not fit into the integer type or a multi-character
string is coerced to a character. So while the following examples emit errors,
they are â€œgoodâ€ because the errors are caught at compile-time and for the right
reasons.</p>

<p>å¦‚æœå­—é¢é‡çš„å¼ºåˆ¶è½¬æ¢ä¸åˆç†ï¼Œç¼–è¯‘å™¨ä¼šæŠ›å‡ºåˆé€‚çš„é”™è¯¯ï¼Œä¾‹å¦‚ï¼Œæ•°å­—ä¸å±äºæ•´å‹ç±»å‹æˆ–è€…å¼ºåˆ¶è½¬æ¢ä¸ºå­—ç¬¦çš„å¤šå­—ç¬¦çš„å­—ç¬¦ä¸²æ—¶ã€‚æ‰€ä»¥ä¸‹é¢ä¾‹å­æŠ›å‡ºé”™è¯¯æ˜¯â€œå¥½â€äº‹ï¼Œå› ä¸ºè¿™äº›é”™è¯¯åœ¨ç¼–è¯‘æœŸå°±æ‰¾åˆ°äº†æ­£ç¡®çš„é”™å› ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// error: integer literal '9223372036854775808' overflows when stored into 'Int64'</span>
<span class="k">let</span> <span class="nv">a</span> <span class="o">=</span> <span class="mh">0x8000_0000_0000_0000</span> <span class="k">as</span> <span class="kt">Int64</span>

<span class="c1">// error: cannot convert value of type 'String' to type 'Character' in coercion</span>
<span class="k">let</span> <span class="nv">b</span> <span class="o">=</span> <span class="s">"ab"</span> <span class="k">as</span> <span class="kt">Character</span>
</code></pre></div></div>

<p>Using initializer syntax for these types of coercions can lead to misleading
compiler errors, or worse, hard-to-debug runtime errors.</p>

<p>è¿™äº›ç±»å‹ä½¿ç”¨æ„é€ å™¨è¯­æ³•è¿›è¡Œå¼ºåˆ¶è½¬æ¢çš„è¯ä¼šäº§ç”Ÿæ˜“è¯¯å¯¼çš„ç¼–è¯‘å™¨é”™è¯¯ï¼Œæˆ–è€…å¯èƒ½æ›´ç³Ÿç³•ï¼Œäº§ç”Ÿéš¾è°ƒè¯•çš„è¿è¡Œæ—¶é”™è¯¯ã€‚</p>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// This first tries to create an `Int` (signed) from the literal and then</span>
<span class="c1">// convert it to a `UInt64`. Even though this literal fits into a `UInt64`, it</span>
<span class="c1">// doesn't fit into an `Int` first, so it doesn't compile.</span>
<span class="k">let</span> <span class="nv">a1</span> <span class="o">=</span> <span class="kt">UInt64</span><span class="p">(</span><span class="mh">0x8000_0000_0000_0000</span><span class="p">)</span>

<span class="c1">// This invokes `Character.init(_: String)`, thus creating a `String` "a" at</span>
<span class="c1">// runtime (which involves a slow heap allocation), extracting the character</span>
<span class="c1">// from it, and then releasing it. This is significantly slower than a proper</span>
<span class="c1">// coercion.</span>
<span class="k">let</span> <span class="nv">b</span> <span class="o">=</span> <span class="kt">Character</span><span class="p">(</span><span class="s">"a"</span><span class="p">)</span>

<span class="c1">// As above, this creates a `String` and then `Character.init(_: String)`</span>
<span class="c1">// attempts to extract the single character from it. This fails a precondition</span>
<span class="c1">// check and traps at runtime.</span>
<span class="k">let</span> <span class="nv">c</span> <span class="o">=</span> <span class="kt">Character</span><span class="p">(</span><span class="s">"ab"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="playground-å­—é¢é‡playground-literals">Playground å­—é¢é‡/Playground Literals</h3>

<p>The graphically-rendered playground literals <code class="highlighter-rouge">#colorLiteral(...)</code>,
<code class="highlighter-rouge">#imageLiteral(...)</code>, and <code class="highlighter-rouge">#fileLiteral(...)</code> are forbidden in non-playground
production code. They are permitted in playground sources.</p>

<p>ä¼šè¿›è¡Œå›¾å½¢æ¸²æŸ“çš„ playground å­—é¢é‡ <code class="highlighter-rouge">#colorLiteral(...)</code>ï¼Œ<code class="highlighter-rouge">#imageLiteral(...)</code> å’Œ <code class="highlighter-rouge">#fileLiteral(...)</code> åœ¨é playground çš„ä»£ç é‡Œæ˜¯ç¦æ­¢çš„ã€‚å®ƒä»¬åªå…è®¸åœ¨ playground æºç é‡Œã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">color</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="nv">alpha</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">color</span> <span class="o">=</span> <span class="err">#</span><span class="nf">colorLiteral</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="nv">alpha</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="æ•è·æº¢å‡ºè¿ç®—trapping-vs-overflowing-arithmetic">æ•è·æº¢å‡ºè¿ç®—/Trapping vs. Overflowing Arithmetic</h3>

<p>The standard (trapping-on-overflow) arithmetic and bitwise operators (<code class="highlighter-rouge">+</code>, <code class="highlighter-rouge">-</code>,
<code class="highlighter-rouge">*</code>, <code class="highlighter-rouge">&lt;&lt;</code>, and <code class="highlighter-rouge">&gt;&gt;</code>) are used for most normal operations, rather than the
masking operations (preceded by <code class="highlighter-rouge">&amp;</code>). Trapping on overflow is safer because it
prevents bad data from propagating through other layers of the system.</p>

<p>æ ‡å‡†ï¼ˆæ•è·æº¢å‡ºï¼‰è¿ç®—å’ŒäºŒå…ƒè¿ç®—ç¬¦ï¼ˆ<code class="highlighter-rouge">+</code>ï¼Œ<code class="highlighter-rouge">-</code>ï¼Œ<code class="highlighter-rouge">*</code>ï¼Œ<code class="highlighter-rouge">&lt;&lt;</code> å’Œ <code class="highlighter-rouge">&gt;&gt;</code>ï¼‰å¤§éƒ¨åˆ†ç”¨äºæ™®é€šæ“ä½œï¼Œè€Œéæ©ç æ“ä½œï¼ˆå‰ç½® <code class="highlighter-rouge">&amp;</code>ï¼‰ã€‚æ•è·æº¢å‡ºä¼šæ›´åŠ å®‰å…¨ï¼Œå› ä¸ºå®ƒé˜²æ­¢é”™è¯¯æ•°æ®è¢«ä¼ é€’åˆ°ç³»ç»Ÿçš„å…¶ä»–å±‚çº§ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// GOOD. Overflow will not cause the balance to go negative.</span>
<span class="k">let</span> <span class="nv">newBankBalance</span> <span class="o">=</span> <span class="n">oldBankBalance</span> <span class="o">+</span> <span class="n">recentHugeProfit</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// AVOID. Overflow will cause the balance to go negative if the summands are</span>
<span class="c1">// large.</span>
<span class="k">let</span> <span class="nv">newBankBalance</span> <span class="o">=</span> <span class="n">oldBankBalance</span> <span class="o">&amp;+</span> <span class="n">recentHugeProfit</span>
</code></pre></div></div>

<p>Masking operations are comparatively rare but are permitted (and in fact
necessary for correctness) in problem domains that use modular arithmetic, such
as cryptography, big-integer implementations, hash functions, and so forth.</p>

<p>æ©ç æ“ä½œæ¯”è¾ƒå°‘è§ï¼Œä½†åœ¨æ¨¡æ•°è¿ç®—çš„é—®é¢˜é¢†åŸŸæ˜¯å…è®¸çš„ï¼ˆäº‹å®ä¸Šä¸ºäº†æ­£ç¡®æ€§æ˜¯å¿…è¦çš„ï¼‰ï¼Œä¾‹å¦‚åŠ å¯†ï¼Œå¤§æ•´å‹å®ç°ï¼Œå“ˆå¸Œå‡½æ•°ç­‰ç­‰ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">var</span> <span class="nv">hashValue</span><span class="p">:</span> <span class="kt">Int</span> <span class="p">{</span>
  <span class="c1">// GOOD. What matters here is the distribution of the bit pattern rather than</span>
  <span class="c1">// the actual numeric value.</span>
  <span class="k">return</span> <span class="n">foo</span><span class="o">.</span><span class="n">hashValue</span> <span class="o">&amp;+</span> <span class="mi">31</span> <span class="o">*</span> <span class="p">(</span><span class="n">bar</span><span class="o">.</span><span class="n">hashValue</span> <span class="o">&amp;+</span> <span class="mi">31</span> <span class="o">&amp;*</span> <span class="n">baz</span><span class="o">.</span><span class="n">hashValue</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">var</span> <span class="nv">hashValue</span><span class="p">:</span> <span class="kt">Int</span> <span class="p">{</span>
  <span class="c1">// INCORRECT. This will trap arbitrarily and unpredictably depending on the</span>
  <span class="c1">// hash values of the individual terms.</span>
  <span class="k">return</span> <span class="n">foo</span><span class="o">.</span><span class="n">hashValue</span> <span class="o">+</span> <span class="mi">31</span> <span class="o">*</span> <span class="p">(</span><span class="n">bar</span><span class="o">.</span><span class="n">hashValue</span> <span class="o">+</span> <span class="mi">31</span> <span class="o">*</span> <span class="n">baz</span><span class="o">.</span><span class="n">hashValue</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Masking operations are also permitted in performance-sensitive code where the
values are already known to not cause overflow (or where overflow is not a
concern). In this case, comments should be used to indicate why the use of
masking operations is important. Additionally, consider adding debug
preconditions to check these assumptions without affecting performance of
optimized builds.</p>

<p>æ©ç æ“ä½œåœ¨ç¡®ä¿å€¼ä¸ä¼šå¯¼è‡´æº¢å‡ºï¼ˆæˆ–è€…ä¸éœ€è¦æ‹…å¿ƒæº¢å‡ºï¼‰çš„æ€§èƒ½æ•æ„Ÿä»£ç é‡Œä¹Ÿæ˜¯å…è®¸çš„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œéœ€è¦ä½¿ç”¨æ³¨é‡Šæ¥æ³¨æ˜ä½¿ç”¨æ©ç æ“ä½œçš„é‡è¦æ€§ã€‚æ›´è¿›ä¸€æ­¥ï¼Œåœ¨ä¸å½±å“æ€§èƒ½ä¼˜åŒ–çš„æƒ…å†µä¸‹ï¼Œè€ƒè™‘å¢åŠ å…ˆå†³è°ƒè¯•æ¡ä»¶æ¥æ£€æŸ¥è¿™äº›å‡è®¾ã€‚</p>

<h3 id="å®šä¹‰æ–°è¿ç®—ç¬¦defining-new-operators">å®šä¹‰æ–°è¿ç®—ç¬¦/Defining New Operators</h3>

<p>When used unwisely, custom-defined operators can significantly reduce the
readability of code because such operators often lack the historical context of
the more common ones built into the standard library.</p>

<p>ä¸ç†æ™ºåœ°ä½¿ç”¨è‡ªå®šä¹‰è¿ç®—ç¬¦ä¼šæ˜¾è‘—å½±å“ä»£ç å¯è¯»æ€§ï¼Œå› ä¸ºè¿™æ ·çš„è¿ç®—ç¬¦æ¯”èµ·æ ‡å‡†åº“ä¸­æ›´å¸¸ç”¨çš„è¿ç®—ç¬¦ï¼Œé€šå¸¸ç¼ºä¹å†å²èƒŒæ™¯ã€‚</p>

<p>In general, defining custom operators should be avoided. However, it is allowed
when an operator has a clear and well-defined meaning in the problem domain
and when using an operator significantly improves the readability of the code
when compared to function calls. For example, since <code class="highlighter-rouge">*</code> is the only
multiplication operator defined by Swift (not including the masking version), a
numeric matrix library may define additional operators to support other
operations like cross product and dot product.</p>

<p>é€šå¸¸æ¥è¯´ï¼Œåº”è¯¥é¿å…è‡ªå®šä¹‰è¿ç®—ç¬¦ã€‚ç„¶è€Œï¼Œå½“ä¸€ä¸ªè¿ç®—ç¬¦åœ¨é—®é¢˜é¢†åŸŸä¸­æœ‰æ¸…æ™°å’Œå«ä¹‰è‰¯å¥½çš„å®šä¹‰ï¼Œå¹¶ä¸”ä½¿ç”¨å®ƒä¼šæ¯”å‡½æ•°è°ƒç”¨æ˜¾è‘—æé«˜ä»£ç çš„å¯è¯»æ€§æ—¶ï¼Œæ˜¯å…è®¸çš„ã€‚ä¾‹å¦‚ï¼Œ<code class="highlighter-rouge">*</code> åœ¨ Swift é‡Œåªå®šä¹‰ä¸ºä¹˜æ³•è¿ç®—ç¬¦ï¼ˆä¸åŒ…å«æ©ç ç‰ˆæœ¬ï¼‰ï¼Œ æ•°å­¦çŸ©é˜µåº“å¯èƒ½ä¼šå®šä¹‰é¢å¤–çš„è¿ç®—ç¬¦æ¥æ”¯æŒå…¶ä»–è¿ç®—æ¯”å¦‚å‰ä¹˜å’Œç‚¹ä¹˜ã€‚</p>

<p>An example of a prohibited use case is defining custom <code class="highlighter-rouge">&lt;~~</code> and <code class="highlighter-rouge">~~&gt;</code> operators
to decode and encode JSON data. Such operators are not native to the problem
domain of processing JSON and even an experienced Swift engineer would have
difficulty understanding the purpose of the code without seeking out
documentation of those operators.</p>

<p>ç¦æ­¢ç”¨æ³•å…¶ä¸­ä¸€ç§ä¾‹å­æ˜¯å®šä¹‰è‡ªå®šä¹‰ <code class="highlighter-rouge">&lt;~~</code> å’Œ <code class="highlighter-rouge">~~&gt;</code> è¿ç®—ç¬¦æ¥è§£ç å’Œç¼–ç  JSON æ•°æ®ã€‚è¿™æ ·çš„è¿ç®—ç¬¦ä¸æ˜¯ JSON é¢†åŸŸé—®é¢˜çš„åŸç”Ÿå¤„ç†æ–¹å¼ï¼Œç”šè‡³è¿æœ‰ç»éªŒçš„ Swift å·¥ç¨‹å¸ˆåœ¨æ²¡æœ‰è¿™äº›è¿ç®—ç¬¦æ–‡æ¡£çš„æƒ…å†µä¸‹ä¹Ÿå¯èƒ½ä¼šå¯¹è¿™ç§å¤„ç†ä»£ç æœ‰ç€ä¸åŒçš„ç†è§£ã€‚</p>

<p>If you must use third-party code of unquestionable value that provides an API
only available through custom operators, you are <strong>strongly encouraged</strong> to
consider writing a wrapper that defines more readable methods that delegate to
the custom operators. This will significantly reduce the learning curve required
to understand how such code works for new teammates and other code reviewers.</p>

<p>å¦‚æœä½ ä¸€å®šè¦è®©æ²¡é—®é¢˜çš„å€¼ä½¿ç”¨ç¬¬ä¸‰æ–¹ä»£ç é‡Œåªæä¾›äº†è‡ªå®šä¹‰è¿ç®—ç¬¦å½¢å¼çš„ APIï¼Œ<strong>å¼ºçƒˆå»ºè®®</strong>ä½ ç¼–å†™ä¸€ä¸ªåŒ…è£…å™¨ï¼Œå®šä¹‰å¯è¯»æ€§æ›´å¥½çš„æ–¹æ³•ä½œä¸ºè¯¥è‡ªå®šä¹‰è¿ç®—ç¬¦çš„ä»£ç†ã€‚å¯¹å›¢é˜Ÿæ–°æˆå‘˜æˆ–è€…å…¶ä»–ä»£ç å®¡æŸ¥è€…æ¥è¯´ï¼Œè¿™ä¼šæ˜¾è‘—é™ä½ç†è§£è¿™æ ·çš„ä»£ç æ˜¯å¦‚ä½•å·¥ä½œçš„å­¦ä¹ æ›²çº¿ã€‚</p>

<h3 id="é‡è½½å·²å­˜åœ¨è¿ç®—ç¬¦overloading-existing-operators">é‡è½½å·²å­˜åœ¨è¿ç®—ç¬¦/Overloading Existing Operators</h3>

<p>Overloading operators is permitted when your use of the operator is semantically
equivalent to the existing uses in the standard library. Examples of permitted
use cases are implementing the operator requirements for <code class="highlighter-rouge">Equatable</code> and
<code class="highlighter-rouge">Hashable</code>, or defining a new <code class="highlighter-rouge">Matrix</code> type that supports arithmetic operations.</p>

<p>ç”¨è¯­ä¹‰ä¸Šå’Œæ ‡å‡†åº“ä¸­å·²å­˜åœ¨ç­‰åŒçš„é‡è½½è¿ç®—ç¬¦æ˜¯å…è®¸çš„ã€‚å…è®¸çš„ä¾‹å­æ˜¯ä¸º <code class="highlighter-rouge">Equatable</code> å’Œ <code class="highlighter-rouge">Hashable</code> å®ç°è¿ç®—ç¬¦è¦æ±‚ï¼Œæˆ–è€…å®šä¹‰æ–°çš„ <code class="highlighter-rouge">Matrix</code> ç±»å‹æ¥æ”¯æŒç®—æ•°è¿ç®—ã€‚</p>

<p>If you wish to overload an existing operator with a meaning other than its
natural meaning, follow the guidance in
<a href="#defining-new-operators">Defining New Operators</a> to determine whether this is
permitted. In other words, if the new meaning is well-established in the problem
domain and the use of the operator is a readability improvement over other
syntactic constructs, then it is permitted.</p>

<p>å¦‚æœä½ å¸Œæœ›ç”¨å’ŒåŸæœ¬ä¸åŒçš„å«ä¹‰é‡è½½å·²å­˜åœ¨çš„è¿ç®—ç¬¦ï¼Œå‚è€ƒ <a href="#defining-new-operators">å®šä¹‰æ–°è¿ç®—ç¬¦</a> æŒ‡å¼•æ¥ç¡®å®šæ˜¯å¦å…è®¸ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæ–°çš„å«ä¹‰åœ¨é—®é¢˜é¢†åŸŸæ˜¯ç¡®å®šå·²ä¹…çš„ï¼Œå¹¶ä¸”ä½¿ç”¨è¯¥è¿ç®—ç¬¦ä¼šæ¯”å…¶ä»–è¯­æ³•ç»“æ„æé«˜å¯è¯»æ€§ï¼Œé‚£ä¹ˆå°±æ˜¯å…è®¸çš„ã€‚</p>

<p>An example of a prohibited case of operator repurposing would be to overload <code class="highlighter-rouge">*</code>
and <code class="highlighter-rouge">+</code> to build an ad hoc regular expression API. Such an API would not provide
strong enough readability benefits compared to simply representing the entire
regular expression as a string.</p>

<p>ç¦æ­¢æ›´æ”¹è¿ç®—ç¬¦å«ä¹‰çš„ä¸€ç§ä¾‹å­æ˜¯é‡è½½ <code class="highlighter-rouge">*</code> å’Œ <code class="highlighter-rouge">+</code> æ¥æ„å»ºç‰¹å®šæ­£åˆ™è¡¨è¾¾å¼çš„ APIã€‚è¿™æ ·çš„ API æ²¡æœ‰æ¯”ç®€å•ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºæ•´ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„æ–¹å¼å¯è¯»æ€§å¼ºå¾ˆå¤šã€‚</p>

<h2 id="æ–‡æ¡£æ³¨é‡Šdocumentation-comments">æ–‡æ¡£æ³¨é‡Š/Documentation Comments</h2>

<h3 id="é€šå¸¸æ ¼å¼general-format">é€šå¸¸æ ¼å¼/General Format</h3>

<p>Documentation comments are written using the format where each line is preceded
by a triple slash (<code class="highlighter-rouge">///</code>). Javadoc-style block comments (<code class="highlighter-rouge">/** ... */</code>) are not
permitted.</p>

<p>æ–‡æ¡£æ³¨é‡Šä½¿ç”¨æ¯è¡Œå‰é¢ä¸‰ä¸ªæ–œæ ï¼ˆ<code class="highlighter-rouge">///</code>ï¼‰çš„æ ¼å¼ã€‚Java æ–‡æ¡£é£æ ¼çš„å—çŠ¶æ³¨é‡Šï¼ˆ<code class="highlighter-rouge">/** ...*/</code>ï¼‰æ˜¯ä¸å…è®¸çš„ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">/// Returns the numeric value of the given digit represented as a Unicode scalar.</span>
<span class="c1">///</span>
<span class="c1">/// - Parameters:</span>
<span class="c1">///   - digit: The Unicode scalar whose numeric value should be returned.</span>
<span class="c1">///   - radix: The radix, between 2 and 36, used to compute the numeric value.</span>
<span class="c1">/// - Returns: The numeric value of the scalar.</span>
<span class="kd">func</span> <span class="nf">numericValue</span><span class="p">(</span><span class="n">of</span> <span class="nv">digit</span><span class="p">:</span> <span class="kt">UnicodeScalar</span><span class="p">,</span> <span class="nv">radix</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * Returns the numeric value of the given digit represented as a Unicode scalar.
 *
 * - Parameters:
 *   - digit: The Unicode scalar whose numeric value should be returned.
 *   - radix: The radix, between 2 and 36, used to compute the numeric value.
 * - Returns: The numeric value of the scalar.
 */</span>
<span class="kd">func</span> <span class="nf">numericValue</span><span class="p">(</span><span class="n">of</span> <span class="nv">digit</span><span class="p">:</span> <span class="kt">UnicodeScalar</span><span class="p">,</span> <span class="nv">radix</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>

<span class="cm">/**
Returns the numeric value of the given digit represented as a Unicode scalar.

- Parameters:
  - digit: The Unicode scalar whose numeric value should be returned.
  - radix: The radix, between 2 and 36, used to compute the numeric value.
- Returns: The numeric value of the scalar.
*/</span>
<span class="kd">func</span> <span class="nf">numericValue</span><span class="p">(</span><span class="n">of</span> <span class="nv">digit</span><span class="p">:</span> <span class="kt">UnicodeScalar</span><span class="p">,</span> <span class="nv">radix</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="ä¸€å¥è¯æ¦‚æ‹¬single-sentence-summary">ä¸€å¥è¯æ¦‚æ‹¬/Single-Sentence Summary</h3>

<p>Documentation comments begin with a brief <strong>single-sentence</strong> summary that
describes the declaration. (This sentence may span multiple lines, but if it
spans too many lines, the author should consider whether the summary can be
simplified and details moved to a new paragraph.)</p>

<p>æ–‡æ¡£æ³¨é‡Šçš„å¼€å§‹ä½¿ç”¨ç®€çŸ­çš„<strong>ä¸€å¥è¯</strong>æ¦‚æ‹¬æ¥æè¿°å£°æ˜ã€‚ï¼ˆè¿™å¥è¯å¯ä»¥è·¨è¡Œï¼Œä½†å¦‚æœè·¨äº†å¾ˆå¤šè¡Œï¼Œä½œè€…åº”è¯¥è€ƒè™‘æ˜¯å¦å¯ä»¥å°†æ¦‚å†µç®€åŒ–å¹¶å°†ç»†èŠ‚ç§»åˆ°æ–°çš„æ®µè½ä¸­ã€‚ï¼‰</p>

<p>If more detail is needed than can be stated in the summary, additional
paragraphs (each separated by a blank line) are added after it.</p>

<p>å¦‚æœæ¦‚æ‹¬éœ€è¦é™ˆè¿°æ›´å¤šç»†èŠ‚ï¼Œåœ¨åé¢æ·»åŠ é¢å¤–çš„æ®µè½ï¼ˆæ¯ä¸ªæ®µè½ç”¨ç©ºè¡Œåˆ†éš”ï¼‰ã€‚</p>

<p>The single-sentence summary is not necessarily a complete sentence; for example,
method summaries are generally written as verb phrases <strong>without</strong> â€œthis method
[â€¦]â€ because it is already implied as the subject and writing it out would be
redundant. Likewise, properties are often written as noun phrases <strong>without</strong>
â€œthis property is [â€¦]â€. In any case, however, they are still terminated with a
period.</p>

<p>ä¸€å¥è¯æ¦‚æ‹¬ä¸éœ€è¦æ˜¯å®Œæ•´çš„å¥å­ï¼›ä¾‹å¦‚ï¼Œæ–¹æ³•çš„æ¦‚æ‹¬é€šå¸¸å†™ä½œåŠ¨è¯çŸ­è¯­ï¼Œ<strong>ä¸éœ€è¦</strong>åŠ ä¸Šâ€œè¿™ä¸ªæ–¹æ³• [â€¦]â€ï¼Œå› ä¸ºè¿™å°±æ˜¯è¦è¡¨è¾¾çš„ï¼Œå†™å‡ºæ¥æ˜¯å¤šä½™çš„ã€‚ç±»ä¼¼ï¼Œå±æ€§é€šå¸¸å†™ä½œåè¯çŸ­è¯­ï¼Œ<strong>ä¸éœ€è¦</strong>åŠ ä¸Šâ€œè¿™ä¸ªå±æ€§æ˜¯ [â€¦]â€ã€‚ç„¶è€Œæ— è®ºå¦‚ä½•ï¼Œå®ƒä»¬è¿˜æ˜¯è¦ä»¥å¥å·ç»“å°¾ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">/// The background color of the view.</span>
<span class="k">var</span> <span class="nv">backgroundColor</span><span class="p">:</span> <span class="kt">UIColor</span>

<span class="c1">/// Returns the sum of the numbers in the given array.</span>
<span class="c1">///</span>
<span class="c1">/// - Parameter numbers: The numbers to sum.</span>
<span class="c1">/// - Returns: The sum of the numbers.</span>
<span class="kd">func</span> <span class="nf">sum</span><span class="p">(</span><span class="n">_</span> <span class="nv">numbers</span><span class="p">:</span> <span class="p">[</span><span class="kt">Int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">/// This property is the background color of the view.</span>
<span class="k">var</span> <span class="nv">backgroundColor</span><span class="p">:</span> <span class="kt">UIColor</span>

<span class="c1">/// This method returns the sum of the numbers in the given array.</span>
<span class="c1">///</span>
<span class="c1">/// - Parameter numbers: The numbers to sum.</span>
<span class="c1">/// - Returns: The sum of the numbers.</span>
<span class="kd">func</span> <span class="nf">sum</span><span class="p">(</span><span class="n">_</span> <span class="nv">numbers</span><span class="p">:</span> <span class="p">[</span><span class="kt">Int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="å½¢å‚è¿”å›å€¼å’ŒæŠ›å‡ºæ ‡ç­¾parameter-returns-and-throws-tags">å½¢å‚ï¼Œè¿”å›å€¼å’ŒæŠ›å‡ºæ ‡ç­¾/Parameter, Returns, and Throws Tags</h3>

<p>Clearly document the parameters, return value, and thrown errors of functions
using the <code class="highlighter-rouge">Parameter(s)</code>, <code class="highlighter-rouge">Returns</code>, and <code class="highlighter-rouge">Throws</code> tags, in that order. None ever
appears with an empty description. When a description does not fit on a single
line, continuation lines are indented 2 spaces in from the position of the
hyphen starting the tag.</p>

<p>å¯¹å½¢å‚ï¼Œè¿”å›å€¼å’Œå‡½æ•°æŠ›å‡ºçš„é”™è¯¯æŒ‰ç…§ <code class="highlighter-rouge">Parameter(s)</code>ï¼Œ<code class="highlighter-rouge">Returns</code> å’Œ <code class="highlighter-rouge">Throws</code> æ ‡ç­¾çš„é¡ºåºæ¸…æ™°åœ°å†™ä¸‹æ–‡æ¡£ã€‚ä¸è¦å‡ºç°ç©ºç™½çš„æè¿°ã€‚å½“ä¸€ä¸ªæè¿°éœ€è¦æ¢è¡Œæ—¶ï¼Œç»­è¡Œçš„ç¼©è¿›åœ¨å¼€å§‹çš„æ ‡è®°è¿å­—ç¬¦åŸºç¡€ä¸ŠåŠ ä¸Š 2 ä¸ªç©ºæ ¼ã€‚</p>

<p>The recommended way to write documentation comments in Xcode is to place the
text cursor on the declaration and press <strong>Command + Option + /</strong>. This will
automatically generate the correct format with placeholders to be filled in.</p>

<p>Xcode é‡Œç¼–å†™æ–‡æ¡£æ³¨é‡Šçš„æ¨èæ–¹å¼æ˜¯å°†æ–‡å­—å…‰æ ‡æ”¾åœ¨å£°æ˜ä¸Šå¹¶ä¸”æŒ‰ä¸‹ <strong>Command + Option + /</strong>ã€‚è¿™ä¼šè‡ªåŠ¨åˆ›å»ºæœ‰å¾…å¡«å……å ä½ç¬¦çš„æ­£ç¡®æ ¼å¼æ³¨é‡Šã€‚</p>

<p><code class="highlighter-rouge">Parameter(s)</code> and <code class="highlighter-rouge">Returns</code> tags may be omitted only if the single-sentence
brief summary fully describes the meaning of those items and including the tags
would only repeat what has already been said.</p>

<p><code class="highlighter-rouge">Parameter(s)</code> å’Œ <code class="highlighter-rouge">Returns</code> æ ‡ç­¾åªæœ‰å½“ä¸€å¥è¯ç®€çŸ­æ¦‚æ‹¬ä¸­å·²ç»æœ‰å®Œæ•´æè¿°æ—¶å¯ä»¥çœç•¥ï¼Œå¦‚æœè¿˜åŒ…æ‹¬å®ƒä»¬å°±åªæ˜¯é‡å¤å·²ç»è¯´è¿‡çš„å†…å®¹ã€‚</p>

<p>The content following the <code class="highlighter-rouge">Parameter(s)</code>, <code class="highlighter-rouge">Returns</code>, and <code class="highlighter-rouge">Throws</code> tags should be
terminated with a period, even when they are phrases instead of complete
sentences.</p>

<p><code class="highlighter-rouge">Parameter(s)</code>ï¼Œ<code class="highlighter-rouge">Returns</code> å’Œ <code class="highlighter-rouge">Throws</code> æ ‡ç­¾åé¢è·Ÿç€çš„å†…å®¹éœ€è¦ä»¥å¥å·ç»“å°¾ï¼Œå³ä½¿å®ƒä»¬åªæ˜¯çŸ­è¯­è€Œä¸æ˜¯å®Œæ•´çš„å¥å­ã€‚</p>

<p>When a method takes a single argument, the singular inline form of the
<code class="highlighter-rouge">Parameter</code> tag is used. When a method takes multiple arguments, the grouped
plural form <code class="highlighter-rouge">Parameters</code> is used and each argument is written as an item in a
nested list with only its name as the tag.</p>

<p>å½“æ–¹æ³•åªæœ‰å•ä¸€çš„å®å‚æ—¶ï¼Œä½¿ç”¨å†…è”å•æ•°å½¢å¼çš„ <code class="highlighter-rouge">Parameter</code> æ ‡ç­¾ã€‚å½“æ–¹æ³•æœ‰å¤šä¸ªå®å‚æ—¶ï¼Œä½¿ç”¨åˆ†ç»„å¤æ•°å½¢å¼ <code class="highlighter-rouge">Parameters</code>ï¼ŒåµŒå¥—åˆ—è¡¨é‡Œç”¨æ¯ä¸ªå®å‚çš„åå­—ä½œæ ‡ç­¾ã€‚</p>

<div class="language-swift good highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">/// Returns the output generated by executing a command.</span>
<span class="c1">///</span>
<span class="c1">/// - Parameter command: The command to execute in the shell environment.</span>
<span class="c1">/// - Returns: A string containing the contents of the invoked process's</span>
<span class="c1">///   standard output.</span>
<span class="kd">func</span> <span class="nf">execute</span><span class="p">(</span><span class="nv">command</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">String</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>

<span class="c1">/// Returns the output generated by executing a command with the given string</span>
<span class="c1">/// used as standard input.</span>
<span class="c1">///</span>
<span class="c1">/// - Parameters:</span>
<span class="c1">///   - command: The command to execute in the shell environment.</span>
<span class="c1">///   - stdin: The string to use as standard input.</span>
<span class="c1">/// - Returns: A string containing the contents of the invoked process's</span>
<span class="c1">///   standard output.</span>
<span class="kd">func</span> <span class="nf">execute</span><span class="p">(</span><span class="nv">command</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">stdin</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">String</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div></div>

<p>The following examples are incorrect, because they use the plural form of
<code class="highlighter-rouge">Parameters</code> for a single parameter or the singular form <code class="highlighter-rouge">Parameter</code> for
multiple parameters.</p>

<p>ä¸‹é¢çš„ä¾‹å­æ˜¯é”™è¯¯çš„ï¼Œå› ä¸ºå®ƒä»¬å¯¹å•ä¸ªå½¢å‚ä½¿ç”¨å¤æ•°å½¢å¼ <code class="highlighter-rouge">Parameters</code> æˆ–è€…å¯¹å¤šä¸ªå½¢å‚ä½¿ç”¨å•æ•°å½¢å¼ <code class="highlighter-rouge">Parameter</code>ã€‚</p>

<div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">/// Returns the output generated by executing a command.</span>
<span class="c1">///</span>
<span class="c1">/// - Parameters:</span>
<span class="c1">///   - command: The command to execute in the shell environment.</span>
<span class="c1">/// - Returns: A string containing the contents of the invoked process's</span>
<span class="c1">///   standard output.</span>
<span class="kd">func</span> <span class="nf">execute</span><span class="p">(</span><span class="nv">command</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">String</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>

<span class="c1">/// Returns the output generated by executing a command with the given string</span>
<span class="c1">/// used as standard input.</span>
<span class="c1">///</span>
<span class="c1">/// - Parameter command: The command to execute in the shell environment.</span>
<span class="c1">/// - Parameter stdin: The string to use as standard input.</span>
<span class="c1">/// - Returns: A string containing the contents of the invoked process's</span>
<span class="c1">///   standard output.</span>
<span class="kd">func</span> <span class="nf">execute</span><span class="p">(</span><span class="nv">command</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">stdin</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">String</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="apple-æ ‡è®°æ ¼å¼apples-markup-format">Apple æ ‡è®°æ ¼å¼/Appleâ€™s Markup Format</h3>

<p>Use of
<a href="https://developer.apple.com/library/content/documentation/Xcode/Reference/xcode_markup_formatting_ref/">Appleâ€™s markup format</a>
is strongly encouraged to add rich formatting to documentation. Such markup
helps to differentiate symbolic references (like parameter names) from
descriptive text in comments and is rendered by Xcode and other documentation
generation tools. Some examples of frequently used directives are listed below.</p>

<p>å¼ºçƒˆå»ºè®®ä½¿ç”¨ <a href="https://developer.apple.com/library/content/documentation/Xcode/Reference/xcode_markup_formatting_ref/">Apple æ ‡è®°æ ¼å¼</a> æ¥æ·»åŠ å¯Œæ–‡æœ¬åˆ°æ–‡æ¡£ä¸­ã€‚è¿™ç§æ ‡è®°æœ‰åŠ©äºåŒºåˆ†æ³¨é‡Šé‡Œçš„ç‰¹å¾å¼•ç”¨ï¼ˆä¾‹å¦‚å½¢å‚åå­—ï¼‰å’Œæè¿°æ€§æ–‡æœ¬ï¼Œå¹¶ä¸”å¯ä»¥è¢« Xcode å’Œå…¶ä»–æ–‡æ¡£ç”Ÿæˆå·¥å…·æ¸²æŸ“ã€‚ä¸‹é¢åˆ—å‡ºä¸€äº›å¸¸ç”¨æŒ‡ä»¤çš„ç¤ºä¾‹ã€‚</p>

<ul>
  <li>Paragraphs are separated using a single line that starts with <code class="highlighter-rouge">///</code> and is
otherwise blank.</li>
  <li>æ®µè½ä»¥ <code class="highlighter-rouge">///</code> å¼€å§‹çš„å•ä¸€ç©ºç™½è¡Œåˆ†éš”ã€‚</li>
  <li><em>*Single asterisks*</em> and <em>_single underscores_</em> surround text that should
be rendered in italic/oblique type.</li>
  <li>ä»¥<em>*å•æ˜Ÿå·*</em>å’Œ__å•ä¸‹åˆ’çº¿__åŒ…å›´çš„æ–‡æœ¬ä¼šè¢«æ¸²æŸ“æˆæ–œä½“/æ–œå‹ã€‚</li>
  <li><strong>**Double asterisks**</strong> and <strong>__double underscores__</strong> surround text
that should be rendered in boldface.</li>
  <li>ä»¥<strong>**åŒæ˜Ÿå·**</strong>å’Œ____åŒä¸‹åˆ’çº¿____åŒ…å›´çš„æ–‡æœ¬ä¼šè¢«æ¸²æŸ“æˆç²—ä½“ã€‚</li>
  <li>Names of symbols or inline code are surrounded in <code class="highlighter-rouge">`backticks`</code>.</li>
  <li>ç¬¦å·åæˆ–è€…å†…è”ä»£ç ä»¥ <code class="highlighter-rouge">`åå¼•å·`</code>åŒ…å›´ã€‚</li>
  <li>Multi-line code (such as example usage) is denoted by placing three backticks
(<code class="highlighter-rouge"> </code>`` `) on the lines before and after the code block.</li>
  <li>å¤šè¡Œä»£ç ï¼ˆä¾‹å¦‚ä½œä¸ºç”¨ä¾‹ï¼‰ä»¥ä¸‰ä¸ªåå¼•å·ï¼ˆ<code class="highlighter-rouge"> </code>`` `ï¼‰çš„è¡Œå¼€å¤´å’Œç»“æŸã€‚</li>
</ul>

<h3 id="æ³¨é‡Šçš„ä½ç½®where-to-document">æ³¨é‡Šçš„ä½ç½®/Where to Document</h3>

<p>At a minimum, documentation comments are present for every open or public
declaration, and every open or public member of such a declaration, with
specific exceptions noted below:</p>

<p>æœ€èµ·ç ï¼Œæ¯ä¸ª open æˆ– public å£°æ˜å’Œé‡Œé¢çš„æ¯ä¸ª open æˆ– public æˆå‘˜éƒ½åº”è¯¥æœ‰æ–‡æ¡£æ³¨é‡Šï¼Œé™¤äº†ä¸‹é¢çš„è¯´æ˜ä»¥å¤–ï¼š</p>

<ul>
  <li>
    <p>Individual cases of an <code class="highlighter-rouge">enum</code> often are not documented if their meaning is
self-explanatory from their name. Cases with associated values, however,
should document what those values mean if it is not obvious.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">enum</code> é‡Œå•ä¸ªçš„ case çš„åå­—å¦‚æœå·²ç»å¯ä»¥è‡ªè§£é‡Šåˆ™é€šå¸¸ä¸éœ€è¦æ³¨é‡Šã€‚æœ‰å…³è”å€¼çš„ Case å¦‚æœå€¼çš„å«ä¹‰ä¸æ˜ç¡®ï¼Œé‚£ä¹ˆä¸ç®¡æ€æ ·éƒ½åº”è¯¥æ³¨é‡Šã€‚</p>
  </li>
  <li>
    <p>A documentation comment is not always present on a declaration that overrides
a supertype declaration or implements a protocol requirement, or on a
declaration that provides the default implementation of a protocol requirement
in an extension.</p>

    <p>It is acceptable to document an overridden declaration to describe new
behavior from the declaration that it overrides. In no case should the
documentation for the override be a mere copy of the base declarationâ€™s
documentation.</p>
  </li>
  <li>
    <p>ç»§æ‰¿çˆ¶ç±»çš„å£°æ˜ï¼Œåè®®è¦æ±‚çš„å®ç°æˆ–è€…æä¾›åè®®è¦æ±‚çš„é»˜è®¤å®ç°çš„æ‰©å±•å£°æ˜å¯ä»¥ä¸éœ€è¦æ–‡æ¡£æ³¨é‡Šã€‚</p>

    <p>ç»§æ‰¿å£°æ˜é‡Œç”¨æ¥æè¿°ç»§æ‰¿åçš„æ–°è¡¨ç°çš„æ³¨é‡Šæ˜¯å¯ä»¥æ¥å—çš„ã€‚ä»»ä½•æƒ…å†µä¸‹éƒ½ä¸åº”è¯¥å‡ºç°å•çº¯æ‹·è´çˆ¶å£°æ˜æ–‡æ¡£çš„æ³¨é‡Šã€‚</p>
  </li>
  <li>
    <p>A documentation comment is not always present on test classes and test
methods. However, they can be useful for functional test classes and for
helper classes/methods shared by multiple tests.</p>
  </li>
  <li>
    <p>æµ‹è¯•ç±»å’Œæµ‹è¯•æ–¹æ³•å¯ä»¥ä¸éœ€è¦æ–‡æ¡£æ³¨é‡Šã€‚ç„¶è€Œï¼Œæ³¨é‡Šå¯¹äºåœ¨å¤šä¸ªæµ‹è¯•é‡Œå¤ç”¨çš„å‡½æ•°å¼æµ‹è¯•ç±»å’Œå¸®åŠ©ç±»/æ–¹æ³•æ—¶æ˜¯æœ‰å¸®åŠ©çš„ã€‚</p>
  </li>
  <li>
    <p>A documentation comment is not always present on an extension declaration
(that is, the <code class="highlighter-rouge">extension</code> itself). You may choose to add one if it help
clarify the purpose of the extension, but avoid meaningless or misleading
comments.</p>

    <p>In the following example, the comment is just repetition of what is already
obvious from the source code:</p>
  </li>
  <li>
    <p>æ‰©å±•å£°æ˜ï¼ˆä¹Ÿå°±æ˜¯è‡ªèº«çš„ <code class="highlighter-rouge">extension</code>ï¼‰å¯ä»¥ä¸éœ€è¦æ–‡æ¡£æ³¨é‡Šã€‚å¦‚æœèƒ½å¸®åŠ©æ˜ç¡®æ‹“å±•çš„ç”¨é€”ï¼Œä½ å¯ä»¥é€‰æ‹©æ·»åŠ ï¼Œä½†é¿å…æ— æ„ä¹‰æˆ–è€…è¯¯å¯¼çš„æ³¨é‡Šã€‚</p>

    <p>åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæ³¨é‡Šä»…ä»…é‡å¤äº†æºç æ˜¾è€Œæ˜“è§çš„äº‹ï¼š</p>

    <div class="language-swift bad highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">/// Add `Equatable` conformance.</span>
<span class="kd">extension</span> <span class="kt">MyType</span><span class="p">:</span> <span class="kt">Equatable</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>    </div>

    <p>The next example is more subtle, but it is an example of documentation that is
not scalable because the extension or the conformance could be updated in the
future. Consider that the type may be made <code class="highlighter-rouge">Comparable</code> at the time of that
writing in order to sort the values, but that is not the only possible use of
that conformance and client code could use it for other purposes in the
future.</p>

    <p>ä¸‹é¢çš„ä¾‹å­åˆ™æ›´å¾®å¦™ä¸€äº›ï¼Œä½†è¿™æ˜¯ä¸€ä¸ªæ³¨é‡Šæ— æ³•æ‹“å±•çš„ä¾‹å­ï¼Œå› ä¸ºè¿™ä¸ªæ‹“å±•æˆ–è€…ç±»å‹ä¸€è‡´æ€§åœ¨ä»¥åå¯èƒ½ä¼šå˜åŒ–ã€‚è¿™ä¸ª <code class="highlighter-rouge">Comparable</code> å¯èƒ½æ˜¯åœ¨ç¼–å†™å¯¹è¯¥ç±»å‹å€¼çš„æ’åºä»£ç æ—¶åŠ ä¸Šçš„ï¼Œä½†è¿™ä¸æ˜¯ä¸€è‡´æ€§çš„å”¯ä¸€å¯èƒ½ç”¨é€”ï¼Œå¹¶ä¸”ä½¿ç”¨è€…å¯èƒ½åœ¨ä»¥åå…¶ä»–ç”¨é€”ä»£ç é‡Œä¼šä¾èµ–å®ƒã€‚</p>

    <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">/// Make `Candidate` comparable so that they can be sorted.</span>
<span class="kd">extension</span> <span class="kt">Candidate</span><span class="p">:</span> <span class="kt">Comparable</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<p>In general, if you find yourself writing documentation that simply repeats
information that is obvious from the source and sugaring it with words like
â€œa representation of,â€ then leave the comment out entirely.</p>

<p>é€šå¸¸æ¥è¯´ï¼Œå¦‚æœä½ å‘ç°ä½ å†™çš„æ³¨é‡Šåªæ˜¯ç®€å•åœ°é‡å¤æºç ä¸­æ˜¾è€Œæ˜“è§çš„äº‹ï¼Œå¹¶ç”¨ç±»ä¼¼â€ç”¨äºè¡¨ç¤ºâ€çš„è¯è¯­è¿›è¡Œç¾åŒ–ï¼Œé‚£ä¹ˆå°†è¿™äº›æ³¨é‡Šå®Œå…¨å»æ‰ã€‚</p>

<p>However, it is <em>not</em> appropriate to cite this exception to justify omitting
relevant information that a typical reader might need to know. For example, for
a property named <code class="highlighter-rouge">canonicalName</code>, donâ€™t omit its documentation (with the
rationale that it would only say <code class="highlighter-rouge">/// The canonical name.</code>) if a typical reader
may have no idea what the term â€œcanonical nameâ€ means in that context. Use the
documentation as an opportunity to define the term.</p>

<p>ä½†æ˜¯ï¼Œ<em>ä¸</em>è¦ç”¨è¿™ä¸ªä¾‹å¤–æ¥è¯æ˜å¯ä»¥çœç•¥æŸäº›æ­£å¸¸è¯»è€…å¯èƒ½éœ€è¦çš„ç›¸å…³ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œå¯¹äº <code class="highlighter-rouge">canonicalName</code> åå­—çš„å±æ€§ï¼Œä¸è¦çœç•¥æ³¨é‡Šï¼ˆåªæœ‰åˆç†çš„æ—¶å€™æ‰å¯ä»¥åªå†™ <code class="highlighter-rouge">/// The canonical name.</code>ï¼‰ï¼Œå› ä¸ºæ­£å¸¸è¯»è€…å¯èƒ½ä¸çŸ¥é“æœ¯è¯­â€œè§„èŒƒåå­—â€åœ¨ä¸Šä¸‹æ–‡ä¸­çš„å«ä¹‰ã€‚ ä½¿ç”¨æ³¨é‡Šæ˜¯å®šä¹‰è¯¥æœ¯è¯­çš„å¥½æœºä¼šã€‚</p>

</article>

  </main>

  <footer class="site-footer">

  <div class="wrapper">

  </div>

</footer>


  <script src="https://swift.org/assets/javascripts/application.js"></script>
</body>

</html>
